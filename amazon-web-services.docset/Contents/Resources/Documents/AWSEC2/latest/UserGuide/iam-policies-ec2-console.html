<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Example Policies for Working in the Amazon EC2 Console - Amazon Elastic Compute Cloud</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="iam-policies-for-amazon-ec2.html" title="IAM Policies for Amazon EC2">
      <link rel="prev" href="ExamplePolicies_EC2.html" title="Example Policies for Working with the AWS CLI or an AWS
            SDK">
      <link rel="next" href="iam-roles-for-amazon-ec2.html" title="IAM Roles for Amazon EC2">
      <meta name="description" content="Learn how to grant IAM users permissions to view and work with specific resources in the Amazon EC2 console.">
      <meta name="keywords" content="EC2,Amazon EC2,EC2 instance,instance,VM,virtual machine">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="Amazon Elastic Compute Cloud">
      <meta name="guide" content="User Guide for Linux Instances">
      <meta name="guide-locale" content="en_us">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/iam-policies-ec2-console.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="http://aws.amazon.com/documentation">AWS Documentation</a> &#xBB; <a href="http://aws.amazon.com/documentation/ec2">Amazon EC2</a> &#xBB; <a href="index.html">User Guide for Linux Instances</a> &#xBB; <a href="EC2_Network_and_Security.html">Network and Security</a> &#xBB; <a href="UsingIAM.html">Controlling Access to Amazon EC2 Resources</a> &#xBB; <a href="iam-policies-for-amazon-ec2.html">IAM Policies for Amazon EC2</a> &#xBB; <span class="breadcrumb">Example Policies for Working in the Amazon EC2 Console</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div></div>
                     <h1 class="topictitle" id="iam-policies-ec2-console">Example Policies for Working in the Amazon EC2 Console</h1>
                     <p>You can use IAM policies to grant users permissions to view and work with
                        				specific resources in the Amazon EC2 console. You can use the example policies
                        in the
                        				previous section; however, they are designed for requests that are made with the
                        				AWS CLI or an AWS SDK. The console uses additional API actions for its features,
                        so
                        				these policies may not work as expected. For example, a user that has permission
                        to
                        				use only the <code class="code">DescribeVolumes</code> API action will encounter errors when
                        				trying to view volumes in the console. This section demonstrates policies that
                        				enable users to work with specific parts of the console.
                     </p>
                     <div class="highlights" id="inline-topiclist">
                        <p><strong>Topics</strong></p>
                        <ul>
                           <li><a href="#ex-read-only">1: Read-Only Access</a></li>
                           <li><a href="#ex-launch-wizard">2: Using the EC2 Launch Wizard</a></li>
                           <li><a href="#ex-volumes">3: Working with Volumes</a></li>
                           <li><a href="#ex-security-groups">4: Working with Security Groups</a></li>
                           <li><a href="#ex-eip">5: Working with Elastic IP Addresses</a></li>
                           <li><a href="#ex-reservedinstances">6: Working with Reserved Instances</a></li>
                        </ul>
                     </div>
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>To help you work out which API actions are required to perform tasks in the
                           					console, you can use a service such as AWS CloudTrail. For more information,
                           see the
                           					<a href="./awscloudtrail/latest/userguide/" target="_blank">AWS CloudTrail User Guide</a>. If your policy does not grant permission to create or modify a
                           					specific resource, the console displays an encoded message with diagnostic
                           					information. You can decode the message using the <a href="./STS/latest/APIReference/API_DecodeAuthorizationMessage.html" target="_blank">DecodeAuthorizationMessage</a> API action for AWS STS, or the <a href="./cli/latest/reference/sts/decode-authorization-message.html" target="_blank">decode-authorization-message</a> command in the AWS CLI.
                        </p>
                     </div>
                     <p>For additional information about creating policies for the Amazon EC2 console, see
                        the
                        				following AWS Security Blog post: <a href="https://aws.amazon.com/blogs/security/granting-users-permission-to-work-in-the-amazon-ec2-console/" target="_blank">Granting Users Permission to Work in the Amazon EC2 Console</a>.
                     </p>
                     				
                     <h2 id="ex-read-only">1: Read-Only Access</h2>
                     				
                     				
                     <p>To allow users to view all resources in the Amazon EC2 console, you can use the
                        					same policy as the following example: <a href="ExamplePolicies_EC2.html#iam-example-read-only">1: Read-Only Access</a>. Users cannot perform any actions on
                        					those resources or create new resources, unless another statement grants them
                        					permission to do so.
                     </p>
                     				
                     <p><b>a. View instances, AMIs, and snapshots</b></p>
                     				
                     <p>Alternatively, you can provide read-only access to a subset of resources. To
                        					do this, replace the * wildcard in the <code class="code">ec2:Describe</code> API action with
                        					specific <code class="code">ec2:Describe</code> actions for each resource. The following
                        					policy allows users to view all instances, AMIs, and snapshots in the Amazon
                        EC2
                        					console. The <code class="code">ec2:DescribeTags</code> action allows users to view public
                        					AMIs. The console requires the tagging information to display public AMIs;
                        					however, you can remove this action to allow users to view only private
                        					AMIs.
                     </p>
                     				<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
   &quot;Version&quot;: &quot;2012-10-17&quot;,
   &quot;Statement&quot;: [{
      &quot;Effect&quot;: &quot;Allow&quot;,
      &quot;Action&quot;: [
         &quot;ec2:DescribeInstances&quot;, &quot;ec2:DescribeImages&quot;,
         &quot;ec2:DescribeTags&quot;, &quot;ec2:DescribeSnapshots&quot;
      ],
      &quot;Resource&quot;: &quot;*&quot;
   }
   ]
}</code></pre>
                     				<div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>Currently, the Amazon EC2 <code class="code">ec2:Describe*</code> API actions do not support
                           						resource-level permissions, so you cannot control which individual resources
                           						users can view in the console. Therefore, the * wildcard is necessary in the
                           							<code class="code">Resource</code> element of the above statement. For more
                           						information about which ARNs you can use with which Amazon EC2 API actions,
                           see
                           							<a href="ec2-supported-iam-actions-resources.html">Supported Resource-Level Permissions for Amazon EC2 API Actions</a>. 
                        </p>
                     </div>
                     				
                     <p><b>b. View instances and CloudWatch metrics</b></p>
                     				
                     <p>The following policy allows users to view instances in the Amazon EC2 console, as
                        					well as CloudWatch alarms and metrics in the <b>Monitoring</b> tab of
                        					the <b>Instances</b> page. The Amazon EC2 console uses the CloudWatch API to
                        					display the alarms and metrics, so you must grant users permission to use the
                        						<code class="code">cloudwatch:DescribeAlarms</code> and
                        						<code class="code">cloudwatch:GetMetricStatistics</code> actions.
                     </p>
                     				<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
   &quot;Version&quot;: &quot;2012-10-17&quot;,
   &quot;Statement&quot;: [{
      &quot;Effect&quot;: &quot;Allow&quot;,
      &quot;Action&quot;: [
         &quot;ec2:DescribeInstances&quot;,
         &quot;cloudwatch:DescribeAlarms&quot;,
         &quot;cloudwatch:GetMetricStatistics&quot;
      ],
      &quot;Resource&quot;: &quot;*&quot;
   }
   ]
}</code></pre>
                     			
                     				<h2 id="ex-launch-wizard">2: Using the EC2 Launch Wizard</h2>
                     				
                     				
                     <p>The Amazon EC2 launch wizard is a series of screens with options to configure and
                        					launch an instance. Your policy must include permission to use the API actions
                        					that allow users to work with the wizard&apos;s options. If your policy does not
                        					include permission to use those actions, some items in the wizard cannot load
                        					properly, and users cannot complete a launch.
                     </p>
                     				
                     <p><b>a. Basic launch wizard access</b></p>
                     				
                     <p>To complete a launch successfully, users must be given permission to use the
                        						<code class="code">ec2:RunInstances</code> API action, and at least the following API
                        					actions:
                     </p>
                     				
                     <div class="itemizedlist">
                        					
                        					
                        					
                        					
                        					
                        				
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              						
                              <p><code class="code">ec2:DescribeImages</code>: To view and select an AMI. 
                              </p>
                              					
                           </li>
                           <li class="listitem">
                              						
                              <p><code class="code">ec2:DescribeVpcs</code>: To view the available network options, which are
                                 EC2-Classic and a list of VPCs. This is required even if you are not launching
                                 into a VPC.
                              </p>
                              					
                           </li>
                           <li class="listitem">
                              						
                              <p><code class="code">ec2:DescribeSubnets</code>: If launching into a VPC, to view all
                                 							available subnets for the chosen VPC. 
                              </p>
                              					
                           </li>
                           <li class="listitem">
                              						
                              <p><code class="code">ec2:DescribeSecurityGroups</code>: To view the security groups
                                 							page in the wizard. Users can select an existing security group. 
                              </p>
                              					
                           </li>
                           <li class="listitem">
                              						
                              <p><code class="code">ec2:DescribeKeyPairs</code> or <code class="code">ec2:CreateKeyPair</code>:
                                 							To select an existing key pair, or create a new one.
                              </p>
                              					
                           </li>
                        </ul>
                     </div>
                     				<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
   &quot;Version&quot;: &quot;2012-10-17&quot;,
   &quot;Statement&quot;: [{
      &quot;Effect&quot;: &quot;Allow&quot;,
      &quot;Action&quot;: [
		&quot;ec2:DescribeInstances&quot;, &quot;ec2:DescribeImages&quot;,
        &quot;ec2:DescribeKeyPairs&quot;,&quot;ec2:DescribeVpcs&quot;, &quot;ec2:DescribeSubnets&quot;, 
        &quot;ec2:DescribeSecurityGroups&quot;
      ],
      &quot;Resource&quot;: &quot;*&quot;
    },
    {
      &quot;Effect&quot;: &quot;Allow&quot;,
      &quot;Action&quot;: &quot;ec2:RunInstances&quot;,
      &quot;Resource&quot;: &quot;*&quot;
    }
   ]
}</code></pre>
                     				<p>You can add API actions to your policy to provide more options for users, for
                        					example:
                     </p>
                     				
                     <div class="itemizedlist">
                        					
                        					
                        					
                        					
                        				
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              						
                              <p><code class="code">ec2:DescribeAvailabilityZones</code>: If launching into
                                 							EC2-Classic, to view and select a specific Availability Zone.
                              </p>
                              					
                           </li>
                           <li class="listitem">
                              						
                              <p><code class="code">ec2:DescribeNetworkInterfaces</code>: If launching into a VPC,
                                 							to view and select existing network interfaces for the selected
                                 							subnet.
                              </p>
                              					
                           </li>
                           <li class="listitem">
                              						
                              <p><code class="code">ec2:CreateSecurityGroup</code>: To create a new security group;
                                 							for example, to create the wizard&apos;s suggested
                                 								<code class="code">launch-wizard-x</code> security group. However, this action
                                 							alone only creates the security group; it does not add or modify any
                                 							rules. To add inbound rules, users must be granted permission to use the
                                 								<code class="code">ec2:AuthorizeSecurityGroupIngress</code> API action. To add
                                 							outbound rules to VPC security groups, users must be granted permission
                                 							to use the <code class="code">ec2:AuthorizeSecurityGroupEgress</code> API action. To
                                 							modify or delete existing rules, users must be granted permission to use
                                 							the relevant <code class="code">ec2:RevokeSecurityGroup*</code> API action.
                              </p>
                              					
                           </li>
                           <li class="listitem">
                              						
                              <p><code class="code">ec2:CreateTags</code>: To tag the resources that are created by
                                 								<code class="code">RunInstances</code>. For more information, see <a href="ec2-supported-iam-actions-resources.html#supported-iam-actions-tagging">Resource-Level Permissions for Tagging</a>. If users do not
                                 							have permission to use this action and they attempt to apply tags on the
                                 							tagging page of the launch wizard, the launch fails.
                              </p>
                              						
                              <div class="aws-note">
                                 <p class="aws-note">Important</p>
                                 <p>Be careful about granting users permission to use the
                                    									<code class="code">ec2:CreateTags</code> action. This limits your ability to
                                    								use the <code class="code">ec2:ResourceTag</code> condition key to restrict the
                                    								use of other resources; users can change a resource&apos;s tag in order
                                    								to bypass those restrictions.
                                 </p>
                              </div>
                              					
                           </li>
                        </ul>
                     </div>
                     				
                     <p>Currently, the Amazon EC2 <code class="code">Describe*</code> API actions do not support
                        					resource-level permissions, so you cannot restrict which individual resources
                        					users can view in the launch wizard. However, you can apply resource-level
                        					permissions on the <code class="code">ec2:RunInstances</code> API action to restrict which
                        					resources users can use to launch an instance. The launch fails if users select
                        					options that they are not authorized to use. 
                     </p>
                     				
                     <p><b>b. Restrict access to specific instance type, subnet,
                           						and region</b></p>
                     				
                     <p>The following policy allows users to launch <code class="code">m1.small</code> instances
                        					using AMIs owned by Amazon, and only into a specific subnet
                        						(<code class="code">subnet-1a2b3c4d</code>). Users can only launch in the sa-east-1
                        					region. If users select a different region, or select a different instance type,
                        					AMI, or subnet in the launch wizard, the launch fails. 
                     </p>
                     				
                     <p>The first statement grants users permission to view the options in the launch
                        					wizard, as demonstrated in the example above. The second statement grants users
                        					permission to use the network interface, volume, key pair, security group, and
                        					subnet resources for the <code class="code">ec2:RunInstances</code> action, which are
                        					required to launch an instance into a VPC. For more information about using the
                        						<code class="code">ec2:RunInstances</code> action, see <a href="ExamplePolicies_EC2.html#iam-example-runinstances">6: Launching Instances (RunInstances)</a>. The third and fourth statements grant users permission to use the instance
                        					and AMI resources respectively, but only if the instance is an
                        						<code class="code">m1.small</code> instance, and only if the AMI is owned by
                        					Amazon.
                     </p>
                     				<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
   &quot;Version&quot;: &quot;2012-10-17&quot;,
   &quot;Statement&quot;: [{
      &quot;Effect&quot;: &quot;Allow&quot;,
      &quot;Action&quot;: [
         &quot;ec2:DescribeInstances&quot;, &quot;ec2:DescribeImages&quot;,
         &quot;ec2:DescribeKeyPairs&quot;,&quot;ec2:DescribeVpcs&quot;, &quot;ec2:DescribeSubnets&quot;, &quot;ec2:DescribeSecurityGroups&quot;
	  ],
	  &quot;Resource&quot;: &quot;*&quot;
   },
   {
      &quot;Effect&quot;: &quot;Allow&quot;,
      &quot;Action&quot;:&quot;ec2:RunInstances&quot;,
      &quot;Resource&quot;: [
         &quot;arn:aws:ec2:sa-east-1:111122223333:network-interface/*&quot;,
         &quot;arn:aws:ec2:sa-east-1:111122223333:volume/*&quot;,
         &quot;arn:aws:ec2:sa-east-1:111122223333:key-pair/*&quot;,
         &quot;arn:aws:ec2:sa-east-1:111122223333:security-group/*&quot;,
         &quot;arn:aws:ec2:sa-east-1:111122223333:subnet/subnet-1a2b3c4d&quot;
      ]
   },
   {
      &quot;Effect&quot;: &quot;Allow&quot;,
      &quot;Action&quot;: &quot;ec2:RunInstances&quot;,
      &quot;Resource&quot;: [
         &quot;arn:aws:ec2:sa-east-1:111122223333:instance/*&quot;
      ],
      &quot;Condition&quot;: {
         &quot;StringEquals&quot;: {
            &quot;ec2:InstanceType&quot;: &quot;m1.small&quot;
         }
      }
   },
   {
      &quot;Effect&quot;: &quot;Allow&quot;,
      &quot;Action&quot;: &quot;ec2:RunInstances&quot;,
      &quot;Resource&quot;: [ 
            &quot;arn:aws:ec2:sa-east-1::image/ami-*&quot;
      ],
      &quot;Condition&quot;: {
         &quot;StringEquals&quot;: {
            &quot;ec2:Owner&quot;: &quot;amazon&quot;
         }
      }
   }
   ]
}</code></pre>
                     			
                     				<h2 id="ex-volumes">3: Working with Volumes</h2>
                     				
                     				
                     <p>The following policy grants users permission to view and create volumes, and
                        					attach and detach volumes to specific instances. 
                     </p>
                     				
                     <p>Users can attach any volume to instances that have the tag
                        						&quot;<code class="code">purpose=test</code>&quot;, and also detach volumes from those instances.
                        					To attach a volume using the Amazon EC2 console, it is helpful for users to have
                        					permission to use the <code class="code">ec2:DescribeInstances</code> action, as this allows
                        					them to select an instance from a pre-populated list in the <b>Attach
                           						Volume</b> dialog box. However, this also allows users to view all
                        					instances on the <b>Instances</b> page in the console, so you can
                        					omit this action.
                     </p>
                     				
                     <p>In the first statement, the <code class="code">ec2:DescribeAvailabilityZones</code> action is necessary
                        to ensure that a user can select an Availability Zone when creating a volume.
                     </p>
                     
                     <p>Users cannot tag the volumes that they create (either during or after volume
                        creation).
                     </p>
                     				<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
   &quot;Version&quot;: &quot;2012-10-17&quot;,
   &quot;Statement&quot;: [{
      &quot;Effect&quot;: &quot;Allow&quot;,
      &quot;Action&quot;: [
        &quot;ec2:DescribeVolumes&quot;,
        &quot;ec2:DescribeAvailabilityZones&quot;,
        &quot;ec2:CreateVolume&quot;,
        &quot;ec2:DescribeInstances&quot;
      ],
      &quot;Resource&quot;: &quot;*&quot;
    },
    {
      &quot;Effect&quot;: &quot;Allow&quot;,
      &quot;Action&quot;: [
        &quot;ec2:AttachVolume&quot;,
        &quot;ec2:DetachVolume&quot;
      ],
      &quot;Resource&quot;: &quot;arn:aws:ec2:<em>region</em>:111122223333:instance/*&quot;,
      &quot;Condition&quot;: {
        &quot;StringEquals&quot;: {
          &quot;ec2:ResourceTag/purpose&quot;: &quot;test&quot;
        }
     }
   },
   {
      &quot;Effect&quot;: &quot;Allow&quot;,
      &quot;Action&quot;: [
        &quot;ec2:AttachVolume&quot;,
        &quot;ec2:DetachVolume&quot;
      ],
      &quot;Resource&quot;: &quot;arn:aws:ec2:<em>region</em>:111122223333:volume/*&quot;
   }    
   ]
}</code></pre>
                     			
                     				<h2 id="ex-security-groups">4: Working with Security Groups</h2>
                     				
                     				
                     <p><b>a. View security groups and add and remove
                           						rules</b></p>
                     				
                     <p>The following policy grants users permission to view security groups in the
                        					Amazon EC2 console, and to add and remove inbound and outbound rules for existing
                        					security groups that have the tag <code class="code">Department=Test</code>.
                     </p>
                     				
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>You can&apos;t modify outbound rules for EC2-Classic security groups. For
                           					    more information about security groups, see <a href="using-network-security.html">Amazon EC2 Security Groups for <span>Linux</span> Instances</a>.
                        </p>
                     </div>
                     				
                     <p>In the first statement, the <code class="code">ec2:DescribeTags</code> action allows
                        					users to view tags in the console, which makes it easier for users to identify
                        					the security groups that they are allowed to modify.
                     </p>
                     				<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
   &quot;Version&quot;: &quot;2012-10-17&quot;,
   &quot;Statement&quot;: [{
      &quot;Effect&quot;: &quot;Allow&quot;,
      &quot;Action&quot;: [
         &quot;ec2:DescribeSecurityGroups&quot;, &quot;ec2:DescribeTags&quot;
      ],
      &quot;Resource&quot;: &quot;*&quot;
    },
    {
      &quot;Effect&quot;: &quot;Allow&quot;,
      &quot;Action&quot;: [
         &quot;ec2:AuthorizeSecurityGroupIngress&quot;, &quot;ec2:RevokeSecurityGroupIngress&quot;,
         &quot;ec2:AuthorizeSecurityGroupEgress&quot;, &quot;ec2:RevokeSecurityGroupEgress&quot;
      ],
      &quot;Resource&quot;: [
         &quot;arn:aws:ec2:<em>region</em>:111122223333:security-group/*&quot;
      ],
      &quot;Condition&quot;: {
         &quot;StringEquals&quot;: {
            &quot;ec2:ResourceTag/Department&quot;: &quot;Test&quot;
         }
      }
   }
   ]
}</code></pre>
                     				<p><b>b. Working with the Create Security Group dialog
                           						box</b></p>
                     				
                     <p>You can create a policy that allows users to work with the <b>Create
                           						Security Group</b> dialog box in the Amazon EC2 console. To use this
                        					dialog box, users must be granted permission to use at the least the following
                        					API actions:
                     </p>
                     				
                     <div class="itemizedlist">
                        					
                        					
                        				
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              						
                              <p><code class="code">ec2:CreateSecurityGroup</code>: To create a new security group.
                                 						
                              </p>
                              					
                           </li>
                           <li class="listitem">
                              						
                              <p><code class="code">ec2:DescribeVpcs</code>: To view a list of existing VPCs in the
                                 								<b>VPC</b> list. This action is not required for
                                 							creating security groups in EC2-Classic.
                              </p>
                              					
                           </li>
                        </ul>
                     </div>
                     				
                     <p>With these permissions, users can create a new security group successfully,
                        					but they cannot add any rules to it. To work with rules in the <b>Create
                           						Security Group</b> dialog box, you can add the following API actions
                        					to your policy:
                     </p>
                     				
                     <div class="itemizedlist">
                        					
                        					
                        					
                        					
                        					
                        				
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              						
                              <p><code class="code">ec2:AuthorizeSecurityGroupIngress</code>: To add inbound
                                 							rules.
                              </p>
                              					
                           </li>
                           <li class="listitem">
                              						
                              <p><code class="code">ec2:AuthorizeSecurityGroupEgress</code>: To add outbound rules
                                 							to VPC security groups.
                              </p>
                              					
                           </li>
                           <li class="listitem">
                              						
                              <p><code class="code">ec2:RevokeSecurityGroupIngress</code>: To modify or delete
                                 							existing inbound rules. This is useful to allow users to use the
                                 								<b>Copy to new</b> feature in the console. This
                                 							feature opens the <b>Create Security Group</b> dialog box
                                 							and populates it with the same rules as the security group that was
                                 							selected. 
                              </p>
                              					
                           </li>
                           <li class="listitem">
                              						
                              <p><code class="code">ec2:RevokeSecurityGroupEgress</code>: To modify or delete
                                 							outbound rules for VPC security groups. This is useful to allow users to
                                 							modify or delete the default outbound rule that allows all outbound
                                 							traffic.
                              </p>
                              					
                           </li>
                           <li class="listitem">
                              						
                              <p><code class="code">ec2:DeleteSecurityGroup</code>: To cater for when invalid rules
                                 							cannot be saved. The console first creates the security group, and then
                                 							adds the specified rules. If the rules are invalid, the action fails,
                                 							and the console attempts to delete the security group. The user remains
                                 							in the <b>Create Security Group</b> dialog box so that
                                 							they can correct the invalid rule and try to create the security group
                                 							again. This API action is not required, but if a user is not granted
                                 							permission to use it and attempts to create a security group with
                                 							invalid rules, the security group is created without any rules, and the
                                 							user must add them afterward.
                              </p>
                              					
                           </li>
                        </ul>
                     </div>
                     				
                     <p>Currently, the <code class="code">ec2:CreateSecurityGroup</code> API action does not
                        					support resource-level permissions; however, you can apply resource-level
                        					permissions to the <code class="code">ec2:AuthorizeSecurityGroupIngress</code> and
                        						<code class="code">ec2:AuthorizeSecurityGroupEgress</code> actions to control how users
                        					can create rules.
                     </p>
                     				
                     <p>The following policy grants users permission to use the <b>Create
                           						Security Group</b> dialog box, and to create inbound and outbound
                        					rules for security groups that are associated with a specific VPC
                        						(<code class="code">vpc-1a2b3c4d</code>). Users can create security groups for
                        					EC2-Classic or another VPC, but they cannot add any rules to them. Similarly,
                        					users cannot add any rules to any existing security group that&apos;s not associated
                        					with VPC <code class="code">vpc-1a2b3c4d</code>. Users are also granted permission to view
                        					all security groups in the console. This makes it easier for users to identify
                        					the security groups to which they can add inbound rules. This policy also grants
                        					users permission to delete security groups that are associated with VPC
                        						<code class="code">vpc-1a2b3c4d</code>. 
                     </p>
                     				<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
   &quot;Version&quot;: &quot;2012-10-17&quot;,
   &quot;Statement&quot;: [{
      &quot;Effect&quot;: &quot;Allow&quot;,
      &quot;Action&quot;: [
        &quot;ec2:DescribeSecurityGroups&quot;, &quot;ec2:CreateSecurityGroup&quot;, &quot;ec2:DescribeVpcs&quot;
      ],
      &quot;Resource&quot;: &quot;*&quot;
    },
    {
      &quot;Effect&quot;: &quot;Allow&quot;,
      &quot;Action&quot;: [
        &quot;ec2:DeleteSecurityGroup&quot;, &quot;ec2:AuthorizeSecurityGroupIngress&quot;, &quot;ec2:AuthorizeSecurityGroupEgress&quot;
      ],
      &quot;Resource&quot;: &quot;arn:aws:ec2:<em>region</em>:111122223333:security-group/*&quot;,
      &quot;Condition&quot;:{
         &quot;ArnEquals&quot;: {
            &quot;ec2:Vpc&quot;: &quot;arn:aws:ec2:<em>region</em>:111122223333:vpc/vpc-1a2b3c4d&quot;
         }
      }
    }
   ]
}</code></pre>
                     			
                     				<h2 id="ex-eip">5: Working with Elastic IP Addresses</h2>
                     				
                     				
                     <p>To allow users to view Elastic IP addresses in the Amazon EC2 console, you must
                        					grant users permission to use the <code class="code">ec2:DescribeAddresses</code>
                        					action.
                     </p>
                     				
                     <p>To allow users to work with Elastic IP addresses, you can add the following
                        					actions to your policy.
                     </p>
                     				
                     <div class="itemizedlist">
                        					
                        					
                        					
                        					
                        					
                        				
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              						
                              <p><code class="code">ec2:AllocateAddress</code>: To allocate an address for use in
                                 							VPC or EC2-Classic.
                              </p>
                              					
                           </li>
                           <li class="listitem">
                              						
                              <p><code class="code">ec2:ReleaseAddress</code>: To release an Elastic IP
                                 							address.
                              </p>
                              					
                           </li>
                           <li class="listitem">
                              						
                              <p><code class="code">ec2:AssociateAddress</code>: To associate an Elastic IP address
                                 							with an instance or a network interface.
                              </p>
                              					
                           </li>
                           <li class="listitem">
                              						
                              <p><code class="code">ec2:DescribeNetworkInterfaces</code> and
                                 								<code class="code">ec2:DescribeInstances</code>: To work with the
                                 								<b>Associate address</b> screen. The screen displays
                                 							the available instances or network interfaces to which you can associate
                                 							an Elastic IP address. For an EC2-Classic instance, users only need
                                 							permission to use <code class="code">ec2:DescribeInstances</code>.
                              </p>
                              					
                           </li>
                           <li class="listitem">
                              						
                              <p><code class="code">ec2:DisassociateAddress</code>: To disassociate an Elastic IP
                                 							address from an instance or a network interface.
                              </p>
                              					
                           </li>
                        </ul>
                     </div>
                     				
                     <p>The following policy allows users to view, allocate, and associate Elastic IP
                        					addresses with instances. Users cannot associate Elastic IP addresses with
                        					network interfaces, disassociate Elastic IP addresses, or release them.
                     </p>
                     				<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
    &quot;Version&quot;: &quot;2012-10-17&quot;,
    &quot;Statement&quot;: [
        {
            &quot;Effect&quot;: &quot;Allow&quot;,
            &quot;Action&quot;: [
                &quot;ec2:DescribeAddresses&quot;,
                &quot;ec2:AllocateAddress&quot;,
                &quot;ec2:DescribeInstances&quot;,
                &quot;ec2:AssociateAddress&quot;
            ],
            &quot;Resource&quot;: &quot;*&quot;
        }
    ]
}</code></pre>
                     			
                     				<h2 id="ex-reservedinstances">6: Working with Reserved Instances</h2>
                     				
                     				
                     <p>The following policy can be attached to an IAM user. It gives the user access
                        					to view and modify Reserved Instances in your account, as well as purchase new
                        					Reserved Instances in the AWS Management Console.
                     </p>
                     				
                     <p>This policy allows users to view all the Reserved Instances, as well as
                        					On-Demand Instances, in the account. It&apos;s not possible to set resource-level
                        					permissions for individual Reserved Instances.
                     </p>
                     				<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
   &quot;Version&quot;: &quot;2012-10-17&quot;,
   &quot;Statement&quot;: [{
      &quot;Effect&quot;: &quot;Allow&quot;,
      &quot;Action&quot;: [
         &quot;ec2:DescribeReservedInstances&quot;, &quot;ec2:ModifyReservedInstances&quot;,
         &quot;ec2:PurchaseReservedInstancesOffering&quot;, &quot;ec2:DescribeInstances&quot;,
         &quot;ec2:DescribeAvailabilityZones&quot;, &quot;ec2:DescribeReservedInstancesOfferings&quot;
      ],
      &quot;Resource&quot;: &quot;*&quot;
   }
   ]
}</code></pre>
                     				<p> The <code class="code">ec2:DescribeAvailabilityZones</code> action is necessary to ensure
                        					that the Amazon EC2 console can display information about the Availability Zones
                        in
                        					which you can purchase Reserved Instances. The
                        						<code class="code">ec2:DescribeInstances</code> action is not required, but ensures that
                        					the user can view the instances in the account and purchase reservations to
                        					match the correct specifications.
                     </p>
                     
                     				
                     <p>You can adjust the API actions to limit user access, for example removing
                        						<code class="code">ec2:DescribeInstances</code> and
                        						<code class="code">ec2:DescribeAvailabilityZones</code> means the user has read-only
                        					access.
                     </p>
                     			
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="ExamplePolicies_EC2.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="iam-roles-for-amazon-ec2.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="1: Read-Only Access"><a class="pagetoc" href="#ex-read-only">1: Read-Only Access</a></li>
                        <li class="pagetoc" name="2: Using the EC2 Launch Wizard"><a class="pagetoc" href="#ex-launch-wizard">2: Using the EC2 Launch Wizard</a></li>
                        <li class="pagetoc" name="3: Working with Volumes"><a class="pagetoc" href="#ex-volumes">3: Working with Volumes</a></li>
                        <li class="pagetoc" name="4: Working with Security Groups"><a class="pagetoc" href="#ex-security-groups">4: Working with Security Groups</a></li>
                        <li class="pagetoc" name="5: Working with Elastic IP Addresses"><a class="pagetoc" href="#ex-eip">5: Working with Elastic IP Addresses</a></li>
                        <li class="pagetoc" name="6: Working with Reserved Instances"><a class="pagetoc" href="#ex-reservedinstances">6: Working with Reserved Instances</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='Amazon Elastic Compute Cloud';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='User Guide for Linux Instances';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>