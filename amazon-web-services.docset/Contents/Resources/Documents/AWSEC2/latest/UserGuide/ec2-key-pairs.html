<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Amazon EC2 Key Pairs - Amazon Elastic Compute Cloud</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="EC2_Network_and_Security.html" title="Network and Security">
      <link rel="prev" href="EC2_Network_and_Security.html" title="Network and Security">
      <link rel="next" href="using-network-security.html" title="Amazon EC2 Security Groups for Linux Instances">
      <meta name="description" content="Use public-key cryptography pairs to encrypt and decrypt login information for your Amazon EC2 instance.">
      <meta name="keywords" content="EC2,Amazon EC2,EC2 instance,instance,VM,virtual machine">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="Amazon Elastic Compute Cloud">
      <meta name="guide" content="User Guide for Linux Instances">
      <meta name="guide-locale" content="en_us">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="http://aws.amazon.com/documentation">AWS Documentation</a> &#xBB; <a href="http://aws.amazon.com/documentation/ec2">Amazon EC2</a> &#xBB; <a href="index.html">User Guide for Linux Instances</a> &#xBB; <a href="EC2_Network_and_Security.html">Network and Security</a> &#xBB; <span class="breadcrumb">Amazon EC2 Key Pairs</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div></div>
                     <h1 class="topictitle" id="ec2-key-pairs">Amazon EC2 Key Pairs</h1>
                     <p>Amazon EC2 uses public&#x2013;key cryptography to encrypt and decrypt login information.
                        Public&#x2013;key cryptography uses a public key to encrypt a piece of data, such as a password,
                        then the recipient uses the private key to decrypt the data. The public and private
                        keys are
                        known as a <em>key pair</em>.
                     </p>
                     <p>To log in to your instance, you must create a key pair, specify the name of the key
                        pair
                        		when you launch the instance, and provide the private key when you connect to the
                        instance.
                        			<span>On a Linux instance, the public key content is placed in an entry
                           			within <code>~/.ssh/authorized_keys</code>. This is done at boot time and
                           			enables you to securely access your instance using the private key instead of a
                           			password.</span></p>
                     
                     <p class="title"><b>Creating a Key Pair</b></p>
                     
                     <p>You can use Amazon EC2 to create your key pair. For more information, see <a href="ec2-key-pairs.html#having-ec2-create-your-key-pair">Creating a Key Pair Using Amazon EC2</a>.
                     </p>
                     
                     <p>Alternatively, you could use a third-party tool and then import the public key to
                        Amazon EC2. For
                        more information, see <a href="ec2-key-pairs.html#how-to-generate-your-own-key-and-import-it-to-aws">Importing Your Own Public Key to Amazon EC2</a>.
                     </p>
                     <p>Each key pair requires a name. Be sure to choose a name that is easy to remember.
                        Amazon EC2
                        associates the public key with the name that you specify as the key name.
                     </p>
                     <p>Amazon EC2 stores the public key only, and you store the private key. Anyone who possesses
                        your
                        private key can decrypt your login information, so it&apos;s important that you store your
                        private
                        keys in a secure place.
                     </p>
                     <p>The keys that Amazon EC2 uses are 2048-bit SSH-2 RSA keys. You can have up to five
                        thousand key
                        pairs per region.
                     </p>
                     
                     <p class="title"><b>Launching and Connecting to Your Instance</b></p>
                     
                     <p>When you launch an instance, you should specify the name of the key pair you plan
                        to use
                        to connect to the instance. If you don&apos;t specify the name of an existing key pair
                        when you
                        launch an instance, you won&apos;t be able to connect to the instance. When you connect
                        to the
                        instance, you must specify the private key that corresponds to the key pair you specified
                        when
                        you launched the instance.
                     </p>
                     
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>Amazon EC2 doesn&apos;t keep a copy of your private key; therefore, if you
                           			lose a private key, there is no way to recover it. If you lose the private key
                           for an
                           			instance store-backed instance, you can&apos;t access the instance; you should terminate
                           the
                           			instance and launch another instance using a new key pair. If you lose the private
                           key
                           			for an EBS-backed Linux instance, you can regain access to your instance. For more
                           			information, see <a href="ec2-key-pairs.html#replacing-lost-key-pair">Connecting to Your Linux Instance if You Lose Your Private Key</a>.
                        </p>
                     </div>
                     
                     <p class="title"><b>Key Pairs for Multiple Users</b></p>
                     
                     <p>If you have several users that require access to a single instance, you can add user
                        accounts to your instance. For more information, see <a href="managing-users.html">Managing User Accounts on Your Linux Instance</a>. You can create a key pair for each user, and add the
                        public key information from each key pair to the <code>.ssh/authorized_keys</code> file for
                        each user on your instance. You can then distribute the private key files to your
                        users. That
                        way, you do not have to distribute the same private key file that&apos;s used for the root
                        account
                        to multiple users. 
                     </p>
                     
                     <div class="highlights" id="inline-topiclist">
                        <p><strong>Contents</strong></p>
                        <ul>
                           <li><a href="#having-ec2-create-your-key-pair">Creating a Key Pair Using Amazon EC2</a></li>
                           <li><a href="#how-to-generate-your-own-key-and-import-it-to-aws">Importing Your Own Public Key to Amazon EC2</a></li>
                           <li><a href="#retrieving-the-public-key">Retrieving the Public Key for Your Key Pair on Linux</a></li>
                           <li><a href="#retrieving-the-public-key-windows">Retrieving the Public Key for Your Key Pair on Windows</a></li>
                           <li><a href="#retrieving-the-public-key-instance">Retrieving the Public Key for Your Key Pair From Your Instance</a></li>
                           <li><a href="#verify-key-pair-fingerprints">Verifying Your Key Pair&apos;s Fingerprint</a></li>
                           <li><a href="#delete-key-pair">Deleting Your Key Pair</a></li>
                           <li><a href="#replacing-key-pair">Adding or Replacing a Key Pair for Your Instance</a></li>
                           <li><a href="#replacing-lost-key-pair">Connecting to Your Linux Instance if You Lose Your Private Key</a></li>
                        </ul>
                     </div>
                     
                     <h2 id="having-ec2-create-your-key-pair">Creating a Key Pair Using Amazon EC2</h2>
                     
                     
                     <p>You can create a key pair using the Amazon EC2 console or the command line. After
                        you create a
                        key pair, you can specify it when you launch your instance.<span> You can also
                           add the key pair to a running instance to enable another user to connect to the instance.
                           For more information, see <a href="ec2-key-pairs.html#replacing-key-pair">Adding or Replacing a Key Pair for Your Instance</a>.</span></p>
                     
                     
                     <p class="title"><b>To create your key pair using the Amazon EC2 console</b></p>
                     <ol>
                        <li> 
                           <p>Open the Amazon EC2 console at
                              <a href="https://console.aws.amazon.com/ec2/" target="_blank">https://console.aws.amazon.com/ec2/</a>.
                           </p> 
                        </li>
                        <li>
                           
                           <p>In the navigation pane, under <b>NETWORK &amp; SECURITY</b>, choose
                              <b>Key Pairs</b>.
                           </p>
                           
                           <div class="aws-note">
                              <p class="aws-note">Note</p>
                              <p>The navigation pane is on the left side of the Amazon EC2 console. If you do not see
                                 the
                                 pane, it might be minimized; choose the arrow to expand the pane. 
                              </p>
                           </div>
                           
                        </li>
                        <li>
                           
                           <p>Choose <b>Create Key Pair</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Enter a name for the new key pair in the <b>Key pair name</b> field of
                              the <b>Create Key Pair</b> dialog box, and then choose
                              <b>Create</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>The private key file is automatically downloaded by your browser. The base file name
                              is the name you specified as the name of your key pair, and the file name extension
                              is
                              <code>.pem</code>. Save the private key file in a safe place.
                           </p>
                           
                           <div class="aws-note">
                              <p class="aws-note">Important</p>
                              <p>This is the only chance for you to save the private key file. You&apos;ll need to
                                 provide the name of your key pair when you launch an instance and the corresponding
                                 private key each time you connect to the instance.
                              </p>
                           </div>
                           
                        </li>
                        <li>
                           
                           <p>If you will use an SSH client on a Mac or Linux computer to connect to your Linux
                              instance, use the following command to set the permissions of your private key file
                              so
                              that only you can read it.
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><strong class="userinput"><code>chmod 400 <em class="replaceable"><code>my-key-pair</code></em>.pem</code></strong></code></pre>
                           </li>
                     </ol>
                     
                     
                     <div class="itemizedlist">
                        
                        <p class="title"><b>To create your key pair using the command line</b></p>
                        
                        <p>You can use one of the following commands. For more information about these command
                           line
                           interfaces, see <a href="concepts.html#access-ec2">Accessing Amazon EC2</a>.
                        </p>
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p><a href="./cli/latest/reference/ec2/create-key-pair.html" target="_blank">create-key-pair</a>
                                 (AWS CLI)
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p><a href="./powershell/latest/reference/items/New-EC2KeyPair.html" target="_blank">New-EC2KeyPair</a>
                                 (AWS Tools for Windows PowerShell)
                              </p>
                              
                           </li>
                        </ul>
                     </div>
                     
                     
                     
                     <h2 id="how-to-generate-your-own-key-and-import-it-to-aws">Importing Your Own Public Key to Amazon EC2</h2>
                     
                     
                     <p>Instead of using Amazon EC2 to create your key pair, you can create an RSA key pair
                        using a
                        third-party tool and then import the public key to Amazon EC2. For example, you can
                        use
                        <b>ssh-keygen</b> (a tool provided with the standard OpenSSH installation) to
                        create a key pair. Alternatively, Java, Ruby, Python, and many other programming languages
                        provide standard libraries that you can use to create an RSA key pair.
                     </p>
                     
                     <p>Amazon EC2 accepts the following formats:</p>
                     
                     <div class="itemizedlist">
                        
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p>OpenSSH public key format <span>(the format in
                                    <code>~/.ssh/authorized_keys</code>)</span></p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>Base64 encoded DER format</p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>SSH public key file format as specified in <a href="http://tools.ietf.org/html/rfc4716" target="_blank">RFC4716</a></p>
                              
                           </li>
                        </ul>
                     </div>
                     
                     <p>Amazon EC2 does not accept DSA keys. Make sure your key generator is set up to create
                        RSA
                        keys.
                     </p>
                     
                     <p>Supported lengths: 1024, 2048, and 4096.</p>
                     
                     
                     <p class="title"><b>To create a key pair using a third-party tool</b></p>
                     <ol>
                        <li>
                           
                           <p>Generate a key pair with a third-party tool of your choice.</p>
                           
                        </li>
                        <li>
                           
                           <p>Save the public key to a local file. For example, <span><code>~/.ssh/my-key-pair.pub</code> (Linux) or </span>
                              <code>C:\keys\my-key-pair.pub</code><span> (Windows)</span>. The
                              file name extension for this file is not important.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Save the private key to a different local file that has the <code>.pem</code>
                              extension. For example, <span><code>~/.ssh/my-key-pair.pem</code>
                                 (Linux) or</span>
                              <code>C:\keys\my-key-pair.pem</code><span> (Windows)</span>. Save
                              the private key file in a safe place. You&apos;ll need to provide the name of your key
                              pair
                              when you launch an instance and the corresponding private key each time you connect
                              to the
                              instance.
                           </p>
                           
                        </li>
                     </ol>
                     
                     
                     <p>Use the following steps to import your key pair using the Amazon EC2 console.</p>
                     
                     
                     <p class="title"><b>To import the public key</b></p>
                     <ol>
                        <li> 
                           <p>Open the Amazon EC2 console at
                              <a href="https://console.aws.amazon.com/ec2/" target="_blank">https://console.aws.amazon.com/ec2/</a>.
                           </p> 
                        </li>
                        <li>
                           
                           <p>In the navigation pane, under <b>NETWORK &amp; SECURITY</b>, choose
                              <b>Key Pairs</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Choose <b>Import Key Pair</b>. 
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>In the <b>Import Key Pair</b> dialog box, choose
                              <b>Browse</b>, and select the public key file that you saved previously.
                              Enter a name for the key pair in the <b>Key pair name</b> field, and choose
                              <b>Import</b>.
                           </p>
                           
                        </li>
                     </ol>
                     
                     <div class="itemizedlist">
                        
                        <p class="title"><b>To import the public key using the command line</b></p>
                        
                        <p>You can use one of the following commands. For more information about these command
                           line
                           interfaces, see <a href="concepts.html#access-ec2">Accessing Amazon EC2</a>.
                        </p>
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p><a href="./cli/latest/reference/ec2/import-key-pair.html" target="_blank">import-key-pair</a>
                                 (AWS CLI)
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p><a href="./powershell/latest/reference/items/Import-EC2KeyPair.html" target="_blank">Import-EC2KeyPair</a>
                                 (AWS Tools for Windows PowerShell)
                              </p>
                              
                           </li>
                        </ul>
                     </div>
                     
                     
                     <p>After the public key file is imported, you can verify that the key pair was imported
                        successfully using the Amazon EC2 console as follows. 
                     </p>
                     
                     <p class="title"><b>To verify that your key pair was imported</b></p>
                     <ol>
                        <li> 
                           <p>Open the Amazon EC2 console at
                              <a href="https://console.aws.amazon.com/ec2/" target="_blank">https://console.aws.amazon.com/ec2/</a>.
                           </p> 
                        </li>
                        <li>
                           
                           <p>From the navigation bar, select the region in which you created the key pair.</p>
                           
                        </li>
                        <li>
                           
                           <p>In the navigation pane, under <b>NETWORK &amp; SECURITY</b>, choose
                              <b>Key Pairs</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Verify that the key pair that you imported is in the displayed list of key
                              pairs.
                           </p>
                           
                        </li>
                     </ol>
                     
                     <div class="itemizedlist">
                        
                        <p class="title"><b>To view your key pair using the command line</b></p>
                        
                        <p>You can use one of the following commands. For more information about these command
                           line
                           interfaces, see <a href="concepts.html#access-ec2">Accessing Amazon EC2</a>.
                        </p>
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p><a href="./cli/latest/reference/ec2/describe-key-pairs.html" target="_blank">describe-key-pairs</a>
                                 (AWS CLI)
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p><a href="./powershell/latest/reference/items/Get-EC2KeyPair.html" target="_blank">Get-EC2KeyPair</a>
                                 (AWS Tools for Windows PowerShell)
                              </p>
                              
                           </li>
                        </ul>
                     </div>
                     
                     
                     
                     <h2 id="retrieving-the-public-key">Retrieving the Public Key for Your Key Pair on Linux</h2>
                     
                     
                     <p>On your local Linux or Mac computer, you can use the <b>ssh-keygen</b> command to
                        			retrieve the public key for your key pair.
                     </p>
                     	
                     <p class="title"><b>To retrieve the public key from your computer</b></p>
                     <ol>
                        <li> 
                           <p>Use the <b>ssh-keygen</b> command on a computer to which you&apos;ve downloaded your
                              					private key:
                           </p>
                           			<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><strong class="userinput"><code>ssh-keygen -y</code></strong></code></pre></li>
                        <li> 
                           <p>When prompted to enter the file in which the key is, specify the path to your
                              			<code>.pem</code> file; for example:
                           </p>
                           			<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">/<em class="replaceable"><code>path_to_key_pair</code></em>/<em class="replaceable"><code>my-key-pair.pem</code></em></code></pre></li>
                        <li>
                           <p>The command returns the public key: </p>
                           			<pre class="programlisting"><div class="code-btn-container"><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQClKsfkNkuSevGj3eYhCe53pcjqP3maAhDFcvBS7O6V
hz2ItxCih+PnDSUaw+WNQn/mZphTk/a/gU8jEzoOWbkM4yxyb/wB96xbiFveSFJuOp/d6RJhJOI0iBXr
lsLnBItntckiJ7FbtxJMXLvvwJryDUilBMTjYtwB+QhYXUMOzce5Pjz5/i8SeJtjnV3iAoG/cQk+0FzZ
qaeJAAHco+CY/5WrUBkrHmFJr6HcXkvJdWPkYQS3xqC0+FmUZofz221CBt5IMucxXPkX4rWi+z7wB3Rb
BQoQzd8v7yeb7OzlPnWOyN0qFU0XA246RA8QFYiCNYwI3f05p6KLxEXAMPLE</code></pre>
                           			<p>If this command fails, ensure that you&apos;ve changed the permissions on your key pair
                              file so
                              				that only you can view it by running the following command:
                           </p>
                           			<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><strong class="userinput"><code>chmod 400 <em class="replaceable"><code>my-key-pair</code></em>.pem</code></strong></code></pre>
                           		</li>
                     </ol>
                     
                     
                     <h2 id="retrieving-the-public-key-windows">Retrieving the Public Key for Your Key Pair on Windows</h2>
                     
                     
                     <p>On your local Windows computer, you can use PuTTYgen to get the public key for your
                        key
                        			pair. 
                     </p>
                     		
                     <p>Start PuTTYgen, choose <b>Load</b>, and select the
                        				<code>.ppk</code> or <code>.pem</code> file. PuTTYgen displays the
                        			public key.
                     </p>  
                     
                     	  
                     <h2 id="retrieving-the-public-key-instance">Retrieving the Public Key for Your Key Pair From Your Instance</h2>
                     		
                     		
                     <p>The public key that you specified when you launched an instance is also available
                        to you
                        			through its instance metadata. To view the public key that you specified when launching
                        the
                        			instance, use the following command from your instance:
                     </p>
                     		<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">[ec2-user ~]$ </code><strong class="userinput"><code>curl http://169.254.169.254/latest/meta-data/public-keys/0/openssh-key</code></strong></code></pre>
                     		
                     		<pre class="programlisting"><div class="code-btn-container"><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQClKsfkNkuSevGj3eYhCe53pcjqP3maAhDFcvBS7O6V
hz2ItxCih+PnDSUaw+WNQn/mZphTk/a/gU8jEzoOWbkM4yxyb/wB96xbiFveSFJuOp/d6RJhJOI0iBXr
lsLnBItntckiJ7FbtxJMXLvvwJryDUilBMTjYtwB+QhYXUMOzce5Pjz5/i8SeJtjnV3iAoG/cQk+0FzZ
qaeJAAHco+CY/5WrUBkrHmFJr6HcXkvJdWPkYQS3xqC0+FmUZofz221CBt5IMucxXPkX4rWi+z7wB3Rb
BQoQzd8v7yeb7OzlPnWOyN0qFU0XA246RA8QFYiCNYwI3f05p6KLxEXAMPLE my-key-pair</code></pre>
                     		<p>If you change the key pair that you use to connect to the instance, we don&apos;t update
                        			the instance metadata to show the new public key; you&apos;ll continue to see the public
                        key
                        			for the key pair you specified when you launched the instance in the instance
                        			metadata.
                     </p>
                     		
                     <p>For more information, see <a href="ec2-instance-metadata.html#instancedata-data-retrieval">Retrieving Instance Metadata</a>.
                     </p>
                     		
                     <p>Alternatively, on a Linux instance, the public key content is placed in an entry
                        			within <code>~/.ssh/authorized_keys</code>. You can open this file in an editor.
                        			The following is an example entry for the key pair named <strong class="userinput"><code>my-key-pair</code></strong>. 
                        		  It consists of the public key followed by the name of the key pair. For example:
                     </p>
                     				<pre class="programlisting"><div class="code-btn-container"><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQClKsfkNkuSevGj3eYhCe53pcjqP3maAhDFcvBS7O6V
hz2ItxCih+PnDSUaw+WNQn/mZphTk/a/gU8jEzoOWbkM4yxyb/wB96xbiFveSFJuOp/d6RJhJOI0iBXr
lsLnBItntckiJ7FbtxJMXLvvwJryDUilBMTjYtwB+QhYXUMOzce5Pjz5/i8SeJtjnV3iAoG/cQk+0FzZ
qaeJAAHco+CY/5WrUBkrHmFJr6HcXkvJdWPkYQS3xqC0+FmUZofz221CBt5IMucxXPkX4rWi+z7wB3Rb
BQoQzd8v7yeb7OzlPnWOyN0qFU0XA246RA8QFYiCNYwI3f05p6KLxEXAMPLE my-key-pair</code></pre>
                     	
                     <h2 id="verify-key-pair-fingerprints">Verifying Your Key Pair&apos;s Fingerprint</h2>
                     
                     
                     <p>On the <b>Key Pairs</b> page in the Amazon EC2 console, the
                        <b>Fingerprint</b> column displays the fingerprints generated from your key
                        pairs. AWS calculates the fingerprint differently depending on whether the key pair
                        was
                        generated by AWS or a third-party tool. If you created the key pair using AWS, the
                        fingerprint is calculated using an SHA-1 hash function. If you created the key pair
                        with a
                        third-party tool and uploaded the public key to AWS, or if you generated a new public
                        key
                        from an existing AWS-created private key and uploaded it to AWS, the fingerprint is
                        calculated using an MD5 hash function.
                     </p>
                     
                     <p>You can use the fingerprint that&apos;s displayed on the <b>Key Pairs</b> page to
                        verify that the private key you have on your local machine matches the public key
                        that&apos;s
                        stored in AWS.
                     </p>
                     
                     <p>If you created your key pair using AWS, you can use the OpenSSL tools to generate
                        a
                        fingerprint from the private key file:
                     </p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><span><code class="prompt" copy="false">$ </code></span><strong class="userinput"><code>openssl pkcs8 -in <em class="replaceable"><code>path_to_private_key</code></em> -inform PEM -outform DER -topk8 -nocrypt | openssl sha1 -c</code></strong></code></pre>
                     <p>If you created your key pair using a third-party tool and uploaded the public key
                        to
                        AWS, you can use the OpenSSL tools to generate a fingerprint from the private key
                        file on
                        your local machine:
                     </p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><span><code class="prompt" copy="false">$ </code></span><strong class="userinput"><code>openssl rsa -in <em class="replaceable"><code>path_to_private_key</code></em> -pubout -outform DER | openssl md5 -c</code></strong></code></pre>
                     <p>The output should match the fingerprint that&apos;s displayed in the console.</p>
                     
                     
                     <h2 id="delete-key-pair">Deleting Your Key Pair</h2>
                     
                     
                     <p>When you delete a key pair, you are only deleting Amazon EC2&apos;s copy of the public
                        key. Deleting
                        a key pair doesn&apos;t affect the private key on your computer or the public key on any
                        instances
                        already launched using that key pair. You can&apos;t launch a new instance using a deleted
                        key
                        pair, but you can continue to connect to any instances that you launched using a deleted
                        key
                        pair, as long as you still have the private key (<code>.pem</code>) file.
                     </p>
                     
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>If you&apos;re using an Auto Scaling group (for example, in an Elastic Beanstalk environment),
                           ensure that the
                           key pair you&apos;re deleting is not specified in your launch configuration. Amazon EC2
                           Auto Scaling launches a
                           replacement instance if it detects an unhealthy instance; however, the instance launch
                           fails
                           if the key pair cannot be found. 
                        </p>
                     </div>
                     
                     
                     <p>You can delete a key pair using the Amazon EC2 console or the command line.</p>
                     
                     <p class="title"><b>To delete your key pair using the console</b></p>
                     <ol>
                        <li> 
                           <p>Open the Amazon EC2 console at
                              <a href="https://console.aws.amazon.com/ec2/" target="_blank">https://console.aws.amazon.com/ec2/</a>.
                           </p> 
                        </li>
                        <li>
                           
                           <p>In the navigation pane, under <b>NETWORK &amp; SECURITY</b>, choose
                              <b>Key Pairs</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Select the key pair and choose <b>Delete</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>When prompted, choose <b>Yes</b>.
                           </p>
                           
                        </li>
                     </ol>
                     
                     
                     <div class="itemizedlist">
                        
                        <p class="title"><b>To delete your key pair using the command line</b></p>
                        
                        <p>You can use one of the following commands. For more information about these command
                           line
                           interfaces, see <a href="concepts.html#access-ec2">Accessing Amazon EC2</a>.
                        </p>
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p><a href="./cli/latest/reference/ec2/delete-key-pair.html" target="_blank">delete-key-pair</a>
                                 (AWS CLI)
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p><a href="./powershell/latest/reference/items/Remove-EC2KeyPair.html" target="_blank">Remove-EC2KeyPair</a>
                                 (AWS Tools for Windows PowerShell)
                              </p>
                              
                           </li>
                        </ul>
                     </div>
                     
                     
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>If you create a Linux AMI from an instance, and then use the AMI to launch a new
                           instance in a different region or account, the new instance includes the public key
                           from the
                           original instance. This enables you to connect to the new instance using the same
                           private
                           key file as your original instance. You can remove this public key from your instance
                           by
                           removing its entry from the <code>.ssh/authorized_keys</code> file using a text editor of
                           your choice. For more information about managing users on your instance and providing
                           remote
                           access using a specific key pair, see <a href="managing-users.html">Managing User Accounts on Your Linux Instance</a>.
                        </p>
                     </div>
                     
                     
                     <h2 id="replacing-key-pair">Adding or Replacing a Key Pair for Your Instance</h2>
                     		
                     		
                     <p>You can change the key pair that is used to access the default system account of your
                        			instance. For example, if a user in your organization requires access to the system
                        user
                        			account using a separate key pair, you can add that key pair to your instance.
                        Or, if
                        			someone has a copy of the <code>.pem</code> file and you want to prevent them
                        			from connecting to your instance (for example, if they&apos;ve left your organization),
                        you
                        			can replace the key pair with a new one.
                     </p>
                     	
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>These procedures are for modifying the key pair for the default user account, such
                           as
                           			<code class="code">ec2-user</code>. For more information about adding user accounts to your
                           			instance, see <a href="managing-users.html">Managing User Accounts on Your Linux Instance</a>.
                        </p>
                     </div>
                     		
                     <p>Before you begin, create a new key pair using <a href="ec2-key-pairs.html#having-ec2-create-your-key-pair">the Amazon EC2 console</a> or a <a href="ec2-key-pairs.html#how-to-generate-your-own-key-and-import-it-to-aws">third-party tool</a>.
                     </p>
                     		
                     <p class="title"><b>To add or replace a key pair</b></p>
                     <ol>
                        <li>
                           				
                           <p>Retrieve the public key from your new key pair. For more information, see
                              						<a href="ec2-key-pairs.html#retrieving-the-public-key">Retrieving the Public Key for Your Key Pair on Linux</a> or <a href="ec2-key-pairs.html#retrieving-the-public-key-windows">Retrieving the Public Key for Your Key Pair on Windows</a>.
                           </p>
                           			
                        </li>
                        <li>
                           				
                           <p>Connect to your instance using your existing private key file.</p>
                           			
                        </li>
                        <li>
                           				
                           <p>Using a text editor of your choice, open the <code>.ssh/authorized_keys</code>
                              					file on the instance. Paste the public key information from your new key pair
                              					underneath the existing public key information. Save the file.
                           </p>
                           			
                        </li>
                        <li>
                           				
                           <p>Disconnect from your instance, and test that you can connect to your instance using
                              the
                              					new private key file.
                           </p>
                           			
                        </li>
                        <li>
                           				
                           <p>(Optional) If you&apos;re replacing an existing key pair, connect to your instance and
                              delete
                              					the public key information for the original key pair from the
                              						<code>.ssh/authorized_keys</code> file.
                           </p>
                           			
                        </li>
                     </ol>
                     		
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>If you&apos;re using an Auto Scaling group (for example, in an Elastic Beanstalk environment),
                           ensure that
                           				the key pair you&apos;re replacing is not specified in your launch configuration. Amazon
                           EC2 Auto Scaling
                           				launches a replacement instance if it detects an unhealthy instance; however,
                           the
                           				instance launch fails if the key pair cannot be found. 
                        </p>
                     </div>
                     	
                     
                     <h2 id="replacing-lost-key-pair">Connecting to Your Linux Instance if You Lose Your Private Key</h2>
                     
                     
                     <p>If you lose the private key for an EBS-backed instance, you can regain access to your
                        instance. You must stop the instance, detach its root volume and attach it to another
                        instance
                        as a data volume, modify the <code>authorized_keys</code> file, move the volume back
                        to the original instance, and restart the instance. For more information about launching,
                        connecting to, and stopping instances, see <a href="ec2-instance-lifecycle.html">Instance Lifecycle</a>.
                     </p>
                     
                     <p>This procedure isn&apos;t supported for instance store-backed instances. To determine the
                        root
                        device type of your instance, open the Amazon EC2 console, choose <b>Instances</b>,
                        select the instance, and check the value of <b>Root device type</b> in the
                        details pane. The value is either <code class="code">ebs</code> or <code class="code">instance store</code>. If the root
                        device is an instance store volume, you must have the private key in order to connect
                        to the
                        instance.
                     </p>
                     
                     
                     <p class="title"><b>Prerequisites</b></p>
                     
                     <p>Create a new key pair using either the Amazon EC2 console or a third-party tool. If
                        you want
                        to name your new key pair exactly the same as the lost private key, you must first
                        delete
                        the existing key pair. 
                     </p>
                     
                     
                     
                     <p class="title"><b>To connect to an EBS-backed instance with a different key pair</b></p>
                     <ol>
                        <li> 
                           <p>Open the Amazon EC2 console at
                              <a href="https://console.aws.amazon.com/ec2/" target="_blank">https://console.aws.amazon.com/ec2/</a>.
                           </p> 
                        </li>
                        <li>
                           
                           <p>Choose <b>Instances</b> in the navigation pane, and then select the
                              instance that you&apos;d like to connect to. (We&apos;ll refer to this as the original
                              instance.)
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Save the following information that you&apos;ll need to complete this procedure.</p>
                           
                           <div class="itemizedlist">
                              
                              
                              
                              
                              <ul class="itemizedlist" type="disc">
                                 <li class="listitem">
                                    
                                    <p>Write down the instance ID, AMI ID, and Availability Zone of the original
                                       instance.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p>In the <b>Root device</b> field, take note of the device name for
                                       the root volume (for example, <code>/dev/sda1</code> or <code>/dev/xvda</code>).
                                       Choose the link and write down the volume ID in the <b>EBS ID</b> field
                                       (vol-<em>xxxxxxxxxxxxxxxxx</em>).
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p>[EC2-Classic] If the original instance has an associated Elastic IP address, write
                                       down the Elastic IP address shown in the <b>Elastic IP</b> field in the
                                       details pane.
                                    </p>
                                    
                                 </li>
                              </ul>
                           </div>
                           
                        </li>
                        <li>
                           
                           <p>Choose <b>Actions</b>, select <b>Instance State</b>, and
                              then select <b>Stop</b>. If <b>Stop</b> is disabled, either
                              the instance is already stopped or its root device is an instance store volume.
                           </p>
                           
                           <div class="aws-note">
                              <p class="aws-note">Warning</p>
                              <p>When you stop an instance, the data on any instance store volumes is erased. 
                                 Therefore, if you have any data on instance store volumes that you want to keep, be
                                 sure to back it up to persistent storage.
                              </p>
                           </div>  
                        </li>
                        <li>
                           
                           <p>Choose <b>Launch Instance</b>, and then use the launch wizard to launch
                              a temporary instance with the following options:
                           </p>
                           
                           <div class="itemizedlist">
                              
                              
                              
                              
                              
                              
                              <ul class="itemizedlist" type="disc">
                                 <li class="listitem">
                                    
                                    <p>On the <b>Choose an AMI</b> page, select the same AMI that you used
                                       to launch the original instance. If this AMI is unavailable, you can create an AMI
                                       that you can use from the stopped instance. For more information, see <a href="creating-an-ami-ebs.html">Creating an Amazon EBS-Backed Linux AMI</a>
                                       .
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p>On the <b>Choose an Instance Type</b> page, leave the default
                                       instance type that the wizard selects for you.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p>On the <b>Configure Instance Details</b> page, specify the same
                                       Availability Zone as the instance you&apos;d like to connect to. If you&apos;re launching an
                                       instance in a VPC, select a subnet in this Availability Zone.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p>On the <b>Add Tags</b> page, add the tag <code class="code">Name=Temporary</code>
                                       to the instance to indicate that this is a temporary instance.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p>On the <b>Review</b> page, choose <b>Launch</b>.
                                       Create a new key pair, download it to a safe location on your computer, and then
                                       choose <b>Launch Instances</b>.
                                    </p>
                                    
                                 </li>
                              </ul>
                           </div>
                           
                        </li>
                        <li>
                           
                           <p>In the navigation pane, choose <b>Volumes</b> and select the root device
                              volume for the original instance (you wrote down its volume ID in a previous step).
                              Choose
                              <b>Actions</b>, and then select <b>Detach Volume</b>. Wait
                              for the state of the volume to become <code class="code">available</code>. (You might need to choose
                              the <b>Refresh</b> icon.)
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>With the volume still selected, choose <b>Actions</b>, and then select
                              <b>Attach Volume</b>. Select the instance ID of the temporary instance,
                              write down the device name specified under <b>Device</b> (for example,
                              <code>/dev/sdf</code>), and then choose <b>Yes, Attach</b>.
                           </p>
                           
                           <div class="aws-note">
                              <p class="aws-note">Note</p>
                              <p>If you launched your original instance from an AWS Marketplace AMI and your volume
                                 contains
                                 AWS Marketplace codes, you must first stop the temporary instance before you can attach
                                 the
                                 volume.
                              </p>
                           </div>
                           
                        </li>
                        <li>
                           
                           <p>Connect to the temporary instance.</p>
                           
                        </li>
                        <li>
                           
                           <p>From the temporary instance, mount the volume that you attached to the instance so
                              that you can access its file system. For example, if the device name is
                              <code>/dev/sdf</code>, use the following commands to mount the volume as
                              <code>/mnt/tempvol</code>.
                           </p>
                           <div class="aws-note">
                              <p class="aws-note">Note</p>
                              <p>The device name may appear differently on your instance. For example, devices
                                 mounted as <code>/dev/sdf</code> may show up as <code>/dev/xvdf</code>
                                 on the instance. Some versions of Red Hat (or its variants, such as CentOS) may even
                                 increment the trailing letter by 4 characters, where
                                 <code>/dev/sd<em class="replaceable"><code>f</code></em></code> becomes
                                 <code>/dev/xvd<em class="replaceable"><code>k</code></em></code>.
                              </p>
                           </div>
                           
                           <ol>
                              <li>
                                 
                                 <p>Use the <b>lsblk</b> command to determine if the volume is
                                    partitioned.
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">[ec2-user ~]$ </code><strong class="userinput"><code>lsblk</code></strong><code class="computeroutput" copy="false">
NAME    MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
xvda    202:0    0    8G  0 disk
&#x2514;&#x2500;xvda1 202:1    0    8G  0 part /
xvdf    202:80   0  101G  0 disk
&#x2514;&#x2500;xvdf1 202:81   0  101G  0 part
xvdg    202:96   0   30G  0 disk</code></code></pre>
                                 <p>In the above example, <code>/dev/xvda</code> and
                                    <code>/dev/xvdf</code> are partitioned volumes, and
                                    <code>/dev/xvdg</code> is not. If your volume is partitioned, you mount the
                                    partition (<code>/dev/xvdf1)</code> instead of the raw device
                                    (<code>/dev/xvdf</code>) in the next steps.
                                 </p>
                                 
                              </li>
                              <li>
                                 
                                 <p>Create a temporary directory to mount the volume.</p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">[ec2-user ~]$ </code><strong class="userinput"><code>sudo mkdir /mnt/tempvol</code></strong></code></pre>
                                 </li>
                              <li>
                                 
                                 <p>Mount the volume (or partition) at the temporary mount point, using the volume
                                    name or device name you identified earlier.
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">[ec2-user ~]$ </code><strong class="userinput"><code>sudo mount /dev/<em class="replaceable"><code>xvdf1</code></em> /mnt/tempvol</code></strong></code></pre>
                                 </li>
                           </ol>
                           
                        </li>
                        <li>
                           
                           <p>From the temporary instance, use the following command to update
                              <code>authorized_keys</code> on the mounted volume with the new public key from
                              the <code>authorized_keys</code> for the temporary instance.
                           </p>
                           	
                           <div class="aws-note">
                              <p class="aws-note">Important</p>
                              <p>The following examples use the Amazon Linux user name <code class="code">ec2-user</code>. You may need to
                                 						substitute a different user name, such as <code class="code">ubuntu</code> for Ubuntu
                                 						instances.
                              </p>
                           </div>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">[ec2-user ~]$ </code><strong class="userinput"><code>cp .ssh/authorized_keys /mnt/tempvol/home/<em class="replaceable"><code>ec2-user</code></em>/.ssh/authorized_keys</code></strong></code></pre>
                           <p>If this copy succeeded, you can go to the next step.</p>
                           
                           <p>(Optional) Otherwise, if you don&apos;t have permission to edit files in
                              <code>/mnt/tempvol</code>, you&apos;ll need to update the file using
                              <b>sudo</b> and then check the permissions on the file to verify that you&apos;ll
                              be able to log into the original instance. Use the following command to check the
                              permissions on the file:
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">[ec2-user ~]$ </code><strong class="userinput"><code>sudo ls -l /mnt/tempvol/home/ec2-user/.ssh</code></strong><code class="computeroutput" copy="false">
total 4
-rw------- 1 <em class="replaceable"><code>222 500</code></em> 398 Sep 13 22:54 authorized_keys</code></code></pre>
                           <p>In this example output, <em class="replaceable"><code>222</code></em> is the user ID and
                              <em class="replaceable"><code>500</code></em> is the group ID. Next, use <b>sudo</b> to
                              re-run the copy command that failed:
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">[ec2-user ~]$ </code><strong class="userinput"><code>sudo cp .ssh/authorized_keys /mnt/tempvol/home/<em class="replaceable"><code>ec2-user</code></em>/.ssh/authorized_keys</code></strong></code></pre>
                           <p>Run the following command again to determine whether the permissions changed:</p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">[ec2-user ~]$ </code><strong class="userinput"><code>sudo ls -l /mnt/tempvol/home/<em class="replaceable"><code>ec2-user</code></em>/.ssh</code></strong></code></pre>
                           <p>If the user ID and group ID have changed, use the following command to restore
                              them:
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">[ec2-user ~]$ </code><strong class="userinput"><code>sudo chown <em class="replaceable"><code>222:500</code></em> /mnt/tempvol/home/<em class="replaceable"><code>ec2-user</code></em>/.ssh/authorized_keys</code></strong></code></pre>
                           </li>
                        <li>
                           
                           <p>From the temporary instance, unmount the volume that you attached so that you can
                              reattach it to the original instance. For example, use the following command to unmount
                              the volume at <code>/mnt/tempvol</code>:
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">[ec2-user ~]$ </code><strong class="userinput"><code>sudo umount /mnt/tempvol</code></strong></code></pre>
                           </li>
                        <li>
                           
                           <p>From the Amazon EC2 console, select the volume with the volume ID that you wrote down,
                              choose <b>Actions</b>, and then select <b>Detach Volume</b>.
                              Wait for the state of the volume to become <code class="code">available</code>. (You might need to
                              choose the <b>Refresh</b> icon.)
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>With the volume still selected, choose <b>Actions</b>, <b>Attach
                                 Volume</b>. Select the instance ID of the original instance, specify the device
                              name you noted earlier for the original root device attachment
                              (<code>/dev/sda1</code> or <code>/dev/xvda</code>), and then choose
                              <b>Yes, Attach</b>.
                           </p>
                           
                           <div class="aws-note">
                              <p class="aws-note">Important</p>
                              <p>If you don&apos;t specify the same device name as the original attachment, you cannot
                                 start the original instance. Amazon EC2 expects the root device volume at <code>sda1</code>
                                 or <code>/dev/xvda</code>.
                              </p>
                           </div>
                           
                        </li>
                        <li>
                           
                           <p>Select the original instance, choose <b>Actions</b>, select
                              <b>Instance State</b>, and then choose <b>Start</b>. After
                              the instance enters the <code class="code">running</code> state, you can connect to it using the
                              private key file for your new key pair.
                           </p>
                           
                           <div class="aws-note">
                              <p class="aws-note">Note</p>
                              <p>If the name of your new key pair and corresponding private key file is different to
                                 the name of the original key pair, ensure that you specify the name of the new private
                                 key file when you connect to your instance.
                              </p>
                           </div>
                           
                        </li>
                        <li>
                           
                           <p>[EC2-Classic] If the original instance had an associated Elastic IP address before
                              you
                              stopped it, you must re-associate it with the instance as follows:
                           </p>
                           
                           <ol>
                              <li>
                                 
                                 <p>In the navigation pane, choose <b>Elastic IPs</b>.
                                 </p>
                                 
                              </li>
                              <li>
                                 
                                 <p>Select the Elastic IP address that you wrote down at the beginning of this
                                    procedure.
                                 </p>
                                 
                              </li>
                              <li>
                                 
                                 <p>Choose <b>Actions</b>, and then select <b>Associate
                                       address</b>.
                                 </p>
                                 
                              </li>
                              <li>
                                 
                                 <p>Select the ID of the original instance, and then choose
                                    <b>Associate</b>.
                                 </p>
                                 
                              </li>
                           </ol>
                           
                        </li>
                        <li>
                           
                           <p>(Optional) You can terminate the temporary instance if you have no further use for
                              it.
                              Select the temporary instance, choose <b>Actions</b>, select
                              <b>Instance State</b>, and then choose <b>Terminate</b>.
                           </p>
                           
                        </li>
                     </ol>
                     
                     
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="EC2_Network_and_Security.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="using-network-security.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Creating a Key Pair Using Amazon EC2"><a class="pagetoc" href="#having-ec2-create-your-key-pair">Creating a Key Pair Using Amazon EC2</a></li>
                        <li class="pagetoc" name="Importing Your Own Public Key to Amazon EC2"><a class="pagetoc" href="#how-to-generate-your-own-key-and-import-it-to-aws">Importing Your Own Public Key to Amazon EC2</a></li>
                        <li class="pagetoc" name="Retrieving the Public Key for Your Key Pair on Linux"><a class="pagetoc" href="#retrieving-the-public-key">Retrieving the Public Key for Your Key Pair on Linux</a></li>
                        <li class="pagetoc" name="Retrieving the Public Key for Your Key Pair on Windows"><a class="pagetoc" href="#retrieving-the-public-key-windows">Retrieving the Public Key for Your Key Pair on Windows</a></li>
                        <li class="pagetoc" name="Retrieving the Public Key for Your Key Pair From Your Instance"><a class="pagetoc" href="#retrieving-the-public-key-instance">Retrieving the Public Key for Your Key Pair From Your Instance</a></li>
                        <li class="pagetoc" name="Verifying Your Key Pair&apos;s Fingerprint"><a class="pagetoc" href="#verify-key-pair-fingerprints">Verifying Your Key Pair&apos;s Fingerprint</a></li>
                        <li class="pagetoc" name="Deleting Your Key Pair"><a class="pagetoc" href="#delete-key-pair">Deleting Your Key Pair</a></li>
                        <li class="pagetoc" name="Adding or Replacing a Key Pair for Your Instance"><a class="pagetoc" href="#replacing-key-pair">Adding or Replacing a Key Pair for Your Instance</a></li>
                        <li class="pagetoc" name="Connecting to Your Linux Instance if You Lose Your Private Key"><a class="pagetoc" href="#replacing-lost-key-pair">Connecting to Your Linux Instance if You Lose Your Private Key</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='Amazon Elastic Compute Cloud';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='User Guide for Linux Instances';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>