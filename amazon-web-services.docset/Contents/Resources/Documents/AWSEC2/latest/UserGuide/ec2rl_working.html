<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Working with EC2Rescue for Linux - Amazon Elastic Compute Cloud</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="Linux-Server-EC2Rescue.html" title="Using EC2Rescue for Linux">
      <link rel="prev" href="ec2rl_install.html" title="Installing EC2Rescue for Linux">
      <link rel="next" href="ec2rl_moduledev.html" title="Developing EC2Rescue Modules">
      <meta name="description" content="The following are common tasks to get you started using this tool.">
      <meta name="keywords" content="EC2,Amazon EC2,EC2 instance,instance,VM,virtual machine">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="Amazon Elastic Compute Cloud">
      <meta name="guide" content="User Guide for Linux Instances">
      <meta name="guide-locale" content="en_us">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2rl_working.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="http://aws.amazon.com/documentation">AWS Documentation</a> &#xBB; <a href="http://aws.amazon.com/documentation/ec2">Amazon EC2</a> &#xBB; <a href="index.html">User Guide for Linux Instances</a> &#xBB; <a href="Linux-Server-EC2Rescue.html">Using EC2Rescue for Linux</a> &#xBB; <span class="breadcrumb">Working with EC2Rescue for Linux</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div></div>
                     <h1 class="topictitle" id="ec2rl_working">Working with EC2Rescue for Linux</h1>
                     <p>The following are common tasks to get you started using this tool.</p>
                     <div class="highlights" id="inline-topiclist">
                        <p><strong>Topics</strong></p>
                        <ul>
                           <li><a href="#ec2rl_getting_help">Getting Help</a></li>
                           <li><a href="#ec2rl_running_module">Running a Module</a></li>
                           <li><a href="#ec2rl_uploading_results">Uploading the Results</a></li>
                           <li><a href="#ec2rl_creating_backups">Creating Backups</a></li>
                        </ul>
                     </div>
                     
                     <h2 id="ec2rl_getting_help">Getting Help</h2>
                     
                     
                     <p>EC2Rescue for Linux includes a help file that gives you information and syntax for
                        each available command.
                     </p>
                     
                     <p class="title"><b>To use the help command</b></p>
                     <ul>
                        <li>
                           
                           <p>Use the <code class="code">help</code> command to get general help:
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">[ec2-user ~]$ </code>./ec2rl help</code></pre>
                           </li>
                     </ul>
                     
                     
                     <p class="title"><b>To list the available modules</b></p>
                     <ul>
                        <li>
                           
                           <p>List all available modules:</p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">[ec2-user ~]$ </code>./ec2rl list</code></pre>
                           </li>
                     </ul>
                     
                     
                     <p class="title"><b>To get help for a specific module</b></p>
                     <ul>
                        <li>
                           
                           <p>List the help details for a specific command:</p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">[ec2-user ~]$ </code>./ec2rl help <strong class="userinput"><code>module_name</code></strong></code></pre>
                           <p>Example command for showing the help file for the <code class="code">dig</code> module:
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">[ec2-user ~]$ </code>./ec2rl help dig</code></pre>
                           </li>
                     </ul>
                     
                     
                     <h2 id="ec2rl_running_module">Running a Module</h2>
                     
                     
                     <p>You can run an EC2Rescue for Linux using these steps.</p>
                     
                     <p class="title"><b>To run a module</b></p>
                     <ol>
                        <li>
                           
                           <p>Run a module:</p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">[ec2-user ~]$ </code>./ec2rl run --only-modules=<strong class="userinput"><code>module_name</code></strong> <strong class="userinput"><code>--arguments</code></strong></code></pre>
                           <p>Example command, using the <code class="code">dig</code> module to query the
                              <code class="code">amazon.com</code> domain:
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">[ec2-user ~]$ </code>./ec2rl run --only-modules=dig --domain=amazon.com</code></pre>
                           </li>
                        <li>
                           
                           <p>View the results:</p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">[ec2-user ~]$ </code>cat /var/tmp/ec2rl/<strong class="userinput"><code>logfile_location</code></strong></code></pre>
                           <p>Example:</p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">[ec2-user ~]$ </code>cat <strong class="userinput"><code>/var/tmp/ec2rl/2017-05-11T15_39_21.893145/mod_out/run/dig.log</code></strong></code></pre>
                           </li>
                     </ol>
                     
                     
                     <h2 id="ec2rl_uploading_results">Uploading the Results</h2>
                     
                     
                     <p>If AWS Support has requested the results or to share the results from an S3 bucket,
                        upload using the EC2Rescue for Linux CLI tool. The output of the EC2Rescue for Linux
                        commands should provide the commands to achieve this.
                     </p>
                     
                     <p class="title"><b>To upload to support</b></p>
                     <ul>
                        <li>
                           
                           <p>Upload the results to support:</p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">[ec2-user ~]$ </code>./ec2rl upload --upload-directory=<strong class="userinput"><code>/var/tmp/ec2rl/2017-05-11T15_39_21.893145</code></strong> --support-url=<strong class="userinput"><code>&quot;URLProvidedByAWSSupport&quot;</code></strong></code></pre>
                           </li>
                     </ul>
                     
                     <p class="title"><b>To upload to an S3 bucket</b></p>
                     <ul>
                        <li>
                           
                           <p>To upload the results to an S3 bucket:</p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">[ec2-user ~]$ </code>./ec2rl upload --upload-directory=<strong class="userinput"><code>/var/tmp/ec2rl/2017-05-11T15_39_21.893145</code></strong> --presigned-url=<strong class="userinput"><code>&quot;YourPresignedS3URL&quot;</code></strong></code></pre>
                           <div class="aws-note">
                              <p class="aws-note">Note</p>
                              <p>For more information about generating presigned URLs for Amazon S3, see <a href="./AmazonS3/latest/dev/PresignedUrlUploadObject.html" target="_blank">Uploading Objects Using Pre-Signed
                                    URLs</a>.
                              </p>
                           </div>
                           
                        </li>
                     </ul>
                     
                     
                     <h2 id="ec2rl_creating_backups">Creating Backups</h2>
                     
                     
                     <p>Create a backup for your instance, one or more volumes, or a specific device ID using
                        the following commands.
                     </p>
                     
                     <p class="title"><b>To back up an instance</b></p>
                     <ul>
                        <li>
                           
                           <p>Create a backup of your instance:</p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">[ec2-user ~]$ </code>./ec2rl run --backup=<strong class="userinput"><code>ami</code></strong></code></pre>
                           </li>
                     </ul>
                     
                     <p class="title"><b>To back up all volumes</b></p>
                     <ul>
                        <li>
                           
                           <p>Create a backup of all volumes associated with the instance:</p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">[ec2-user ~]$ </code>./ec2rl run --backup=<strong class="userinput"><code>allvolumes</code></strong></code></pre>
                           </li>
                     </ul>
                     
                     <p class="title"><b>To back up a volume</b></p>
                     <ul>
                        <li>
                           
                           <p>Create a backup of a single volume:</p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><code class="prompt" copy="false">[ec2-user ~]$ </code>./ec2rl run --backup=<strong class="userinput"><code>volume ID</code></strong></code></pre>
                           </li>
                     </ul>
                     
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="ec2rl_install.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="ec2rl_moduledev.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Getting Help"><a class="pagetoc" href="#ec2rl_getting_help">Getting Help</a></li>
                        <li class="pagetoc" name="Running a Module"><a class="pagetoc" href="#ec2rl_running_module">Running a Module</a></li>
                        <li class="pagetoc" name="Uploading the Results"><a class="pagetoc" href="#ec2rl_uploading_results">Uploading the Results</a></li>
                        <li class="pagetoc" name="Creating Backups"><a class="pagetoc" href="#ec2rl_creating_backups">Creating Backups</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='Amazon Elastic Compute Cloud';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='User Guide for Linux Instances';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>