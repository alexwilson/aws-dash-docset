<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Tracking Configuration Changes - Amazon Elastic Compute Cloud</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="dedicated-hosts-overview.html" title="Dedicated Hosts">
      <link rel="prev" href="how-dedicated-hosts-work.html" title="Working with Dedicated Hosts">
      <link rel="next" href="dedicated-instance.html" title="Dedicated Instances">
      <meta name="description" content="Tracking instance and Dedicated Host configuration changes using AWS Config.">
      <meta name="keywords" content="EC2,Amazon EC2,EC2 instance,instance,VM,virtual machine">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="Amazon Elastic Compute Cloud">
      <meta name="guide" content="User Guide for Linux Instances">
      <meta name="guide-locale" content="en_us">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/dedicated-hosts-aws-config.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="http://aws.amazon.com/documentation">AWS Documentation</a> &#xBB; <a href="http://aws.amazon.com/documentation/ec2">Amazon EC2</a> &#xBB; <a href="index.html">User Guide for Linux Instances</a> &#xBB; <a href="Instances.html">Amazon EC2 Instances</a> &#xBB; <a href="instance-purchasing-options.html">Instance Purchasing Options</a> &#xBB; <a href="dedicated-hosts-overview.html">Dedicated Hosts</a> &#xBB; <span class="breadcrumb">Tracking Configuration Changes</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div></div>
                     <h1 class="topictitle" id="dedicated-hosts-aws-config">Tracking Configuration Changes</h1>
                     <p>You can use AWS Config to record configuration changes for Dedicated Hosts, and
                        instances that are launched, stopped, or terminated on them. You can then use the
                        information captured by AWS Config as a data source for license reporting.
                     </p>
                     <p>AWS Config records configuration information for Dedicated Hosts and instances
                        individually and pairs this information through relationships. There are three
                        reporting conditions.
                     </p>
                     <div class="itemizedlist">
                        
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p><b>AWS Config recording status</b>&#x2014;When
                                 <b>On</b>, AWS Config is recording one or more AWS resource
                                 types, which can include Dedicated Hosts and Dedicated Instances. To
                                 capture the information required for license reporting, verify that
                                 hosts and instances are being recorded with the following fields.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p><b>Host recording status</b>&#x2014;When
                                 <b>Enabled</b>, the configuration information for
                                 Dedicated Hosts is recorded.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p><b>Instance recording status</b>&#x2014;When
                                 <b>Enabled</b>, the configuration information for
                                 Dedicated Instances is recorded.
                              </p>
                              
                           </li>
                        </ul>
                     </div>
                     <p>If any of these three conditions are disabled, the icon in the
                        <b>Edit Config Recording</b> button is red. To derive the full
                        benefit of this tool, ensure that all three recording methods are enabled. When all
                        three are enabled, the icon is green. To edit the settings, choose <b>Edit
                           Config Recording</b>. You are directed to the <b>Set up
                           AWS Config</b> page in the AWS Config console, where you can set up AWS Config and start
                        recording for your hosts, instances, and other supported resource types. For more
                        information, see <a href="./config/latest/developerguide/resource-config-reference.html" target="_blank">Setting up
                           AWS Config using the Console</a> in the <em>AWS Config Developer
                           Guide</em>.
                     </p>
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>AWS Config records your resources after it discovers them, which might take
                           several minutes. 
                        </p>
                     </div>
                     <p>After AWS Config starts recording configuration changes to your hosts and instances,
                        you can
                        get the configuration history of any host that you have allocated or released and
                        any
                        instance that you have launched, stopped, or terminated. For example, at any point
                        in
                        the configuration history of a Dedicated Host, you can look up how many instances
                        are launched on
                        that host, along with the number of sockets and cores on the host. For any of those
                        instances, you can also look up the ID of its Amazon Machine Image (AMI). You can
                        use
                        this information to report on licensing for your own server-bound software that is
                        licensed per-socket or per-core.
                     </p>
                     <p>You can view configuration histories in any of the following ways.</p>
                     <div class="itemizedlist">
                        
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              <p>By using the AWS Config console. For each recorded resource, you can view a timeline
                                 page, which
                                 provides a history of configuration details. To view this page, choose the
                                 gray icon in the <b>Config Timeline</b> column of the
                                 <b>Dedicated Hosts</b> page. For more information, see
                                 <a href="./config/latest/developerguide/view-manage-resource-console.html" target="_blank">Viewing
                                    Configuration Details in the AWS Config Console</a> in the <em>AWS Config
                                    Developer Guide</em>.
                              </p>
                           </li>
                           <li class="listitem">
                              <p>By running AWS CLI commands. First, you can use 
                                 the <a href="./cli/latest/reference/configservice/list-discovered-resources.html" target="_blank">list-discovered-resources</a> command 
                                 to get a list of all hosts and instances. Then, you can use the <a href="./cli/latest/reference/configservice/get-resource-config-history.html#get-resource-config-history" target="_blank">get-resource-config-history</a> 
                                 command to get the configuration details of a host or instance for a specific time
                                 interval. 
                                 For more information, see <a href="./config/latest/developerguide/view-manage-resource-cli.html" target="_blank">View Configuration Details 
                                    Using the CLI</a> in the <em>AWS Config Developer Guide</em>.
                              </p>
                           </li>
                           <li class="listitem">
                              <p>By using the AWS Config API in your applications. First, you can use 
                                 the <a href="./config/latest/APIReference/API_ListDiscoveredResources.html" target="_blank">ListDiscoveredResources</a> action 
                                 to get a list of all hosts and instances. 
                                 Then, you can use the <a href="./config/latest/APIReference/API_GetResourceConfigHistory.html" target="_blank">GetResourceConfigHistory</a> 
                                 action to get the configuration details of a host or instance for a specific time
                                 interval.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <p>For example, to get a list of all of your Dedicated Hosts from AWS Config, run a
                        CLI command such as the following:
                     </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><strong class="userinput"><code>aws configservice list-discovered-resources --resource-type AWS::EC2::Host</code></strong></code></pre><p>To obtain the configuration history of a Dedicated Host from AWS Config, run a
                        CLI command such as the following:
                     </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><strong class="userinput"><code>aws configservice get-resource-config-history --resource type AWS::EC2::Instance --resource-id <em class="replaceable"><code>i-1234567890abcdef0</code></em></code></strong></code></pre><p class="title"><b>To manage AWS Config settings using the console</b></p>
                     <ol>
                        <li>
                           <p>Open the Amazon EC2 console at
                              <a href="https://console.aws.amazon.com/ec2/" target="_blank">https://console.aws.amazon.com/ec2/</a>.
                           </p>
                        </li>
                        <li>
                           
                           <p>On the <b>Dedicated Hosts</b> page, choose
                              <b>Edit Config Recording</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>In the AWS Config console, follow the steps provided to turn on recording.
                              For more information, see <a href="./config/latest/developerguide//gs-console.html" target="_blank">Setting
                                 up AWS Config using the Console</a>.
                           </p>
                           
                        </li>
                     </ol>
                     <p> <b>To activate AWS Config using the command line or API</b></p>
                     <div class="itemizedlist">
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              <p>Using the AWS CLI, see <a href="./config/latest/developerguide/view-manage-resource-console.html" target="_blank">Viewing
                                    Configuration Details in the AWS Config Console</a> in the <em>AWS Config
                                    Developer Guide</em>.
                              </p>
                           </li>
                           <li class="listitem">
                              
                              <p>Using the Amazon EC2 API, see <a href="./config/latest/APIReference/API_GetResourceConfigHistory.html" target="_blank">GetResourceConfigHistory</a>.
                              </p> 
                              
                           </li>
                        </ul>
                     </div>
                     <p>For more information, see <a href="./config/latest/developerguide/view-manage-resource-console.html" target="_blank">Viewing Configuration
                           Details in the AWS Config Console</a>.
                     </p>
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="how-dedicated-hosts-work.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="dedicated-instance.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper"></div>
            </div>
         </div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='Amazon Elastic Compute Cloud';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='User Guide for Linux Instances';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>