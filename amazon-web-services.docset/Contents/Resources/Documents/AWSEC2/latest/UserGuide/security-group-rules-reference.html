<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Security Group Rules Reference - Amazon Elastic Compute Cloud</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="using-network-security.html" title="Amazon EC2 Security Groups for Linux Instances">
      <link rel="prev" href="using-network-security.html" title="Amazon EC2 Security Groups for Linux Instances">
      <link rel="next" href="UsingIAM.html" title="Controlling Access to Amazon EC2 Resources">
      <meta name="description" content="Add rules to your security group for specific kinds of access.">
      <meta name="keywords" content="EC2,Amazon EC2,EC2 instance,instance,VM,virtual machine">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="Amazon Elastic Compute Cloud">
      <meta name="guide" content="User Guide for Linux Instances">
      <meta name="guide-locale" content="en_us">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/security-group-rules-reference.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="http://aws.amazon.com/documentation">AWS Documentation</a> &#xBB; <a href="http://aws.amazon.com/documentation/ec2">Amazon EC2</a> &#xBB; <a href="index.html">User Guide for Linux Instances</a> &#xBB; <a href="EC2_Network_and_Security.html">Network and Security</a> &#xBB; <a href="using-network-security.html">Amazon EC2 Security Groups for Linux Instances</a> &#xBB; <span class="breadcrumb">Security Group Rules Reference</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div></div>
                     <h1 class="topictitle" id="security-group-rules-reference">Security Group Rules Reference</h1>
                     <p>You can create a security group and add rules that reflect the role of the instance
                        			that&apos;s associated with the security group. For example, an instance that&apos;s configured
                        as
                        			a web server needs security group rules that allow inbound HTTP and HTTPS access,
                        and a
                        			database instance needs rules that allow access for the type of database, such
                        as access
                        			over port 3306 for MySQL.
                     </p>
                     <p>The following are examples of the kinds of rules that you can add to security groups
                        			for specific kinds of access. 
                     </p>
                     <div class="highlights" id="inline-topiclist">
                        <p><strong>Topics</strong></p>
                        <ul>
                           <li><a href="#sg-rules-web-server">Web server</a></li>
                           <li><a href="#sg-rules-db-server">Database server</a></li>
                           <li><a href="#sg-rules-other-instances">Access from another instance in the same
                                 				group</a></li>
                           <li><a href="#sg-rules-local-access">Access from local computer</a></li>
                           <li><a href="#sg-rules-path-mtu">Path MTU Discovery</a></li>
                           <li><a href="#sg-rules-ping">Ping your instance</a></li>
                           <li><a href="#sg-rules-dns">DNS server</a></li>
                           <li><a href="#sg-rules-efs">Amazon EFS file system</a></li>
                           <li><a href="#sg-rules-elb">Elastic Load Balancing</a></li>
                        </ul>
                     </div>
                     <h2 id="sg-rules-web-server">Web server</h2>
                     			
                     			
                     <p>The following inbound rules allow HTTP and HTTPS access from any IP address. If
                        				your VPC is enabled for IPv6, you can add rules to control inbound HTTP and HTTPS
                        				traffic from IPv6 addresses.
                     </p>
                     
                     
                     				
                     <div class="table">
                        <div class="table-contents">
                           <table id="w185aac21c17c25b9b4">
                              							
                              <tbody><tr>
                                 								
                                 <th>Protocol type</th>
                                 								
                                 <th>Protocol number</th>
                                 								
                                 <th>Port</th>
                                 								
                                 <th>Source IP</th>
                                 								
                                 <th>Notes</th>
                                 							
                              </tr>
                              						
                              							
                              <tr>
                                 								
                                 <td>TCP</td>
                                 								
                                 <td>6</td>
                                 								
                                 <td>80 (HTTP)</td>
                                 								
                                 <td>0.0.0.0/0</td>
                                 								
                                 <td>Allows inbound HTTP access from any IPv4 address</td>
                                 							
                              </tr>
                              							
                              <tr>
                                 								
                                 <td>TCP</td>
                                 								
                                 <td>6</td>
                                 								
                                 <td>443 (HTTPS)</td>
                                 								
                                 <td>0.0.0.0/0</td>
                                 								
                                 <td>Allows inbound HTTPS access from any IPv4 address</td>
                                 							
                              </tr>
                              							
                              <tr>
                                 								
                                 <td>TCP</td>
                                 								
                                 <td>6</td>
                                 								
                                 <td>80 (HTTP)</td>
                                 								
                                 <td>::/0</td>
                                 								
                                 <td>(VPC only) Allows inbound HTTP access from any IPv6
                                    									address
                                 </td>
                                 							
                              </tr>
                              							
                              <tr>
                                 								
                                 <td>TCP</td>
                                 								
                                 <td>6</td>
                                 								
                                 <td>443 (HTTPS)</td>
                                 								
                                 <td>::/0</td>
                                 								
                                 <td>(VPC only) Allows inbound HTTPS access from any IPv6
                                    									address
                                 </td>
                                 							
                              </tr>
                              						
                           </tbody></table>
                        </div>
                     </div>
                     			
                     		
                     <h2 id="sg-rules-db-server">Database server</h2>
                     			
                     			
                     <p>The following inbound rules are examples of rules you might add for database
                        				access, depending on what type of database you&apos;re running on your instance. For
                        more
                        				information about Amazon RDS instances, see the <a href="./AmazonRDS/latest/UserGuide/" target="_blank">Amazon Relational Database Service User Guide</a>.
                     </p>
                     
                     			
                     <p>For the source IP, specify one of the following:</p>
                     <div class="itemizedlist">
                        					
                        					
                        				
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              						
                              <p>A specific IP address or range of IP addresses in your local
                                 							network
                              </p>
                              					
                           </li>
                           <li class="listitem">
                              						
                              <p>A security group ID for a group of instances that access the
                                 							database
                              </p>
                              					
                           </li>
                        </ul>
                     </div>
                     			
                     <div class="table">
                        <div class="table-contents">
                           <table id="w185aac21c17c25c11b7">
                              						
                              <tbody><tr>
                                 							
                                 <th>Protocol type</th>
                                 							
                                 <th>Protocol number</th>
                                 							
                                 <th>Port</th>
                                 							
                                 <th>Notes</th>
                                 						
                              </tr>
                              					
                              						
                              <tr>
                                 							
                                 <td>TCP</td>
                                 							
                                 <td>6</td>
                                 							
                                 <td>1433 (MS SQL)</td>
                                 							
                                 <td>The default port to access a Microsoft SQL Server database, for
                                    								example, on an Amazon RDS instance
                                 </td>
                                 						
                              </tr>
                              						
                              <tr>
                                 							
                                 <td>TCP</td>
                                 							
                                 <td>6</td>
                                 							
                                 <td>3306 (MYSQL/Aurora)</td>
                                 							
                                 <td>The default port to access a MySQL or Aurora database, for
                                    								example, on an Amazon RDS instance
                                 </td>
                                 						
                              </tr>
                              						
                              <tr>
                                 							
                                 <td>TCP</td>
                                 							
                                 <td>6</td>
                                 							
                                 <td>5439 (Redshift)</td>
                                 							
                                 <td>The default port to access an Amazon Redshift cluster database.</td>
                                 						
                              </tr>
                              						
                              <tr>
                                 							
                                 <td>TCP</td>
                                 							
                                 <td>6</td>
                                 							
                                 <td>5432 (PostgreSQL)</td>
                                 							
                                 <td>The default port to access a PostgreSQL database, for example, on
                                    								an Amazon RDS instance
                                 </td>
                                 						
                              </tr>
                              						
                              <tr>
                                 							
                                 <td>TCP</td>
                                 							
                                 <td>6</td>
                                 							
                                 <td>1521 (Oracle)</td>
                                 							
                                 <td>The default port to access an Oracle database, for example, on an
                                    								Amazon RDS instance
                                 </td>
                                 						
                              </tr>
                              					
                           </tbody></table>
                        </div>
                     </div>
                     			
                     <p>(VPC only) You can optionally restrict outbound traffic from your database
                        				servers, for example, if you want allow access to the Internet for software updates,
                        				but restrict all other kinds of traffic. You must first remove the default outbound
                        				rule that allows all outbound traffic.
                     </p>
                     
                     				
                     <div class="table">
                        <div class="table-contents">
                           <table id="w185aac21c17c25c11c11">
                              							
                              <tbody><tr>
                                 								
                                 <th>Protocol type</th>
                                 								
                                 <th>Protocol number</th>
                                 								
                                 <th>Port</th>
                                 								
                                 <th>Destination IP</th>
                                 								
                                 <th>Notes</th>
                                 							
                              </tr>
                              						
                              							
                              <tr>
                                 								
                                 <td>TCP</td>
                                 								
                                 <td>6</td>
                                 								
                                 <td>80 (HTTP)</td>
                                 								
                                 <td>0.0.0.0/0</td>
                                 								
                                 <td>Allows outbound HTTP access to any IPv4 address</td>
                                 							
                              </tr>
                              							
                              <tr>
                                 								
                                 <td>TCP</td>
                                 								
                                 <td>6</td>
                                 								
                                 <td>443 (HTTPS)</td>
                                 								
                                 <td>0.0.0.0/0</td>
                                 								
                                 <td>Allows outbound HTTPS access to any IPv4 address</td>
                                 							
                              </tr>
                              							
                              <tr>
                                 								
                                 <td>TCP</td>
                                 								
                                 <td>6</td>
                                 								
                                 <td>80 (HTTP)</td>
                                 								
                                 <td>::/0</td>
                                 								
                                 <td>(IPv6-enabled VPC only) Allows outbound HTTP access to any
                                    									IPv6 address
                                 </td>
                                 							
                              </tr>
                              							
                              <tr>
                                 								
                                 <td>TCP</td>
                                 								
                                 <td>6</td>
                                 								
                                 <td>443 (HTTPS)</td>
                                 								
                                 <td>::/0</td>
                                 								
                                 <td>(IPv6-enabled VPC only) Allows outbound HTTPS access to any
                                    									IPv6 address
                                 </td>
                                 							
                              </tr>
                              						
                           </tbody></table>
                        </div>
                     </div>
                     			
                     		
                     <h2 id="sg-rules-other-instances">Access from another instance in the same
                        				group
                     </h2>
                     			
                     			
                     <p>To allow instances that are associated with the same security group to communicate
                        				with each other, you must explicitly add rules for this. 
                     </p>
                     			
                     <p>The following table describes the inbound rule for a VPC security group that
                        				enables associated instances to communicate with each other. The rule allows all
                        				types of traffic.
                     </p>
                     
                     				
                     <div class="table">
                        <div class="table-contents">
                           <table id="w185aac21c17c25c13b6">
                              							
                              <tbody><tr>
                                 								
                                 <th>Protocol type</th>
                                 								
                                 <th>Protocol number</th>
                                 								
                                 <th>Ports</th>
                                 								
                                 <th>Source IP</th>
                                 							
                              </tr>
                              						
                              							
                              <tr>
                                 								
                                 <td>-1 (All)</td>
                                 								
                                 <td>-1 (All)</td>
                                 								
                                 <td>-1 (All)</td>
                                 								
                                 <td>The ID of the security group</td>
                                 							
                              </tr>
                              						
                           </tbody></table>
                        </div>
                     </div>
                     			
                     			
                     <p>The following table describes inbound rules for an EC2-Classic security group
                        				that enable associated instances to communicate with each other. The rules allow
                        all
                        				types of traffic.
                     </p>
                     
                     				
                     <div class="table">
                        <div class="table-contents">
                           <table id="w185aac21c17c25c13c10">
                              							
                              <tbody><tr>
                                 								
                                 <th>Protocol type</th>
                                 								
                                 <th>Protocol number</th>
                                 								
                                 <th>Ports</th>
                                 								
                                 <th>Source IP</th>
                                 							
                              </tr>
                              						
                              							
                              <tr>
                                 								
                                 <td>ICMP</td>
                                 								
                                 <td>1</td>
                                 								
                                 <td>-1 (All)</td>
                                 								
                                 <td>The ID of the security group</td>
                                 							
                              </tr>
                              							
                              <tr>
                                 								
                                 <td>TCP</td>
                                 								
                                 <td>6</td>
                                 								
                                 <td>0 - 65535 (All)</td>
                                 								
                                 <td>The ID of the security group</td>
                                 							
                              </tr>
                              							
                              <tr>
                                 								
                                 <td>UDP</td>
                                 								
                                 <td>17</td>
                                 								
                                 <td>0 - 65535 (All)</td>
                                 								
                                 <td>The ID of the security group</td>
                                 							
                              </tr>
                              						
                           </tbody></table>
                        </div>
                     </div>
                     			
                     		
                     <h2 id="sg-rules-local-access">Access from local computer</h2>
                     			
                     			
                     <p>To connect to your instance, your security group must have inbound rules that
                        				allow SSH access (for Linux instances) or RDP access (for Windows instances).
                     </p>
                     
                     				
                     <div class="table">
                        <div class="table-contents">
                           <table id="w185aac21c17c25c15b4">
                              							
                              <tbody><tr>
                                 								
                                 <th>Protocol type</th>
                                 								
                                 <th>Protocol number</th>
                                 								
                                 <th>Port</th>
                                 								
                                 <th>Source IP</th>
                                 							
                              </tr>
                              						
                              							
                              <tr>
                                 								
                                 <td>TCP</td>
                                 								
                                 <td>6</td>
                                 								
                                 <td>22 (SSH)</td>
                                 								
                                 <td>The public IPv4 address of your computer, or a range of IP
                                    									addresses in your local network. If your VPC is enabled for IPv6
                                    									and your instance has an IPv6 address, you can enter an IPv6
                                    									address or range.
                                 </td>
                                 							
                              </tr>
                              							
                              <tr>
                                 								
                                 <td>TCP</td>
                                 								
                                 <td>6</td>
                                 								
                                 <td>3389 (RDP)</td>
                                 								
                                 <td>The public IPv4 address of your computer, or a range of IP
                                    									addresses in your local network. If your VPC is enabled for IPv6
                                    									and your instance has an IPv6 address, you can enter an IPv6
                                    									address or range.
                                 </td>
                                 							
                              </tr>
                              						
                           </tbody></table>
                        </div>
                     </div>
                     			
                     		
                     <h2 id="sg-rules-path-mtu">Path MTU Discovery</h2>
                     			
                     			
                     <p>The path MTU is the maximum packet size that&apos;s supported on the path between the
                        				originating host and the receiving host. If a host sends a packet that&apos;s larger
                        than
                        				the MTU of the receiving host or that&apos;s larger than the MTU of a device along
                        the
                        				path, the receiving host returns the following ICMP message:
                        				
                     </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">Destination Unreachable: Fragmentation Needed and Don&apos;t Fragment was Set</code></pre>
                     			<p>To ensure that your instance can receive this message and the packet does not get
                        				dropped, you must add an ICMP rule to your inbound security group rules.
                     </p>
                     
                     				
                     <div class="table">
                        <div class="table-contents">
                           <table id="w185aac21c17c25c17b7">
                              							
                              <tbody><tr>
                                 								
                                 <th>Protocol type</th>
                                 								
                                 <th>Protocol number</th>
                                 								
                                 <th>ICMP type</th>
                                 								
                                 <th>ICMP code</th>
                                 								
                                 <th>Source IP</th>
                                 							
                              </tr>
                              						
                              							
                              <tr>
                                 								
                                 <td>ICMP</td>
                                 								
                                 <td>1</td>
                                 								
                                 <td>3 (Destination Unreachable)</td>
                                 								
                                 <td>4 (Fragmentation Needed and Don&apos;t Fragment was Set)</td>
                                 								
                                 <td>The IP addresses of the hosts that communicate with your
                                    									instance
                                 </td>
                                 							
                              </tr>
                              						
                           </tbody></table>
                        </div>
                     </div>
                     			
                     		
                     <h2 id="sg-rules-ping">Ping your instance</h2>
                     			
                     			
                     <p>The <code class="code">ping</code> command is a type of ICMP traffic. To ping your instance,
                        				you must add the following inbound ICMP rule.
                     </p>
                     			
                     <div class="table">
                        <div class="table-contents">
                           <table id="w185aac21c17c25c19b4">
                              						
                              <tbody><tr>
                                 							
                                 <th>Protocol type</th>
                                 							
                                 <th>Protocol number</th>
                                 							
                                 <th>ICMP type</th>
                                 							
                                 <th>ICMP code</th>
                                 							
                                 <th>Source IP</th>
                                 						
                              </tr>
                              					
                              						
                              <tr>
                                 							
                                 <td>ICMP</td>
                                 							
                                 <td>1</td>
                                 							
                                 <td>8 (Echo)</td>
                                 							
                                 <td>N/A</td>
                                 							
                                 <td>The public IPv4 address of your computer, or a range of IPv4
                                    								addresses in your local network
                                 </td>
                                 						
                              </tr>
                              					
                           </tbody></table>
                        </div>
                     </div>
                     			
                     <p>To use the <code class="code">ping6</code> command to ping the IPv6 address for your instance,
                        				you must add the following inbound ICMPv6 rule.
                     </p>
                     
                     				
                     <div class="table">
                        <div class="table-contents">
                           <table id="w185aac21c17c25c19b8">
                              							
                              <tbody><tr>
                                 								
                                 <th>Protocol type</th>
                                 								
                                 <th>Protocol number</th>
                                 								
                                 <th>ICMP type</th>
                                 								
                                 <th>ICMP code</th>
                                 								
                                 <th>Source IP</th>
                                 							
                              </tr>
                              						
                              							
                              <tr>
                                 								
                                 <td>ICMPv6</td>
                                 								
                                 <td>58</td>
                                 								
                                 <td>128 (Echo)</td>
                                 								
                                 <td>0</td>
                                 								
                                 <td>The IPv6 address of your computer, or a range of IPv6
                                    									addresses in your local network
                                 </td>
                                 							
                              </tr>
                              						
                           </tbody></table>
                        </div>
                     </div>
                     			
                     		
                     <h2 id="sg-rules-dns">DNS server</h2>
                     			
                     			
                     <p>If you&apos;ve set up your EC2 instance as a DNS server, you must ensure that TCP and
                        				UDP traffic can reach your DNS server over port 53. 
                     </p>
                     			
                     <p>For the source IP, specify one of the following:</p>
                     <div class="itemizedlist">
                        					
                        					
                        				
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              						
                              <p>A specific IP address or range of IP addresses in a network</p>
                              					
                           </li>
                           <li class="listitem">
                              						
                              <p>A security group ID for a group of instances in your network that
                                 							require access to the DNS server
                              </p>
                              					
                           </li>
                        </ul>
                     </div>
                     
                     
                     				
                     <div class="table">
                        <div class="table-contents">
                           <table id="w185aac21c17c25c21b7">
                              							
                              <tbody><tr>
                                 								
                                 <th>Protocol type</th>
                                 								
                                 <th>Protocol number</th>
                                 								
                                 <th>Port</th>
                                 							
                              </tr>
                              						
                              							
                              <tr>
                                 								
                                 <td>TCP</td>
                                 								
                                 <td>6</td>
                                 								
                                 <td>53</td>
                                 							
                              </tr>
                              							
                              <tr>
                                 								
                                 <td>UDP</td>
                                 								
                                 <td>17</td>
                                 								
                                 <td>53</td>
                                 							
                              </tr>
                              						
                           </tbody></table>
                        </div>
                     </div>
                     			
                     		
                     <h2 id="sg-rules-efs">Amazon EFS file system</h2>
                     			
                     			
                     <p>If you&apos;re using an Amazon EFS file system with your Amazon EC2 instances, the security
                        group
                        				that you associate with your Amazon EFS mount targets must allow traffic over
                        the NFS
                        				protocol. 
                     </p>
                     
                     				
                     <div class="table">
                        <div class="table-contents">
                           <table id="w185aac21c17c25c23b4">
                              							
                              <tbody><tr>
                                 								
                                 <th>Protocol type</th>
                                 								
                                 <th>Protocol number</th>
                                 								
                                 <th>Ports</th>
                                 								
                                 <th>Source IP</th>
                                 								
                                 <th>Notes</th>
                                 							
                              </tr>
                              						
                              							
                              <tr>
                                 								
                                 <td>TCP</td>
                                 								
                                 <td>6</td>
                                 								
                                 <td>2049 (NFS)</td>
                                 								
                                 <td>The ID of the security group.</td>
                                 								
                                 <td>Allows inbound NFS access from resources (including the mount
                                    									target) associated with this security group. 
                                 </td>
                                 							
                              </tr>
                              						
                           </tbody></table>
                        </div>
                     </div>
                     			
                     			
                     <p>To mount an Amazon EFS file system on your Amazon EC2 instance, you must connect to
                        your
                        				instance. Therefore, the security group associated with your instance must have
                        				rules that allow inbound SSH from your local computer or local network.
                     </p>
                     			
                     <div class="table">
                        <div class="table-contents">
                           <table id="w185aac21c17c25c23b8">
                              						
                              <tbody><tr>
                                 							
                                 <th>Protocol type</th>
                                 							
                                 <th>Protocol number</th>
                                 							
                                 <th>Ports</th>
                                 							
                                 <th>Source IP</th>
                                 							
                                 <th>Notes</th>
                                 						
                              </tr>
                              					
                              						
                              <tr>
                                 							
                                 <td>TCP</td>
                                 							
                                 <td>6</td>
                                 							
                                 <td>22 (SSH)</td>
                                 							
                                 <td>The IP address range of your local computer, or the range of IP
                                    								addresses for your network.
                                 </td>
                                 							
                                 <td>Allows inbound SSH access from your local computer.</td>
                                 						
                              </tr>
                              					
                           </tbody></table>
                        </div>
                     </div>
                     
                     		
                     <h2 id="sg-rules-elb">Elastic Load Balancing</h2>
                     			
                     			
                     <p>If you&apos;re using a load balancer, the security group associated with your load
                        				balancer must have rules that allow communication with your instances or
                        				targets.
                     </p>
                     
                     				
                     <div class="table">
                        <div class="table-contents">
                           <table id="w185aac21c17c25c25b4">
                              							
                              <tbody><tr bgcolor="#eeeeee">
                                 								
                                 								
                                 								
                                 <td colspan="5"><b>Inbound</b></td>
                                 							
                              </tr>
                              							
                              <tr>
                                 								
                                 <td><b>Protocol type</b></td>
                                 								
                                 <td><b>Protocol number</b></td>
                                 								
                                 <td><b>Port</b></td>
                                 								
                                 <td><b>Source IP</b></td>
                                 								
                                 <td><b>Notes</b></td>
                                 							
                              </tr>
                              							
                              <tr>
                                 								
                                 <td>TCP</td>
                                 								
                                 <td>6</td>
                                 								
                                 <td>The listener port</td>
                                 								
                                 <td>
                                    									
                                    <p>For an Internet-facing load-balancer: 0.0.0.0/0 (all IPv4
                                       										addresses)
                                    </p>
                                    									
                                    <p>For an internal load-balancer: the IPv4 CIDR block of the
                                       										VPC
                                    </p>
                                    								
                                 </td>
                                 								
                                 <td>Allow inbound traffic on the load balancer listener
                                    									port.
                                 </td>
                                 							
                              </tr>
                              							
                              <tr bgcolor="#eeeeee">
                                 								
                                 								
                                 								
                                 <td colspan="5"><b>Outbound</b></td>
                                 							
                              </tr>
                              							
                              <tr>
                                 								
                                 <td><b>Protocol type</b></td>
                                 								
                                 <td><b>Protocol number</b></td>
                                 								
                                 <td><b>Port</b></td>
                                 								
                                 <td><b>Destination IP</b></td>
                                 								
                                 <td><b>Notes</b></td>
                                 							
                              </tr>
                              							
                              <tr>
                                 								
                                 <td>TCP</td>
                                 								
                                 <td>6</td>
                                 								
                                 <td>The instance listener port</td>
                                 								
                                 <td>The ID of the instance security group</td>
                                 								
                                 <td>Allow outbound traffic to instances on the instance listener
                                    									port.
                                 </td>
                                 							
                              </tr>
                              							
                              <tr>
                                 								
                                 <td>TCP</td>
                                 								
                                 <td>6</td>
                                 								
                                 <td>The health check port</td>
                                 								
                                 <td>The ID of the instance security group</td>
                                 								
                                 <td>Allow outbound traffic to instances on the health check
                                    									port.
                                 </td>
                                 							
                              </tr>
                              						
                           </tbody></table>
                        </div>
                     </div>
                     			
                     			
                     <p>The security group rules for your instances must allow the load balancer to
                        				communicate with your instances on both the listener port and the health check
                        				port.
                     </p>
                     			
                     <div class="table">
                        <div class="table-contents">
                           <table id="w185aac21c17c25c25b8">
                              						
                              <tbody><tr bgcolor="#eeeeee">
                                 							
                                 							
                                 							
                                 <td colspan="5"><b>Inbound</b></td>
                                 						
                              </tr>
                              						
                              <tr>
                                 							
                                 <td><b>Protocol type</b></td>
                                 							
                                 <td><b>Protocol number</b></td>
                                 							
                                 <td><b>Port</b></td>
                                 							
                                 <td><b>Source IP</b></td>
                                 							
                                 <td><b>Notes</b></td>
                                 						
                              </tr>
                              						
                              <tr>
                                 							
                                 <td>TCP</td>
                                 							
                                 <td>6</td>
                                 							
                                 <td>The instance listener port</td>
                                 							
                                 <td>
                                    								
                                    <p>The ID of the load balancer security group</p>
                                    							
                                 </td>
                                 							
                                 <td>Allow traffic from the load balancer on the instance listener
                                    								port.
                                 </td>
                                 						
                              </tr>
                              						
                              <tr>
                                 							
                                 <td>TCP</td>
                                 							
                                 <td>6</td>
                                 							
                                 <td>The health check port</td>
                                 							
                                 <td>The ID of the load balancer security group</td>
                                 							
                                 <td>Allow traffic from the load balancer on the health check
                                    								port.
                                 </td>
                                 						
                              </tr>
                              					
                           </tbody></table>
                        </div>
                     </div>
                     			
                     <p>For more information, see <a href="./elasticloadbalancing/latest/classic/elb-security-groups.html" target="_blank">Configure Security Groups for Your Classic Load Balancer</a> in the
                        					<em>User Guide for Classic Load Balancers</em>, and <a href="./elasticloadbalancing/latest/application/load-balancer-update-security-groups.html" target="_blank">Security Groups for
                           					Your Application Load Balancer</a> in the
                        					<em>User Guide for Application Load Balancers</em>.
                     </p>
                     		
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="using-network-security.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="UsingIAM.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Web server"><a class="pagetoc" href="#sg-rules-web-server">Web server</a></li>
                        <li class="pagetoc" name="Database server"><a class="pagetoc" href="#sg-rules-db-server">Database server</a></li>
                        <li class="pagetoc" name="Access from another instance in the same
				group"><a class="pagetoc" href="#sg-rules-other-instances">Access from another instance in the same
                              				group</a></li>
                        <li class="pagetoc" name="Access from local computer"><a class="pagetoc" href="#sg-rules-local-access">Access from local computer</a></li>
                        <li class="pagetoc" name="Path MTU Discovery"><a class="pagetoc" href="#sg-rules-path-mtu">Path MTU Discovery</a></li>
                        <li class="pagetoc" name="Ping your instance"><a class="pagetoc" href="#sg-rules-ping">Ping your instance</a></li>
                        <li class="pagetoc" name="DNS server"><a class="pagetoc" href="#sg-rules-dns">DNS server</a></li>
                        <li class="pagetoc" name="Amazon EFS file system"><a class="pagetoc" href="#sg-rules-efs">Amazon EFS file system</a></li>
                        <li class="pagetoc" name="Elastic Load Balancing"><a class="pagetoc" href="#sg-rules-elb">Elastic Load Balancing</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='Amazon Elastic Compute Cloud';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='User Guide for Linux Instances';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>