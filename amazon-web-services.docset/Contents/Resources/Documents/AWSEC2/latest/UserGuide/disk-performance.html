<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Optimizing Disk Performance for Instance Store
         Volumes - Amazon Elastic Compute Cloud
      </title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="InstanceStorage.html" title="Amazon EC2 Instance Store">
      <link rel="prev" href="instance-store-swap-volumes.html" title="Instance Store Swap Volumes">
      <link rel="next" href="AmazonEFS.html" title="Amazon Elastic File System (Amazon EFS)">
      <meta name="description" content="Ensure high disk performance of your instance store volumes.">
      <meta name="keywords" content="EC2,Amazon EC2,EC2 instance,instance,VM,virtual machine">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="Amazon Elastic Compute Cloud">
      <meta name="guide" content="User Guide for Linux Instances">
      <meta name="guide-locale" content="en_us">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/disk-performance.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="http://aws.amazon.com/documentation">AWS Documentation</a> &#xBB; <a href="http://aws.amazon.com/documentation/ec2">Amazon EC2</a> &#xBB; <a href="index.html">User Guide for Linux Instances</a> &#xBB; <a href="Storage.html">Storage</a> &#xBB; <a href="InstanceStorage.html">Amazon EC2 Instance Store</a> &#xBB; <span class="breadcrumb">Optimizing Disk Performance for Instance Store
                                    Volumes</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div></div>
                     <h1 class="topictitle" id="disk-performance">Optimizing Disk Performance for Instance Store
                        Volumes
                     </h1>
                     <p>Because of the way that Amazon EC2 virtualizes disks, the first write to any location
                        on most
                        instance store volumes performs more slowly than subsequent writes. For most applications,
                        amortizing this cost over the lifetime of the instance is acceptable. However, if
                        you require
                        high disk performance, we recommend that you initialize your drives by writing once
                        to every
                        drive location before production use.
                     </p>
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>Some instance types with direct-attached solid state drives (SSD) and TRIM support
                           provide maximum performance at launch time, without initialization. For information
                           about
                           the instance store for each instance type, see <a href="InstanceStorage.html#instance-store-volumes">Instance Store Volumes</a>.
                        </p>
                     </div>
                     <p>If you require greater flexibility in latency or throughput, we recommend using
                        Amazon EBS.
                     </p>
                     <p>To initialize the instance store volumes, use the following <code class="code">dd</code> commands,
                        depending on the store to initialize (for example, <code>/dev/sdb</code> or
                        <code>/dev/nvme1n1</code>).
                     </p>
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>Make sure to unmount the drive before performing this command. </p>
                        <p>Initialization can take a long time (about 8 hours for an extra large instance).</p>
                     </div>
                     <p>To initialize the instance store volumes, use the following commands on the
                        <code class="code">m1.large</code>, <code class="code">m1.xlarge</code>, <code class="code">c1.xlarge</code>,
                        <code class="code">m2.xlarge</code>, <code class="code">m2.2xlarge</code>, and <code class="code">m2.4xlarge</code> instance
                        types:
                     </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">dd if=/dev/zero of=/dev/sdb bs=1M          
dd if=/dev/zero of=/dev/sdc bs=1M          
dd if=/dev/zero of=/dev/sdd bs=1M          
dd if=/dev/zero of=/dev/sde bs=1M</code></pre><p>To perform initialization on all instance store volumes at the same time, use the
                        following command: 
                     </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">dd if=/dev/zero bs=1M|tee /dev/sdb|tee /dev/sdc|tee /dev/sde &gt; /dev/sdd</code></pre><p>Configuring drives for RAID initializes them by writing to every drive location. When
                        configuring software-based RAID, make sure to change the minimum reconstruction speed:
                        
                     </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">echo $((30*1024)) &gt; /proc/sys/dev/raid/speed_limit_min</code></pre></div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="instance-store-swap-volumes.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="AmazonEFS.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper"></div>
            </div>
         </div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='Amazon Elastic Compute Cloud';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='User Guide for Linux Instances';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>