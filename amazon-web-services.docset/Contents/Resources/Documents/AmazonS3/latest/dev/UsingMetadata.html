<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Object Key and Metadata - Amazon Simple Storage Service</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="UsingObjects.html" title="Working with Amazon S3 Objects">
      <link rel="prev" href="UsingObjects.html" title="Working with Amazon S3 Objects">
      <link rel="next" href="storage-class-intro.html" title="Storage Classes">
      <meta name="description" content="Describes the object key, uniquely identifying the object, and the metadata, a set of name-values pairs, that are required for each Amazon S3 object.">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="Amazon Simple Storage Service">
      <meta name="guide" content="Developer Guide">
      <meta name="guide-locale" content="en_us">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingMetadata.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="http://aws.amazon.com/documentation">AWS Documentation</a> &#xBB; <a href="http://aws.amazon.com/documentation/s3">Amazon Simple Storage Service (S3)</a> &#xBB; <a href="index.html">Developer Guide</a> &#xBB; <a href="UsingObjects.html">Working with Amazon S3 Objects</a> &#xBB; <span class="breadcrumb">Object Key and Metadata</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div></div>
                     <h1 class="topictitle" id="UsingMetadata">Object Key and Metadata</h1>
                     <div class="highlights" id="inline-topiclist">
                        <p><strong>Topics</strong></p>
                        <ul>
                           <li><a href="#object-keys">Object Keys</a></li>
                           <li><a href="#object-metadata">Object Metadata</a></li>
                        </ul>
                     </div>
                     <p>Each Amazon S3 object has data, a key, and metadata. Object key (or key name) uniquely
                        identifies the object in a bucket. Object metadata is a set of name-value pairs. You
                        can set
                        object metadata at the time you upload it. After you upload the object, you cannot
                        modify
                        object metadata. The only way to modify object metadata is to make a copy of the object
                        and
                        set the metadata. 
                     </p>
                     
                     <h2 id="object-keys">Object Keys</h2>
                     
                     
                     <p>When you create an object, you specify the key name, which uniquely identifies the
                        object in the bucket. For example, in the Amazon S3 console (see <a href="https://console.aws.amazon.com/s3/home" target="_blank">AWS Management Console</a>), when you highlight a
                        bucket, a list of objects in your bucket appears. These names are the object keys.
                        The name
                        for a key is a sequence of Unicode characters whose UTF-8 encoding is at most 1024
                        bytes
                        long. 
                     </p>
                     
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>If you anticipate that your workload against Amazon S3 will exceed 100 requests per
                           second,
                           follow the Amazon S3 key naming guidelines for best performance. For information,
                           see <a href="request-rate-perf-considerations.html">Request Rate and Performance Considerations</a>.
                        </p>
                     </div>
                     
                     
                     <h3 id="object-key-guidelines">Object Key Naming Guidelines</h3>
                     
                     
                     <p>Although you can use any UTF-8 characters in an object key name, the following best
                        practices for key naming help ensure maximum compatibility with other applications.&#xA0;
                        Each
                        application might parse special characters differently. The following guidelines help
                        you
                        maximize compliance with DNS, web safe characters, XML parsers, and other APIs. 
                     </p>
                     
                     
                     <h4 id="object-key-guidelines-safe-characters">Safe Characters</h4>
                     
                     
                     <p>The following character sets are generally safe for use in key names:</p>
                     
                     <div class="itemizedlist">
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p>Alphanumeric characters [0-9a-zA-Z]</p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>Special characters !, -, _, ., *, &apos;, (, and )</p>
                              
                           </li>
                        </ul>
                     </div>
                     
                     <p>The following are examples of valid object key names:</p>
                     
                     <div class="itemizedlist">
                        
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p> 4my-organization </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p> my.great_photos-2014/jan/myvacation.jpg </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p> videos/2014/birthday/video1.wmv</p>
                              
                           </li>
                        </ul>
                     </div>
                     
                     <p>The Amazon S3 data model is a flat structure: you create a bucket, and the bucket
                        stores
                        objects. There is no hierarchy of subbuckets or subfolders; however, you can infer
                        logical hierarchy using key name prefixes and delimiters as the Amazon S3 console
                        does. The
                        Amazon S3 console supports a concept of folders. Suppose that your bucket
                        (<code>admin-created</code>) has four objects with the following object
                        keys:
                     </p>
                     
                     <p><code>Development/Projects1.xls</code></p>
                     
                     <p><code>Finance/statement1.pdf</code></p>
                     
                     <p><code>Private/taxdocument.pdf</code></p>
                     
                     <p><code>s3-dg.pdf</code></p>
                     
                     <p>The console uses the key name prefixes (<code>Development/</code>,
                        <code>Finance/</code>, and <code>Private/</code>) and delimiter (&apos;/&apos;)
                        to present a folder structure as shown:
                     </p>
                     
                     
                     <div class="mediaobject">
                        
                        
                        <img src="../../..//img/ui-folder.png" alt="
              Screenshot of Amazon S3 console with Development, Finance, and Private
                folders.
            ">
                        
                        
                        
                        
                        
                        
                        
                        
                     </div>
                     
                     
                     <p>The <code>s3-dg.pdf</code> key does not have a prefix, so its object appears
                        directly at the root level of the bucket. If you open the
                        <code>Development/</code> folder, you see the
                        <code>Projects.xlsx</code> object in it. 
                     </p>
                     
                     <div class="mediaobject">
                        
                        
                        <img src="../../..//img/ui-file-in-folder.png" alt="
              Screenshot of Amazon S3 console with Projects.xlsx file selected in the
                Development folder.
            ">
                        
                        
                        
                        
                        
                        
                        
                        
                     </div>
                     
                     
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>Amazon S3 supports buckets and objects, and there is no hierarchy in Amazon S3. However,
                           the
                           prefixes and delimiters in an object key name enable the Amazon S3 console and the
                           AWS SDKs
                           to infer hierarchy and introduce the concept of folders.
                        </p>
                     </div>
                     
                     
                     
                     <h4 id="object-key-guidelines-special-handling">Characters That Might Require
                        Special Handling
                     </h4>
                     
                     
                     <p>The following characters in a key name might require additional code handling and
                        likely will need to be URL encoded or referenced as HEX. Some of these are non-printable
                        characters and your browser might not handle them, which also requires special
                        handling:
                     </p>
                     
                     <div class="table">
                        <div class="table-contents">
                           <table id="w70aac18c11b7b7b7b5">
                              
                              <tbody><tr>
                                 
                                 <td>
                                    <p>Ampersand (&quot;&amp;&quot;) </p>
                                 </td>
                                 
                                 <td>
                                    <p>Dollar (&quot;$&quot;) </p>
                                 </td>
                                 
                                 <td>
                                    <p>ASCII character ranges 00&#x2013;1F hex (0&#x2013;31 decimal) and 7F (127 decimal) </p>
                                 </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p>&apos;At&apos; symbol (&quot;@&quot;) </p>
                                 </td>
                                 
                                 <td>
                                    <p>Equals (&quot;=&quot;) </p>
                                 </td>
                                 
                                 <td>
                                    <p>Semicolon (&quot;;&quot;) </p>
                                 </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p>Colon (&quot;:&quot;) </p>
                                 </td>
                                 
                                 <td>
                                    <p>Plus (&quot;+&quot;) </p>
                                 </td>
                                 
                                 <td>
                                    <p>Space &#x2013; Significant sequences of spaces may be lost in some uses (especially multiple
                                       spaces) 
                                    </p>
                                 </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p>Comma (&quot;,&quot;) </p>
                                 </td>
                                 
                                 <td>
                                    <p>Question mark (&quot;?&quot;) </p>
                                 </td>
                                 
                                 <td>&#xA0;</td>
                                 
                              </tr>
                              
                           </tbody></table>
                        </div>
                     </div>
                     
                     
                     
                     <h4 id="object-key-guidelines-avoid-characters">Characters to Avoid</h4>
                     
                     
                     <p>Avoid the following characters in a key name because of significant special handling
                        for consistency across all applications. 
                     </p>
                     
                     <div class="table">
                        <div class="table-contents">
                           <table id="w70aac18c11b7b7b9b5">
                              
                              <tbody><tr>
                                 
                                 <td>
                                    <p>Backslash (&quot;\&quot;) </p>
                                 </td>
                                 
                                 <td>
                                    <p>Left curly brace (&quot;{&quot;) </p>
                                 </td>
                                 
                                 <td>
                                    <p>Non-printable ASCII characters (128&#x2013;255 decimal
                                       characters)
                                    </p>
                                 </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p>Caret (&quot;^&quot;) </p>
                                 </td>
                                 
                                 <td>
                                    
                                    <p>Right curly brace (&quot;}&quot;) </p>
                                 </td>
                                 
                                 <td>
                                    <p>Percent character (&quot;%&quot;) </p>
                                 </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p>Grave accent / back tick (&quot;`&quot;) </p>
                                 </td>
                                 
                                 <td>
                                    <p>Right square bracket (&quot;]&quot;) </p>
                                 </td>
                                 
                                 <td>
                                    <p>Quotation marks </p>
                                 </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p>&apos;Greater Than&apos; symbol (&quot;&gt;&quot;) </p>
                                 </td>
                                 
                                 <td>
                                    <p>Left square bracket (&quot;[&quot;) </p>
                                 </td>
                                 
                                 <td>
                                    <p>Tilde (&quot;~&quot;) </p>
                                 </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p>&apos;Less Than&apos; symbol (&quot;&lt;&quot;) </p>
                                 </td>
                                 
                                 <td>
                                    <p>&apos;Pound&apos; character (&quot;#&quot;) </p>
                                 </td>
                                 
                                 <td>
                                    <p>Vertical bar / pipe (&quot;|&quot;) </p>
                                 </td>
                                 
                              </tr>
                              
                           </tbody></table>
                        </div>
                     </div>
                     
                     
                     
                     
                     <h2 id="object-metadata">Object Metadata</h2>
                     
                     
                     <p>There are two kinds of metadata: system metadata and user-defined metadata. </p>
                     
                     
                     <h3 id="SysMetadata">System-Defined Metadata</h3>
                     
                     
                     <p>For each object stored in a bucket, Amazon S3 maintains a set of system metadata.
                        Amazon S3
                        processes this system metadata as needed. For example, Amazon S3 maintains object
                        creation date
                        and size metadata and uses this information as part of object management. 
                     </p>
                     
                     <p>There are two categories of system metadata: </p>
                     
                     <div class="itemizedlist">
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p>Metadata such as object creation date is system controlled where only Amazon S3 can
                                 modify the value. 
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>Other system metadata, such as the storage class configured for the object and
                                 whether the object has server-side encryption enabled, are examples of system metadata
                                 whose values you control. If your bucket is configured as a website, sometimes you
                                 might want to redirect a page request to another page or an external URL. In this
                                 case, a webpage is an object in your bucket. Amazon S3 stores the page redirect value
                                 as
                                 system metadata whose value you control. 
                              </p>
                              
                              <p>When you create objects, you can configure values of these system metadata items
                                 or update the values when you need to. For more information about storage classes,
                                 see
                                 <a href="storage-class-intro.html">Storage Classes</a>. For more
                                 information about server-side encryption, see <a href="UsingEncryption.html">Protecting Data Using Encryption</a>. 
                              </p>
                              
                           </li>
                        </ul>
                     </div>
                     
                     
                     
                     <p>The following table provides a list of system-defined metadata and whether you can
                        update it.
                     </p>
                     
                     <div class="table">
                        <div class="table-contents">
                           <table id="w70aac18c11b9b5c11">
                              
                              <tbody><tr>
                                 
                                 <th>Name</th>
                                 
                                 <th>Description</th>
                                 
                                 <th>Can User Modify the Value?</th>
                                 
                              </tr>
                              
                              
                              <tr>
                                 
                                 <td>Date</td>
                                 
                                 <td>Current date and time.</td>
                                 
                                 <td>No</td>
                                 
                              </tr>
                              
                              
                              <tr>
                                 
                                 <td>Content-Length</td>
                                 
                                 <td>Object size in bytes.</td>
                                 
                                 <td>No</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>Last-Modified</td>
                                 
                                 <td>
                                    
                                    <p>Object creation date or the last modified date, whichever is the
                                       latest.
                                    </p>
                                    
                                 </td>
                                 
                                 <td>No</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>Content-MD5</td>
                                 
                                 <td>The base64-encoded 128-bit MD5 digest of the object.</td>
                                 
                                 <td>No</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>x-amz-server-side-encryption</td>
                                 
                                 <td>Indicates whether server-side encryption is enabled for the object, and
                                    whether that encryption is from the AWS Key Management Service (SSE-KMS) or from
                                    AWS managed encryption (SSE-S3). For more information, see <a href="serv-side-encryption.html">Protecting Data Using Server-Side Encryption</a>. 
                                 </td>
                                 
                                 <td>Yes</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>x-amz-version-id</td>
                                 
                                 <td>Object version. When you enable versioning on a bucket, Amazon S3 assigns a
                                    version number to objects added to the bucket. For more information, see <a href="Versioning.html">Using Versioning</a>.
                                 </td>
                                 
                                 <td>No</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>x-amz-delete-marker</td>
                                 
                                 <td>In a bucket that has versioning enabled, this Boolean marker indicates
                                    whether the object is a delete marker. 
                                 </td>
                                 
                                 <td>No</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>x-amz-storage-class</td>
                                 
                                 <td>Storage class used for storing the object. For more information, see <a href="storage-class-intro.html">Storage Classes</a>.
                                 </td>
                                 
                                 <td>Yes</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>x-amz-website-redirect-location</td>
                                 
                                 <td>
                                    Redirects requests for the associated object to another object in the same bucket
                                    or an external URL. For more information, see <a href="how-to-page-redirect.html">(Optional) Configuring a Webpage
                                       					Redirect</a>.
                                 </td>
                                 
                                 <td>Yes</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>x-amz-server-side-encryption-aws-kms-key-id</td>
                                 
                                 <td>If  x-amz-server-side-encryption is present and has the value of
                                    <code class="code">aws:kms</code>, this indicates the ID of the AWS Key Management Service (AWS KMS) master
                                    encryption key that was used for the object.
                                 </td>
                                 
                                 <td>Yes</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>x-amz-server-side-encryption-customer-algorithm</td>
                                 
                                 <td>Indicates whether server-side encryption with customer-provided encryption
                                    keys (SSE-C) is enabled. For more information, see <a href="ServerSideEncryptionCustomerKeys.html">Protecting Data Using Server-Side Encryption
                                       		with Customer-Provided Encryption Keys (SSE-C)</a>. 
                                 </td>
                                 
                                 <td>Yes</td>
                                 
                              </tr>
                              
                           </tbody></table>
                        </div>
                     </div>
                     
                     
                     
                     
                     
                     <h3 id="UserMetadata">User-Defined Metadata</h3>
                     
                     
                     <p>When uploading an object, you can also assign metadata to the object. You provide
                        this
                        optional information as a name-value (key-value) pair when you send a PUT or POST
                        request
                        to create the object. When you upload objects using the REST API, the optional
                        user-defined metadata names must begin with &quot;x-amz-meta-&quot; to distinguish them from
                        other
                        HTTP headers. When you retrieve the object using the REST API, this prefix is returned.
                        When you upload objects using the SOAP API, the prefix is not required. When you retrieve
                        the object using the SOAP API, the prefix is removed, regardless of which API you
                        used to
                        upload the object. 
                     </p> 
                     
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>
                           SOAP support over HTTP is deprecated, but it is still available over HTTPS. 
                           New Amazon S3 features will not be supported for SOAP. We recommend that you use 
                           either the REST API or the AWS SDKs.
                           
                        </p>
                     </div>
                     
                     <p>When metadata is retrieved through the REST API,
                        Amazon S3 combines headers that have the same name (ignoring case) into a comma-delimited
                        list.
                        If some metadata contains unprintable characters, it is not returned. Instead, the
                        <code class="code">x-amz-missing-meta</code> header is returned with a value of the number of
                        unprintable metadata entries.
                     </p>
                     
                     <p>User-defined metadata is a set of key-value pairs. Amazon S3 stores user-defined metadata
                        keys in lowercase. Each key-value pair must conform to US-ASCII when you are using
                        REST
                        and to UTF-8 when you are using SOAP or browser-based uploads via POST.
                     </p>
                     
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>The PUT request header is limited to 8 KB in size. Within the PUT request header,
                           the user-defined metadata is limited to 2 KB in size. The size of user-defined metadata
                           is measured by taking the sum of the number of bytes in the UTF-8 encoding of each
                           key
                           and value. 
                        </p>
                     </div>
                     
                     <p>For information about adding metadata to your object after it&#x2019;s been uploaded, see
                        <a href="./AmazonS3/latest/user-guide/add-object-metadata.html" target="_blank">How Do I Add Metadata to an S3 Object?</a>
                        in the <em>Amazon Simple Storage Service Console User Guide</em>.
                     </p>
                     
                     
                     
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="UsingObjects.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="storage-class-intro.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Object Keys"><a class="pagetoc" href="#object-keys">Object Keys</a></li>
                        <li class="pagetoc" name="Object Metadata"><a class="pagetoc" href="#object-metadata">Object Metadata</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='Amazon Simple Storage Service';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='Developer Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>