<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Logging Amazon S3 API Calls by Using AWS CloudTrail - Amazon Simple Storage Service</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="monitoring-overview.html" title="Monitoring Amazon S3">
      <link rel="prev" href="metrics-configurations.html" title="Metrics Configurations for Buckets">
      <link rel="next" href="S3Torrent.html" title="Using BitTorrent with Amazon S3">
      <meta name="description" content="Describes the integration of AWS CloudTrail with Amazon S3.">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="Amazon Simple Storage Service">
      <meta name="guide" content="Developer Guide">
      <meta name="guide-locale" content="en_us">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/AmazonS3/latest/dev/cloudtrail-logging.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="http://aws.amazon.com/documentation">AWS Documentation</a> &#xBB; <a href="http://aws.amazon.com/documentation/s3">Amazon Simple Storage Service (S3)</a> &#xBB; <a href="index.html">Developer Guide</a> &#xBB; <a href="monitoring-overview.html">Monitoring Amazon S3</a> &#xBB; <span class="breadcrumb">Logging Amazon S3 API Calls by Using AWS CloudTrail</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div></div>
                     <h1 class="topictitle" id="cloudtrail-logging">Logging Amazon S3 API Calls by Using AWS CloudTrail</h1>
                     <p>Amazon S3 is integrated with AWS CloudTrail. CloudTrail is a service that captures
                        specific API calls
                        made to Amazon S3 from your AWS account and delivers the log files to an Amazon S3
                        bucket that you
                        specify. It captures API calls made from the Amazon S3 console or from the Amazon
                        S3 API. 
                     </p>
                     <p>Using the information collected by CloudTrail, you can determine what request was
                        made to
                        Amazon S3, the source IP address from which the request was made, who made the request,
                        when
                        it was made, and so on. This information helps you to track changes made to your AWS
                        resources and to troubleshoot operational issues. CloudTrail makes it easier to ensure
                        compliance with internal policies and regulatory standards. To learn more about CloudTrail,
                        including how to configure and enable it, see the <a href="./awscloudtrail/latest/userguide/" target="_blank">AWS CloudTrail User Guide</a>.
                     </p>
                     
                     <h2 id="cloudtrail-logging-s3-info">Amazon S3 Information in CloudTrail</h2>
                     
                     
                     
                     <p>When CloudTrail logging is enabled in your AWS account, API calls made to certain
                        Amazon S3
                        actions are tracked in CloudTrail log files.
                     </p>
                     
                     
                     <h3 id="cloudtrail-bucket-level-tracking">Amazon S3 Bucket-Level Actions Tracked
                        by CloudTrail Logging
                     </h3>
                     
                     
                     
                     <p>By default, CloudTrail logs bucket-level actions. Amazon S3 records are written together
                        with other AWS service records in a log file. CloudTrail determines when to create
                        and
                        write to a new file based on a time period and file size. 
                     </p>
                     
                     <p>The tables in this section list the Amazon S3 bucket-level actions that are
                        supported for logging by CloudTrail.
                     </p>
                     
                     
                     <div class="table">
                        <p class="title"><b>Amazon S3 Bucket-Level Actions Tracked by CloudTrail Logging</b></p>
                        <div class="table-contents">
                           <table id="w70aac46c15b7b5b6">
                              
                              <tbody><tr>
                                 
                                 <th>REST API Name</th>
                                 
                                 <th>API Event Name Used in CloudTrail Log</th>
                                 
                              </tr>
                              
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTBucketDELETE.html" target="_blank">DELETE
                                          Bucket</a></p>
                                 </td>
                                 
                                 <td>DeleteBucket</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTBucketDELETEcors.html" target="_blank">DELETE Bucket cors</a></p>
                                 </td>
                                 
                                 <td>DeleteBucketCors</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTBucketDELETElifecycle.html" target="_blank">DELETE Bucket lifecycle</a></p>
                                 </td>
                                 
                                 <td>DeleteBucketLifecycle</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTBucketDELETEpolicy.html" target="_blank">DELETE Bucket policy</a></p>
                                 </td>
                                 
                                 <td>DeleteBucketPolicy</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTBucketDELETEreplication.html" target="_blank">DELETE Bucket replication</a></p>
                                 </td>
                                 
                                 <td>DeleteBucketReplication </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTBucketDELETEtagging.html" target="_blank">DELETE Bucket tagging</a></p>
                                 </td>
                                 
                                 <td>DeleteBucketTagging</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTBucketDELETEwebsite.html" target="_blank">DELETE Bucket website</a></p>
                                 </td>
                                 
                                 <td>DeleteBucketWebsite</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTBucketGETacl.html" target="_blank">GET
                                          Bucket acl</a></p>
                                 </td>
                                 
                                 <td>GetBucketAcl</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTBucketGETcors.html" target="_blank">GET
                                          Bucket cors</a></p>
                                 </td>
                                 
                                 <td>GetBucketCors</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTBucketGETlifecycle.html" target="_blank">GET Bucket lifecycle</a></p>
                                 </td>
                                 
                                 <td>GetBucketLifecycle </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTBucketGETpolicy.html" target="_blank">GET
                                          Bucket policy</a></p>
                                 </td>
                                 
                                 <td>GetBucketPolicy</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTBucketGETlocation.html" target="_blank">GET
                                          Bucket location</a></p>
                                 </td>
                                 
                                 <td>GetBucketLocation </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTBucketGETlogging.html" target="_blank">GET
                                          Bucket logging</a></p>
                                 </td>
                                 
                                 <td>GetBucketLogging </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTBucketGETnotification.html" target="_blank">GET Bucket notification</a></p>
                                 </td>
                                 
                                 <td>GetBucketNotification</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTBucketGETreplication.html" target="_blank">GET Bucket replication</a></p>
                                 </td>
                                 
                                 <td>GetBucketReplication</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTBucketGETtagging.html" target="_blank">GET
                                          Bucket tagging</a></p>
                                 </td>
                                 
                                 <td>GetBucketTagging </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTrequestPaymentGET.html" target="_blank">GET
                                          Bucket requestPayment</a></p>
                                 </td>
                                 
                                 <td>GetBucketRequestPay </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTBucketGETversioningStatus.html" target="_blank">GET
                                          Bucket versioning</a></p>
                                 </td>
                                 
                                 <td>GetBucketVersioning </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTBucketGETwebsite.html" target="_blank">GET
                                          Bucket website</a></p>
                                 </td>
                                 
                                 <td>GetBucketWebsite </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTServiceGET.html" target="_blank">GET
                                          Service (List all buckets)</a></p>
                                 </td>
                                 
                                 <td>ListBuckets </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTBucketPUT.html" target="_blank">PUT
                                          Bucket</a></p>
                                 </td>
                                 
                                 <td>CreateBucket </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTBucketPUTacl.html" target="_blank">PUT
                                          Bucket acl</a></p>
                                 </td>
                                 
                                 <td>PutBucketAcl </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTBucketPUTcors.html" target="_blank">PUT
                                          Bucket cors</a></p>
                                 </td>
                                 
                                 <td>PutBucketCors </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTBucketPUTlifecycle.html" target="_blank">PUT Bucket lifecycle</a></p>
                                 </td>
                                 
                                 <td>PutBucketLifecycle </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTBucketPUTpolicy.html" target="_blank">PUT
                                          Bucket policy</a></p>
                                 </td>
                                 
                                 <td>PutBucketPolicy </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTBucketPUTlogging.html" target="_blank">PUT
                                          Bucket logging</a></p>
                                 </td>
                                 
                                 <td>PutBucketLogging</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTBucketPUTnotification.html" target="_blank">PUT Bucket notification</a></p>
                                 </td>
                                 
                                 <td>PutBucketNotification </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTBucketPUTreplication.html" target="_blank">PUT Bucket replication</a></p>
                                 </td>
                                 
                                 <td>PutBucketReplication </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTrequestPaymentPUT.html" target="_blank">PUT
                                          Bucket requestPayment</a></p>
                                 </td>
                                 
                                 <td>PutBucketRequestPay </td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTBucketPUTtagging.html" target="_blank">PUT
                                          Bucket tagging</a></p>
                                 </td>
                                 
                                 <td>PutBucketTagging </td>
                                 
                              </tr>
                              
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTBucketPUTVersioningStatus.html" target="_blank">PUT
                                          Bucket versioning</a></p>
                                 </td>
                                 
                                 <td>PutBucketVersioning</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTBucketPUTwebsite.html" target="_blank">PUT
                                          Bucket website</a></p>
                                 </td>
                                 
                                 <td>PutBucketWebsite </td>
                                 
                              </tr>
                              
                           </tbody></table>
                        </div>
                     </div>
                     
                     
                     <p>In addition to these API operations, you can also use the <a href="./AmazonS3/latest/API/RESTOPTIONSobject.html" target="_blank">OPTIONS object</a> object-level
                        action. This action is treated like a bucket-level action in CloudTrail logging
                        because the action checks the cors configuration of a bucket.
                     </p>
                     
                     
                     
                     <h3 id="cloudtrail-object-level-tracking">Amazon S3 Object-Level Actions Tracked
                        by CloudTrail Logging
                     </h3>
                     
                     
                     
                     <p>You can also get CloudTrail logs for object-level Amazon S3 actions. To do this, specify
                        the Amazon S3 object for your trail. When an object-level action occurs in your
                        account, CloudTrail evaluates your trail settings. If the event matches the object
                        that you specified in a trail, the event is logged. For more information, see
                        <a href="./awscloudtrail/latest/userguide/logging-management-and-data-events-with-cloudtrail.html#logging-data-events" target="_blank">Data Events</a> in the <em>AWS CloudTrail User Guide</em>. The
                        following table lists the object-level actions that CloudTrail can log:
                     </p>
                     
                     
                     
                     <div class="table">
                        <div class="table-contents">
                           <table id="w70aac46c15b7b7b4">
                              
                              <tbody><tr>
                                 
                                 <th>REST API Name</th>
                                 
                                 <th>API Event Name Used in CloudTrail Log</th>
                                 
                              </tr>
                              
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTObjectDELETE.html" target="_blank">DeleteObject</a></p>
                                 </td>
                                 
                                 <td>DeleteObject</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTObjectGET.html" target="_blank">GetObject</a></p>
                                 </td>
                                 
                                 <td>GetObject</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTObjectGETacl.html" target="_blank">GetObjectACL</a></p>
                                 </td>
                                 
                                 <td>GetObjectAcl</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTObjectGETtorrent.html" target="_blank">GetObjectTorrent</a></p>
                                 </td>
                                 
                                 <td>GetObjectTorrent</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTObjectHEAD.html" target="_blank">HeadObject</a></p>
                                 </td>
                                 
                                 <td>HeadObject</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTObjectPOST.html" target="_blank">PostObject</a></p>
                                 </td>
                                 
                                 <td>PostObject</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTObjectPOSTrestore.html" target="_blank">PostObjectRestore</a></p>
                                 </td>
                                 
                                 <td>RestoreObject</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTObjectPUT.html" target="_blank">PutObject</a></p>
                                 </td>
                                 
                                 <td>PutObject</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTObjectPUTacl.html" target="_blank">PutObjectACL</a></p>
                                 </td>
                                 
                                 <td>PutObjectAcl</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTObjectCOPY.html" target="_blank">PutObjectCopy</a></p>
                                 </td>
                                 
                                 <td>CopyObject</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/RESTObjectSELECTContent.html" target="_blank">SelectObjectContent</a></p>
                                 </td>
                                 
                                 <td>SelectObjectContent</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/mpUploadInitiate.html" target="_blank">InitiateMultipartUpload</a></p>
                                 </td>
                                 
                                 <td>CreateMultipartUpload</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/mpUploadUploadPart.html" target="_blank">UploadPart</a></p>
                                 </td>
                                 
                                 <td>UploadPart</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/mpUploadUploadPartCopy.html" target="_blank">UploadPart - Copy</a></p>
                                 </td>
                                 
                                 <td>UploadPartCopy</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/mpUploadComplete.html" target="_blank">CompleteMultipartUpload</a></p>
                                 </td>
                                 
                                 <td>CompleteMultipartUpload</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/mpUploadAbort.html" target="_blank">AbortMultipartUpload</a></p>
                                 </td>
                                 
                                 <td>AbortMultipartUpload</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/mpUploadListParts.html" target="_blank">ListParts</a></p>
                                 </td>
                                 
                                 <td>ListParts</td>
                                 
                              </tr>
                              
                           </tbody></table>
                        </div>
                     </div>
                     
                     
                     <p>In addition to these operations, you can use the following bucket-level
                        operations to get CloudTrail logs as object-level Amazon S3 actions under certain
                        conditions:
                     </p>
                     
                     
                     <div class="itemizedlist">
                        
                        
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p><a href="./AmazonS3/latest/API/v2-RESTBucketGET.html" target="_blank">GET Bucket (List
                                    Objects) Version 2</a> &#x2013; Select a prefix specified in the
                                 trail.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p><a href="./AmazonS3/latest/API/RESTBucketGETVersion.html" target="_blank">GET Bucket Object
                                    versions</a> &#x2013; Select a prefix specified in the
                                 trail.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p><a href="./AmazonS3/latest/API/RESTBucketHEAD.html" target="_blank">HEAD Bucket</a>
                                 &#x2013; Specify a bucket and an empty prefix.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p><a href="./AmazonS3/latest/API/multiobjectdeleteapi.html" target="_blank">DeleteMultipleObjects</a>
                                 &#x2013; Specify a bucket and an empty prefix.
                              </p>
                              
                           </li>
                        </ul>
                     </div>
                     
                     
                     <h4 id="cloudtrail-object-level-crossaccount">Object-Level Actions in
                        Cross-Account Scenarios
                     </h4>
                     
                     
                     
                     <p>The following are special use cases involving the object-level API calls
                        in cross-account scenarios and how CloudTrail logs are reported. CloudTrail always
                        delivers logs to the requester (who made the API call). When setting up
                        cross-account access, consider the examples in this section.
                     </p>
                     
                     
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>The examples assume CloudTrail logs are appropriately configured. </p>
                     </div>
                     
                     
                     <h5 id="cloudtrail-crossaccount-example1">Example 1: CloudTrail Delivers
                        Access Logs to the Bucket Owner
                     </h5>
                     
                     
                     
                     <p>CloudTrail delivers access logs to the bucket owner only if the bucket owner
                        has permissions for the same object API. Consider the following
                        cross-account scenario:
                     </p>
                     
                     
                     <div class="itemizedlist">
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p>Account-A owns the bucket.</p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>Account-B (the requester) attempts to access an object in that
                                 bucket.
                              </p>
                              
                           </li>
                        </ul>
                     </div>
                     
                     
                     <p>CloudTrail always delivers object-level API access logs to the requester. In
                        addition, CloudTrail also delivers the same logs to the bucket owner only if
                        the bucket owner has permissions for the same API actions on that
                        object. 
                     </p>
                     
                     
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>If the bucket owner is also the object owner, the bucket owner
                           gets the object access logs. Otherwise, the bucket owner must get
                           permissions, through the object ACL, for the same object API to get
                           the same object-access API logs.
                        </p>
                     </div>
                     
                     
                     
                     
                     <h5 id="cloudtrail-crossaccount-example2">Example 2: CloudTrail Does Not
                        Proliferate Email Addresses Used in Setting Object ACLs
                     </h5>
                     
                     
                     <p>Consider the following cross-account scenario:</p>
                     
                     
                     <div class="itemizedlist">
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p>Account-A owns the bucket.</p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p> Account-B (the requester) sends a request to set an object
                                 ACL grant using an email address. For information about ACLs,
                                 see <a href="acl-overview.html">Access Control List (ACL) Overview</a>.
                              </p>
                              
                           </li>
                        </ul>
                     </div>
                     
                     
                     <p>The request gets the logs along with the email information. However,
                        the bucket owner&#x2014;if they eligible to receive logs as in example
                        1&#x2014;gets the CloudTrail log reporting the event. However, the bucket owner
                        doesn&apos;t get the ACL configuration information, specifically the grantee
                        email and the grant. The only information the log tells the bucket owner
                        is that an ACL API call was made by Account-B.
                     </p>
                     
                     
                     
                     
                     
                     
                     <h3 id="cloudtrail-s3-soap">CloudTrail Tracking with Amazon S3 SOAP API Calls</h3>
                     
                     
                     
                     
                     <p>CloudTrail tracks Amazon S3 SOAP API calls. Amazon S3 SOAP support over HTTP is deprecated,
                        but it is still available over HTTPS. For more information about Amazon S3 SOAP
                        support, see <a href="SOAPAPI3.html">Appendix A: Using the SOAP API</a>. 
                     </p>
                     
                     <div class="aws-note">
                        <p class="aws-note">Important</p>
                        <p>Newer Amazon S3 features are not supported for SOAP. We recommend that you use
                           either the REST API or the AWS SDKs.
                        </p>
                     </div>
                     
                     
                     <div class="table">
                        <p class="title"><b>Amazon S3 SOAP Actions Tracked by CloudTrail Logging</b></p>
                        <div class="table-contents">
                           <table id="w70aac46c15b7b9b6">
                              
                              <tbody><tr>
                                 
                                 <th>SOAP API Name</th>
                                 
                                 <th>API Event Name Used in CloudTrail Log</th>
                                 
                              </tr>
                              
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/SOAPListAllMyBuckets.html" target="_blank">ListAllMyBuckets</a></p>
                                 </td>
                                 
                                 <td>ListBuckets</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/SOAPCreateBucket.html" target="_blank">CreateBucket</a></p>
                                 </td>
                                 
                                 <td>CreateBucket</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/SOAPDeleteBucket.html" target="_blank">DeleteBucket</a></p>
                                 </td>
                                 
                                 <td>DeleteBucket</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/SOAPGetBucketAccessControlPolicy.html" target="_blank">GetBucketAccessControlPolicy</a></p>
                                 </td>
                                 
                                 <td>GetBucketAcl</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/SOAPSetBucketAccessControlPolicy.html" target="_blank">SetBucketAccessControlPolicy</a></p>
                                 </td>
                                 
                                 <td>PutBucketAcl</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/SOAPGetBucketLoggingStatus.html" target="_blank">GetBucketLoggingStatus</a></p>
                                 </td>
                                 
                                 <td>GetBucketLogging</td>
                                 
                              </tr>
                              
                              <tr>
                                 
                                 <td>
                                    <p><a href="./AmazonS3/latest/API/SOAPSetBucketLoggingStatus.html" target="_blank">SetBucketLoggingStatus</a></p>
                                 </td>
                                 
                                 <td>PutBucketLogging</td>
                                 
                              </tr>
                              
                           </tbody></table>
                        </div>
                     </div>
                     
                     
                     <p>Every log entry contains information about who generated the request. The user
                        identity information in the log helps you determine whether the request was made
                        with root or IAM user credentials, with temporary security credentials for a
                        role or federated user, or by another AWS service. For more information, see the
                        <b>userIdentity</b> field in the <a href="./awscloudtrail/latest/userguide/cloudtrail-event-reference.html" target="_blank">CloudTrail Event
                           Reference</a>.
                     </p>
                     
                     
                     <p>You can store your log files in your bucket for as long as you want, but you
                        can also define Amazon S3 lifecycle rules to archive or delete log files
                        automatically. By default, your log files are encrypted by using Amazon S3
                        server-side encryption (SSE).
                     </p>
                     
                     
                     <p>You can have CloudTrail publish Amazon SNS notifications when new log files are delivered
                        (for example, if you want to respond quickly to log files when they&apos;re
                        delivered). For more information, see <a href="./awscloudtrail/latest/userguide/configure-sns-notifications-for-cloudtrail.html" target="_blank">Configuring Amazon Simple Notification Service Notifications for CloudTrail</a> in the
                        <em>AWS CloudTrail User Guide</em>.
                     </p>
                     
                     
                     <p>You can also aggregate Amazon S3 log files from multiple AWS Regions and multiple
                        AWS accounts into a single Amazon S3 bucket. For more information, see <a href="./awscloudtrail/latest/userguide/receive-cloudtrail-log-files-from-multiple-regions.html" target="_blank">Receiving CloudTrail Log Files from Multiple Regions</a> in the
                        <em>AWS CloudTrail User Guide</em>.
                     </p>
                     
                     
                     
                     <h2 id="cloudtrail-logging-vs-server-logs">Using CloudTrail Logs with Amazon S3 Server
                        Access Logs and CloudWatch Logs
                     </h2>
                     
                     
                     
                     <p>You can use AWS CloudTrail logs together with server access logs for Amazon S3. CloudTrail
                        logs
                        provide you with detailed API tracking for Amazon S3 bucket-level and object-level
                        operations, while server access logs for Amazon S3 provide you visibility into
                        object-level operations on your data in Amazon S3. For more information about server
                        access logs, see <a href="ServerLogs.html">Server Access Logging</a>.
                     </p>
                     
                     
                     <p>You can also use CloudTrail logs together with CloudWatch for Amazon S3. CloudTrail
                        integration with CloudWatch
                        logs delivers S3 bucket-level API activity captured by CloudTrail to a CloudWatch
                        log stream in
                        the CloudWatch log group you specify. You can create CloudWatch alarms for monitoring
                        specific
                        API activity and receive email notifications when the specific API activity occurs.
                        For more information about CloudWatch alarms for monitoring specific API activity,
                        see the
                        <a href="./awscloudtrail/latest/userguide/" target="_blank">AWS CloudTrail User Guide</a>. For more information about
                        using CloudWatch with Amazon S3, see <a href="cloudwatch-monitoring.html">Monitoring Metrics with Amazon CloudWatch</a>.
                     </p>
                     
                     <h2 id="cloudtrail-logging-understanding-s3-entries">Understanding Amazon S3 Log
                        File Entries
                     </h2>
                     
                     
                     
                     <p>CloudTrail log files contain one or more log entries where each entry is made up of
                        multiple JSON-formatted events. A log entry represents a single request from any
                        source and includes information about the requested action, any parameters, the date
                        and time of the action, and so on. The log entries are not guaranteed to be in any
                        particular order. That is, they are not an ordered stack trace of the public API
                        calls.
                     </p>
                     
                     
                     <p>The following example shows a CloudTrail log entry that demonstrates the <a href="./AmazonS3/latest/API/RESTBucketDELETEpolicy.html" target="_blank">DELETE Bucket policy</a>,
                        <a href="./AmazonS3/latest/API/RESTBucketPUTacl.html" target="_blank">PUT Bucket acl</a>, and
                        <a href="./AmazonS3/latest/API/RESTBucketGETversioningStatus.html" target="_blank">GET Bucket
                           versioning</a> actions.
                     </p>
                     
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
    &quot;Records&quot;: [
    {
        &quot;eventVersion&quot;: &quot;1.03&quot;,
        &quot;userIdentity&quot;: {
            &quot;type&quot;: &quot;IAMUser&quot;,
            &quot;principalId&quot;: &quot;111122223333&quot;,
            &quot;arn&quot;: &quot;arn:aws:iam::111122223333:user/myUserName&quot;,
            &quot;accountId&quot;: &quot;111122223333&quot;,
            &quot;accessKeyId&quot;: &quot;AKIAIOSFODNN7EXAMPLE&quot;,
            &quot;userName&quot;: &quot;myUserName&quot;
        },
        &quot;eventTime&quot;: &quot;2015-08-26T20:46:31Z&quot;,
        &quot;eventSource&quot;: &quot;s3.amazonaws.com&quot;,
        &quot;eventName&quot;: &quot;DeleteBucketPolicy&quot;,
        &quot;awsRegion&quot;: &quot;us-west-2&quot;,
        &quot;sourceIPAddress&quot;: &quot;127.0.0.1&quot;,
        &quot;userAgent&quot;: &quot;[]&quot;,
        &quot;requestParameters&quot;: {
            &quot;bucketName&quot;: &quot;myawsbucket&quot;
        },
        &quot;responseElements&quot;: null,
        &quot;requestID&quot;: &quot;47B8E8D397DCE7A6&quot;,
        &quot;eventID&quot;: &quot;cdc4b7ed-e171-4cef-975a-ad829d4123e8&quot;,
        &quot;eventType&quot;: &quot;AwsApiCall&quot;,
        &quot;recipientAccountId&quot;: &quot;111122223333&quot;
    },
    {
       &quot;eventVersion&quot;: &quot;1.03&quot;,
       &quot;userIdentity&quot;: {
            &quot;type&quot;: &quot;IAMUser&quot;,
            &quot;principalId&quot;: &quot;111122223333&quot;,
            &quot;arn&quot;: &quot;arn:aws:iam::111122223333:user/myUserName&quot;,
            &quot;accountId&quot;: &quot;111122223333&quot;,
            &quot;accessKeyId&quot;: &quot;AKIAIOSFODNN7EXAMPLE&quot;,
            &quot;userName&quot;: &quot;myUserName&quot;
        },
      &quot;eventTime&quot;: &quot;2015-08-26T20:46:31Z&quot;,
      &quot;eventSource&quot;: &quot;s3.amazonaws.com&quot;,
      &quot;eventName&quot;: &quot;PutBucketAcl&quot;,
      &quot;awsRegion&quot;: &quot;us-west-2&quot;,
      &quot;sourceIPAddress&quot;: &quot;&quot;,
      &quot;userAgent&quot;: &quot;[]&quot;,
      &quot;requestParameters&quot;: {
          &quot;bucketName&quot;: &quot;&quot;,
          &quot;AccessControlPolicy&quot;: {
              &quot;AccessControlList&quot;: {
                  &quot;Grant&quot;: {
                      &quot;Grantee&quot;: {
                          &quot;xsi:type&quot;: &quot;CanonicalUser&quot;,
                          &quot;xmlns:xsi&quot;: &quot;http://www.w3.org/2001/XMLSchema-instance&quot;,
                          &quot;ID&quot;: &quot;d25639fbe9c19cd30a4c0f43fbf00e2d3f96400a9aa8dabfbbebe1906Example&quot;
                       },
                      &quot;Permission&quot;: &quot;FULL_CONTROL&quot;
                   }
              },
              &quot;xmlns&quot;: &quot;http://s3.amazonaws.com/doc/2006-03-01/&quot;,
              &quot;Owner&quot;: {
                  &quot;ID&quot;: &quot;d25639fbe9c19cd30a4c0f43fbf00e2d3f96400a9aa8dabfbbebe1906Example&quot;
              }
          }
      },
      &quot;responseElements&quot;: null,
      &quot;requestID&quot;: &quot;BD8798EACDD16751&quot;,
      &quot;eventID&quot;: &quot;607b9532-1423-41c7-b048-ec2641693c47&quot;,
      &quot;eventType&quot;: &quot;AwsApiCall&quot;,
      &quot;recipientAccountId&quot;: &quot;111122223333&quot;
    },
    {
      &quot;eventVersion&quot;: &quot;1.03&quot;,
      &quot;userIdentity&quot;: {
          &quot;type&quot;: &quot;IAMUser&quot;,
          &quot;principalId&quot;: &quot;111122223333&quot;,
          &quot;arn&quot;: &quot;arn:aws:iam::111122223333:user/myUserName&quot;,
          &quot;accountId&quot;: &quot;111122223333&quot;,
          &quot;accessKeyId&quot;: &quot;AKIAIOSFODNN7EXAMPLE&quot;,
          &quot;userName&quot;: &quot;myUserName&quot;
        },
      &quot;eventTime&quot;: &quot;2015-08-26T20:46:31Z&quot;,
      &quot;eventSource&quot;: &quot;s3.amazonaws.com&quot;,
      &quot;eventName&quot;: &quot;GetBucketVersioning&quot;,
      &quot;awsRegion&quot;: &quot;us-west-2&quot;,
      &quot;sourceIPAddress&quot;: &quot;&quot;,
      &quot;userAgent&quot;: &quot;[]&quot;,
      &quot;requestParameters&quot;: {
          &quot;bucketName&quot;: &quot;myawsbucket&quot;
      },
      &quot;responseElements&quot;: null,
      &quot;requestID&quot;: &quot;07D681279BD94AED&quot;,
      &quot;eventID&quot;: &quot;f2b287f3-0df1-4961-a2f4-c4bdfed47657&quot;,
      &quot;eventType&quot;: &quot;AwsApiCall&quot;,
      &quot;recipientAccountId&quot;: &quot;111122223333&quot;
    }
  ]
}</code></pre>
                     <h2 id="cloudtrail-logging-related-resources">Related Resources</h2>
                     
                     
                     <div class="itemizedlist">
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p><a href="./awscloudtrail/latest/userguide/" target="_blank">AWS CloudTrail User Guide</a></p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p><a href="./awscloudtrail/latest/userguide/cloudtrail-event-reference.html" target="_blank">CloudTrail Event
                                    Reference</a></p>
                              
                           </li>
                        </ul>
                     </div>
                     
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="metrics-configurations.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="S3Torrent.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Amazon S3 Information in CloudTrail"><a class="pagetoc" href="#cloudtrail-logging-s3-info">Amazon S3 Information in CloudTrail</a></li>
                        <li class="pagetoc" name="Using CloudTrail Logs with Amazon S3 Server
                Access Logs and CloudWatch Logs"><a class="pagetoc" href="#cloudtrail-logging-vs-server-logs">Using CloudTrail Logs with Amazon S3 Server
                              Access Logs and CloudWatch Logs</a></li>
                        <li class="pagetoc" name="Understanding Amazon S3 Log
                File Entries"><a class="pagetoc" href="#cloudtrail-logging-understanding-s3-entries">Understanding Amazon S3 Log
                              File Entries</a></li>
                        <li class="pagetoc" name="Related Resources"><a class="pagetoc" href="#cloudtrail-logging-related-resources">Related Resources</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='Amazon Simple Storage Service';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='Developer Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>