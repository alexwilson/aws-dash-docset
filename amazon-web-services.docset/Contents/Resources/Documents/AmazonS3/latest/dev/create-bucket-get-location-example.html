<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Examples of Creating a Bucket - Amazon Simple Storage Service</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="UsingBucket.html" title="Working with Amazon S3 Buckets">
      <link rel="prev" href="BucketRestrictions.html" title="Bucket Restrictions and Limitations">
      <link rel="next" href="delete-or-empty-bucket.html" title="Deleting or Emptying a Bucket">
      <meta name="description" content="Examples of how to create a bucket.">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="Amazon Simple Storage Service">
      <meta name="guide" content="Developer Guide">
      <meta name="guide-locale" content="en_us">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/AmazonS3/latest/dev/create-bucket-get-location-example.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="http://aws.amazon.com/documentation">AWS Documentation</a> &#xBB; <a href="http://aws.amazon.com/documentation/s3">Amazon Simple Storage Service (S3)</a> &#xBB; <a href="index.html">Developer Guide</a> &#xBB; <a href="UsingBucket.html">Working with Amazon S3 Buckets</a> &#xBB; <span class="breadcrumb">Examples of Creating a Bucket</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div></div>
                     <h1 class="topictitle" id="create-bucket-get-location-example">Examples of Creating a Bucket</h1>
                     <div class="highlights" id="inline-topiclist">
                        <p><strong>Topics</strong></p>
                        <ul>
                           <li><a href="#create-bucket-get-location-console">Using the Amazon S3 Console</a></li>
                           <li><a href="#create-bucket-get-location-java">Using the AWS SDK for Java</a></li>
                           <li><a href="#create-bucket-get-location-dotnet">Using the AWS SDK for .NET</a></li>
                           <li><a href="#create-bucket-get-location-ruby">Using the AWS SDK for Ruby Version 3</a></li>
                           <li><a href="#create-bucket-using-other-sdks">Using Other AWS SDKs</a></li>
                        </ul>
                     </div>
                     <p>The following code examples create a bucket programmatically using the AWS SDKs
                        
                        for Java, .NET, and Ruby. The code examples perform the following tasks:
                     </p>
                     <div class="itemizedlist">
                        			
                        			
                        		
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              				
                              <p>Create a bucket, if the bucket doesn&apos;t already exist&#x2014;The examples create a bucket
                                 by performing the following tasks:
                              </p>
                              				
                              					
                              <div class="itemizedlist">
                                 						
                                 						
                                 					
                                 <ul class="itemizedlist" type="disc">
                                    <li class="listitem">
                                       							
                                       <p>Create a client by explicitly specifying an AWS Region (the example uses the
                                          								<code class="code">s3-eu-west-1</code> Region). Accordingly, the client
                                          							communicates with Amazon S3 using the <code class="code">s3-eu-west-1.amazonaws.com</code>
                                          							endpoint. You can specify any other AWS Region. For a list of
                                          							AWS Regions, see <a href="./general/latest/gr/rande.html#s3_region" target="_blank">Regions and
                                             								Endpoints</a> in the <em>AWS General Reference</em>. 
                                       </p>
                                       						
                                    </li>
                                    <li class="listitem">
                                       							
                                       <p>Send a create bucket request by specifying only a bucket name. The create bucket
                                          							request doesn&apos;t specify another AWS Region. The client sends
                                          							a request to Amazon S3 to create the bucket in the Region you specified when
                                          							creating the client. 
                                       </p>
                                       							
                                       <div class="aws-note">
                                          <p class="aws-note">Note</p>
                                          <p>If you explicitly specify an AWS Region in your create bucket request that  is
                                             								different from the Region you specifed when you created the client,
                                             								you might get an error. For more information, see <a href="UsingBucket.html#create-bucket-intro">Creating a Bucket</a>.
                                          </p>
                                       </div>
                                       							
                                       <p>The SDK libraries send the PUT bucket request to Amazon S3 to
                                          								create the bucket. For more information, see <a href="./AmazonS3/latest/API/RESTBucketPUT.html" target="_blank">PUT Bucket</a>.
                                       </p>
                                       						
                                    </li>
                                 </ul>
                              </div>
                              				
                              			
                           </li>
                           <li class="listitem">
                              				
                              <p>Retrieve information about the location of the bucket&#x2014;Amazon S3 stores bucket location
                                 information in
                                 					the <em>location</em> subresource that is associated with the bucket. The
                                 					SDK libraries send the GET Bucket location request (see <a href="./AmazonS3/latest/API/RESTBucketGETlocation.html" target="_blank">GET Bucket location</a>) to
                                 					retrieve this information.
                              </p>
                              				
                              			
                           </li>
                        </ul>
                     </div>
                     <h2 id="create-bucket-get-location-console">Using the Amazon S3 Console</h2>
                     			
                     			
                     <p>To create a bucket using the Amazon S3 console, see <a href="./AmazonS3/latest/user-guide/create-bucket.html" target="_blank">How Do I Create an S3 Bucket?</a> in the
                        					<em>Amazon Simple Storage Service Console User Guide</em>.
                     </p>
                     		
                     <h2 id="create-bucket-get-location-java">Using the AWS SDK for Java</h2>
                     			
                     			
                     <div class="example">
                        <div class="example-contents">
                           <p>This example shows how to create an Amazon S3 bucket using the AWS SDK for Java. For
                              instructions on
                              					creating and testing a working sample, see <a href="UsingTheMPJavaAPI.html#TestingJavaSamples">Testing the Amazon S3 Java Code Examples</a>. 
                           </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="java ">import java.io.IOException;

import com.amazonaws.AmazonServiceException;
import com.amazonaws.SdkClientException;
import com.amazonaws.auth.profile.ProfileCredentialsProvider;
import com.amazonaws.services.s3.AmazonS3;
import com.amazonaws.services.s3.AmazonS3ClientBuilder;
import com.amazonaws.services.s3.model.CreateBucketRequest;
import com.amazonaws.services.s3.model.GetBucketLocationRequest;

public class CreateBucket {

    public static void main(String[] args) throws IOException {
        String clientRegion = &quot;*** Client region ***&quot;;
        String bucketName = &quot;*** Bucket name ***&quot;;

        try {
            AmazonS3 s3Client = AmazonS3ClientBuilder.standard()
                    .withCredentials(new ProfileCredentialsProvider())
                    .withRegion(clientRegion)
                    .build();

            if (!s3Client.doesBucketExistV2(bucketName)) {
                // Because the CreateBucketRequest object doesn&apos;t specify a region, the
                // bucket is created in the region specified in the client.
                s3Client.createBucket(new CreateBucketRequest(bucketName));
                
                // Verify that the bucket was created by retrieving it and checking its location.
                String bucketLocation = s3Client.getBucketLocation(new GetBucketLocationRequest(bucketName));
                System.out.println(&quot;Bucket location: &quot; + bucketLocation);
            }
        }
        catch(AmazonServiceException e) {
            // The call was transmitted successfully, but Amazon S3 couldn&apos;t process 
            // it and returned an error response.
            e.printStackTrace();
        }
        catch(SdkClientException e) {
            // Amazon S3 couldn&apos;t be contacted for a response, or the client
            // couldn&apos;t parse the response from Amazon S3.
            e.printStackTrace();
        }
    }
}
</code></pre></div>
                     </div>
                     		
                     <h2 id="create-bucket-get-location-dotnet">Using the AWS SDK for .NET</h2>
                     			
                     			
                     <p>For information about how to create and test a working sample, see <a href="UsingTheMPDotNetAPI.html#TestingDotNetApiSamples">Running the Amazon S3 .NET Code Examples</a>. 
                     </p>
                     			
                     <div class="example">
                        <div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="cs ">using Amazon.S3;
using Amazon.S3.Model;
using Amazon.S3.Util;
using System;
using System.Threading.Tasks;

namespace Amazon.DocSamples.S3
{
    class CreateBucketTest
    {
        private const string bucketName = &quot;*** bucket name ***&quot;;
        // Specify your bucket region (an example region is shown).
        private static readonly RegionEndpoint bucketRegion = RegionEndpoint.USWest2;
        private static IAmazonS3 s3Client;
        public static void Main()
        {
            s3Client = new AmazonS3Client(bucketRegion);
            CreateBucketAsync().Wait();
        }

        static async Task CreateBucketAsync()
        {
            try
            {
                if (!(await AmazonS3Util.DoesS3BucketExistAsync(s3Client, bucketName)))
                {
                    var putBucketRequest = new PutBucketRequest
                    {
                        BucketName = bucketName,
                        UseClientRegion = true
                    };

                    PutBucketResponse putBucketResponse = await s3Client.PutBucketAsync(putBucketRequest);
                }
                // Retrieve the bucket location.
                string bucketLocation = await FindBucketLocationAsync(s3Client);
            }
            catch (AmazonS3Exception e)
            {
                Console.WriteLine(&quot;Error encountered on server. Message:&apos;{0}&apos; when writing an object&quot;, e.Message);
            }
            catch (Exception e)
            {
                Console.WriteLine(&quot;Unknown encountered on server. Message:&apos;{0}&apos; when writing an object&quot;, e.Message);
            }
        }
        static async Task&lt;string&gt; FindBucketLocationAsync(IAmazonS3 client)
        {
            string bucketLocation;
            var request = new GetBucketLocationRequest()
            {
                BucketName = bucketName
            };
            GetBucketLocationResponse response = await client.GetBucketLocationAsync(request);
            bucketLocation = response.Location.ToString();
            return bucketLocation;
        }
    }
}
</code></pre></div>
                     </div>
                     		
                     <h2 id="create-bucket-get-location-ruby">Using the AWS SDK for Ruby Version 3</h2>
                     	    
                     	    
                     <p>For information about how to create and test a working sample, see <a href="UsingTheMPRubyAPI.html">Using the AWS SDK for Ruby - Version 3</a>. 
                     </p>
                     	    
                     <div class="example">
                        <div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="">require &apos;aws-sdk-s3&apos;
	        
s3 = Aws::S3::Client.new(region: &apos;us-west-2&apos;)
s3.create_bucket(bucket: &apos;bucket-name&apos;)
	      </code></pre></div>
                     </div>
                     	  
                     <h2 id="create-bucket-using-other-sdks">Using Other AWS SDKs</h2>
                     			
                     			
                     <p>For information about using other AWS SDKs, see <a href="https://aws.amazon.com/code/" target="_blank">Sample Code and Libraries</a>. 
                     </p>
                     		
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="BucketRestrictions.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="delete-or-empty-bucket.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Using the Amazon S3 Console"><a class="pagetoc" href="#create-bucket-get-location-console">Using the Amazon S3 Console</a></li>
                        <li class="pagetoc" name="Using the AWS SDK for Java"><a class="pagetoc" href="#create-bucket-get-location-java">Using the AWS SDK for Java</a></li>
                        <li class="pagetoc" name="Using the AWS SDK for .NET"><a class="pagetoc" href="#create-bucket-get-location-dotnet">Using the AWS SDK for .NET</a></li>
                        <li class="pagetoc" name="Using the AWS SDK for Ruby Version 3"><a class="pagetoc" href="#create-bucket-get-location-ruby">Using the AWS SDK for Ruby Version 3</a></li>
                        <li class="pagetoc" name="Using Other AWS SDKs"><a class="pagetoc" href="#create-bucket-using-other-sdks">Using Other AWS SDKs</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='Amazon Simple Storage Service';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='Developer Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>