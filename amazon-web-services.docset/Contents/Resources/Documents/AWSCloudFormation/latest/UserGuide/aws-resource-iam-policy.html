<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>AWS::IAM::Policy - AWS CloudFormation</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="aws-template-resource-type-ref.html" title="AWS Resource Types Reference">
      <link rel="prev" href="aws-resource-iam-managedpolicy.html" title="AWS::IAM::ManagedPolicy">
      <link rel="next" href="aws-resource-iam-role.html" title="AWS::IAM::Role">
      <meta name="description" content="Applies or updates an IAM policy to users or groups by using the AWS::IAM::Policy resource.">
      <meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation Designer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="AWS CloudFormation">
      <meta name="guide" content="User Guide">
      <meta name="guide-locale" content="en_us">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-iam-policy.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="http://aws.amazon.com/documentation">AWS Documentation</a> &#xBB; <a href="http://aws.amazon.com/documentation/cloudformation">AWS CloudFormation</a> &#xBB; <a href="index.html">User Guide</a> &#xBB; <a href="template-reference.html">Template Reference</a> &#xBB; <a href="aws-template-resource-type-ref.html">AWS Resource Types Reference</a> &#xBB; <span class="breadcrumb">AWS::IAM::Policy</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div></div>
                     <div id="language-filter" class="page-header" style="display:none">
                        <form> Filter View: 
                           <select name="filter-select" id="filter-select">
                              <option selected="1">All</option>
                              <option value="JSON" selected>JSON</option>
                              <option value="YAML" selected>YAML</option></select></form>
                     </div>
                     <h1 class="topictitle" id="aws-resource-iam-policy">AWS::IAM::Policy</h1>
                     <p>The <code class="code">AWS::IAM::Policy</code> resource associates an IAM policy with IAM users,
                        roles, or groups. For more information about IAM policies, see <a href="./IAM/latest/UserGuide/policies_overview.html" target="_blank">Overview of IAM Policies</a> in the
                        <em>IAM User Guide</em> guide.
                     </p>
                     <div class="highlights" id="inline-topiclist">
                        <p><strong>Topics</strong></p>
                        <ul>
                           <li><a href="#aws-resource-iam-policy-syntax">Syntax</a></li>
                           <li><a href="#w2ab2c21c10d748b9">Properties</a></li>
                           <li><a href="#w2ab2c21c10d748c11">Return Values</a></li>
                           <li><a href="#w2ab2c21c10d748c13">Examples</a></li>
                        </ul>
                     </div>
                     <h2 id="aws-resource-iam-policy-syntax">Syntax</h2>
                     
                     
                     <p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p>
                     
                     <div id="JSON" name="JSON" class="section langfilter">
                        <h3 id="aws-resource-iam-policy-syntax.json">JSON</h3>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">{
  &quot;Type&quot; : &quot;AWS::IAM::Policy&quot;,
  &quot;Properties&quot; : { 
    &quot;<a href="aws-resource-iam-policy.html#cfn-iam-policy-groups">Groups</a>&quot; : [ <em class="replaceable"><code>String, ...</code></em> ],
    &quot;<a href="aws-resource-iam-policy.html#cfn-iam-policy-policydocument">PolicyDocument</a>&quot; : <em class="replaceable"><code>JSON object</code></em>,
    &quot;<a href="aws-resource-iam-policy.html#cfn-iam-policy-policyname">PolicyName</a>&quot; : <em class="replaceable"><code>String</code></em>,
    &quot;<a href="aws-resource-iam-policy.html#cfn-iam-policy-roles">Roles</a>&quot; : [ <em class="replaceable"><code>String, ...</code></em> ],
    &quot;<a href="aws-resource-iam-policy.html#cfn-iam-policy-users">Users</a>&quot; : [ <em class="replaceable"><code>String, ...</code></em> ]
  }
}</code></pre>
                        </div>
                     
                     <div id="YAML" name="YAML" class="section langfilter">
                        <h3 id="aws-resource-iam-policy-syntax.yaml">YAML</h3>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">Type: &quot;AWS::IAM::Policy&quot;
Properties: 
  <a href="aws-resource-iam-policy.html#cfn-iam-policy-groups">Groups</a>:
    - <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-iam-policy.html#cfn-iam-policy-policydocument">PolicyDocument</a>: <em class="replaceable"><code>JSON object</code></em>
  <a href="aws-resource-iam-policy.html#cfn-iam-policy-policyname">PolicyName</a>: <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-iam-policy.html#cfn-iam-policy-roles">Roles</a>:
    - <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-iam-policy.html#cfn-iam-policy-users">Users</a>:
    - <em class="replaceable"><code>String</code></em>
</code></pre>
                        </div>
                     
                     <h2 id="w2ab2c21c10d748b9">Properties</h2>
                     
                     
                     <div class="variablelist">
                        
                        
                        
                        
                        
                        
                        <dl>
                           
                           <dt><a id="cfn-iam-policy-groups"></a><span class="term"><code class="code">Groups</code></span></dt>
                           
                           <dd>
                              
                              <p>The names of groups to which you want to add the policy.</p>
                              
                              <p><em>Required</em>: Conditional. You must specify at least one of the following
                                 properties: <code class="code">Groups</code>, <code class="code">Roles</code>, or <code class="code">Users</code>.
                              </p>
                              
                              <p><em>Type</em>: List of String values
                              </p>
                              
                              <p><em>Update requires</em>: <a href="using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-iam-policy-policydocument"></a><span class="term"><code class="code">PolicyDocument</code></span></dt>
                           
                           <dd>
                              
                              <p>A policy document that contains permissions to add to the specified users or
                                 groups.
                              </p>
                              
                              <p><em>Required</em>: Yes
                              </p>
                              
                              <p><em>Type</em>: JSON object
                              </p>
                              
                              <div class="aws-note">
                                 <p class="aws-note">Note</p>
                                 <p>AWS Identity and Access Management (IAM) requires that policies be in JSON format.
                                    However, for templates formatted in YAML, you can create an IAM policy in either JSON
                                    or YAML format. AWS CloudFormation always converts a policy to JSON format before
                                    submitting it to IAM.
                                 </p>
                              </div>
                              
                              
                              <p><em>Update requires</em>: <a href="using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-iam-policy-policyname"></a><span class="term"><code class="code">PolicyName</code></span></dt>
                           
                           <dd>
                              
                              <p>The name of the policy. If you specify multiple policies for an entity, specify
                                 unique names. For example, if you specify a list of policies for an IAM role,
                                 each policy must have a unique name.
                              </p>
                              
                              <p><em>Required</em>: Yes
                              </p>
                              
                              <p><em>Type</em>: String
                              </p>
                              
                              <p><em>Update requires</em>: <a href="using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-iam-policy-roles"></a><span class="term"><code class="code">Roles</code></span></dt>
                           
                           <dd>
                              
                              <p>The names of <a href="aws-resource-iam-role.html">AWS::IAM::Role</a>s to
                                 which this policy will be attached.
                              </p>
                              
                              <div class="aws-note">
                                 <p class="aws-note">Note</p>
                                 <p>If a policy has a <code class="code">Ref</code> to a role and if a resource (such as
                                    <code class="code">AWS::ECS::Service</code>) also has a <code class="code">Ref</code> to the same
                                    role, add a <code class="code">DependsOn</code> attribute to the resource so that the
                                    resource depends on the policy. This dependency ensures that the role&apos;s policy
                                    is available throughout the resource&apos;s lifecycle. For example, when you delete
                                    a stack with an <code class="code">AWS::ECS::Service</code> resource, the
                                    <code class="code">DependsOn</code> attribute ensures that the
                                    <code class="code">AWS::ECS::Service</code> resource can complete its deletion before its
                                    role&apos;s policy is deleted.
                                 </p>
                              </div>
                              
                              <p><em>Required</em>: Conditional. You must specify at least one of the following
                                 properties: <code class="code">Groups</code>, <code class="code">Roles</code>, or <code class="code">Users</code>.
                              </p>
                              
                              <p><em>Type</em>: List of String values
                              </p>
                              
                              <p><em>Update requires</em>: <a href="using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-iam-policy-users"></a><span class="term"><code class="code">Users</code></span></dt>
                           
                           <dd>
                              
                              <p>The names of users for whom you want to add the policy.</p>
                              
                              <p><em>Required</em>: Conditional. You must specify at least one of the following
                                 properties: <code class="code">Groups</code>, <code class="code">Roles</code>, or <code class="code">Users</code>.
                              </p>
                              
                              <p><em>Type</em>: List of String values
                              </p>
                              
                              <p><em>Update requires</em>: <a href="using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                              
                           </dd>
                           
                        </dl>
                     </div>
                     
                     <h2 id="w2ab2c21c10d748c11">Return Values</h2>
                     
                     
                     <h3 id="w2ab2c21c10d748c11b2">Ref</h3>
                     
                     
                     <p>When the logical ID of this resource is provided to the <code class="code">Ref</code> intrinsic
                        function, <code class="code">Ref</code> returns the resource name.
                     </p>
                     
                     <p>For more information about using the <code class="code">Ref</code> function, see <a href="intrinsic-function-reference-ref.html">Ref</a>.
                     </p>
                     
                     
                     <h2 id="w2ab2c21c10d748c13">Examples</h2>
                     
                     
                     <h3 id="w2ab2c21c10d748c13b2">IAM Policy with policy group</h3>
                     
                     
                     <div id="JSON" name="JSON" class="section langfilter">
                        <h4 id="aws-resource-iam-policy-example1.json">JSON</h4>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
   &quot;Type&quot; : &quot;AWS::IAM::Policy&quot;,
   &quot;Properties&quot; : {
      &quot;PolicyName&quot; : &quot;CFNUsers&quot;,
      &quot;PolicyDocument&quot; : {
         &quot;Version&quot; : &quot;2012-10-17&quot;,
         &quot;Statement&quot;: [ {
         &quot;Effect&quot;   : &quot;Allow&quot;,
         &quot;Action&quot;   : [
            &quot;cloudformation:Describe*&quot;,
            &quot;cloudformation:List*&quot;,
            &quot;cloudformation:Get*&quot;
         ],
         &quot;Resource&quot; : &quot;*&quot;
         } ]
      },
      &quot;Groups&quot; : [ { &quot;Ref&quot; : &quot;CFNUserGroup&quot; } ]
   }
}</code></pre>
                        </div>
                     
                     <div id="YAML" name="YAML" class="section langfilter">
                        <h4 id="aws-resource-iam-policy-example1.yaml">YAML</h4>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="yaml ">Type: &quot;AWS::IAM::Policy&quot;
Properties: 
  PolicyName: &quot;CFNUsers&quot;
  PolicyDocument: 
    Version: &quot;2012-10-17&quot;
    Statement: 
      - 
        Effect: &quot;Allow&quot;
        Action: 
          - &quot;cloudformation:Describe*&quot;
          - &quot;cloudformation:List*&quot;
          - &quot;cloudformation:Get*&quot;
        Resource: &quot;*&quot;
  Groups: 
    - 
      Ref: &quot;CFNUserGroup&quot;</code></pre>
                        </div>
                     
                     
                     <h3 id="w2ab2c21c10d748c13b4">IAM Policy with specified role</h3>
                     
                     
                     <div id="JSON" name="JSON" class="section langfilter">
                        <h4 id="aws-resource-iam-policy-example2.json">JSON</h4>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">{
   &quot;Type&quot;: &quot;AWS::IAM::Policy&quot;,
   &quot;Properties&quot;: {
      &quot;PolicyName&quot;: &quot;root&quot;,
      &quot;PolicyDocument&quot;: {
         &quot;Version&quot; : &quot;2012-10-17&quot;,
         &quot;Statement&quot;: [
            { &quot;Effect&quot;: &quot;Allow&quot;, &quot;Action&quot;: &quot;*&quot;, &quot;Resource&quot;: &quot;*&quot; }
         ]
      },
      &quot;Roles&quot;: [ { &quot;Ref&quot;: &quot;RootRole&quot; } ]
   }
}</code></pre>
                        </div>
                     
                     <div id="YAML" name="YAML" class="section langfilter">
                        <h4 id="aws-resource-iam-policy-example2.yaml">YAML</h4>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="yaml ">Type: &quot;AWS::IAM::Policy&quot;
Properties: 
  PolicyName: &quot;root&quot;
  PolicyDocument: 
    Version: &quot;2012-10-17&quot;
    Statement: 
      - 
        Effect: &quot;Allow&quot;
        Action: &quot;*&quot;
        Resource: &quot;*&quot;
  Roles: 
    - 
      Ref: &quot;RootRole&quot;</code></pre>
                        </div>
                     
                     
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="aws-resource-iam-managedpolicy.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="aws-resource-iam-role.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Syntax"><a class="pagetoc" href="#aws-resource-iam-policy-syntax">Syntax</a></li>
                        <li class="pagetoc" name="Properties"><a class="pagetoc" href="#w2ab2c21c10d748b9">Properties</a></li>
                        <li class="pagetoc" name="Return Values"><a class="pagetoc" href="#w2ab2c21c10d748c11">Return Values</a></li>
                        <li class="pagetoc" name="Examples"><a class="pagetoc" href="#w2ab2c21c10d748c13">Examples</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='AWS CloudFormation';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='User Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>