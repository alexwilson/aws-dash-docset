<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>AWS::Logs::SubscriptionFilter - AWS CloudFormation</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="aws-template-resource-type-ref.html" title="AWS Resource Types Reference">
      <link rel="prev" href="aws-resource-logs-metricfilter.html" title="AWS::Logs::MetricFilter">
      <link rel="next" href="aws-resource-opsworks-app.html" title="AWS::OpsWorks::App">
      <meta name="description" content="Create an Amazon CloudWatch Logs subscription filter that defines which log events are delivered to your Kinesis stream and where to send matching log events.">
      <meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation Designer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="AWS CloudFormation">
      <meta name="guide" content="User Guide">
      <meta name="guide-locale" content="en_us">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-logs-subscriptionfilter.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="http://aws.amazon.com/documentation">AWS Documentation</a> &#xBB; <a href="http://aws.amazon.com/documentation/cloudformation">AWS CloudFormation</a> &#xBB; <a href="index.html">User Guide</a> &#xBB; <a href="template-reference.html">Template Reference</a> &#xBB; <a href="aws-template-resource-type-ref.html">AWS Resource Types Reference</a> &#xBB; <span class="breadcrumb">AWS::Logs::SubscriptionFilter</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div></div>
                     <div id="language-filter" class="page-header" style="display:none">
                        <form> Filter View: 
                           <select name="filter-select" id="filter-select">
                              <option selected="1">All</option>
                              <option value="JSON" selected>JSON</option>
                              <option value="YAML" selected>YAML</option></select></form>
                     </div>
                     <h1 class="topictitle" id="aws-resource-logs-subscriptionfilter">AWS::Logs::SubscriptionFilter</h1>
                     <p>The <code class="code">AWS::Logs::SubscriptionFilter</code> resource creates an Amazon CloudWatch Logs (CloudWatch Logs)
                        subscription filter that defines which log events are delivered to your Kinesis stream
                        or
                        AWS Lambda (Lambda) function and where to send them.
                     </p>
                     <div class="highlights" id="inline-topiclist">
                        <p><strong>Topics</strong></p>
                        <ul>
                           <li><a href="#aws-resource-logs-subscriptionfilter-syntax">Syntax</a></li>
                           <li><a href="#w2ab2c21c10d869b9">Properties</a></li>
                           <li><a href="#w2ab2c21c10d869c11">Return Values</a></li>
                           <li><a href="#w2ab2c21c10d869c13">Example</a></li>
                        </ul>
                     </div>
                     <h2 id="aws-resource-logs-subscriptionfilter-syntax">Syntax</h2>
                     
                     
                     <p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p>
                     
                     <div id="JSON" name="JSON" class="section langfilter">
                        <h3 id="aws-resource-logs-subscriptionfilter-syntax.json">JSON</h3>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">{
  &quot;Type&quot; : &quot;AWS::Logs::SubscriptionFilter&quot;,
  &quot;Properties&quot; : {
    &quot;<a href="aws-resource-logs-subscriptionfilter.html#cfn-cwl-subscriptionfilter-destinationarn"><code class="code">DestinationArn</code></a>&quot; : <em class="replaceable"><code>String</code></em>,
    &quot;<a href="aws-resource-logs-subscriptionfilter.html#cfn-cwl-subscriptionfilter-filterpattern"><code class="code">FilterPattern</code></a>&quot; : <em class="replaceable"><code>String</code></em>,
    &quot;<a href="aws-resource-logs-subscriptionfilter.html#cfn-cwl-subscriptionfilter-loggroupname"><code class="code">LogGroupName</code></a>&quot; : <em class="replaceable"><code>String</code></em>,
    &quot;<a href="aws-resource-logs-subscriptionfilter.html#cfn-cwl-subscriptionfilter-rolearn"><code class="code">RoleArn</code></a>&quot; : <em class="replaceable"><code>String</code></em>
  }
}</code></pre>
                        </div>
                     
                     <div id="YAML" name="YAML" class="section langfilter">
                        <h3 id="aws-resource-logs-subscriptionfilter-syntax.yaml">YAML</h3>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">Type: &quot;AWS::Logs::SubscriptionFilter&quot;
Properties: 
  <a href="aws-resource-logs-subscriptionfilter.html#cfn-cwl-subscriptionfilter-destinationarn"><code class="code">DestinationArn</code></a>: <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-logs-subscriptionfilter.html#cfn-cwl-subscriptionfilter-filterpattern"><code class="code">FilterPattern</code></a>: <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-logs-subscriptionfilter.html#cfn-cwl-subscriptionfilter-loggroupname"><code class="code">LogGroupName</code></a>: <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-logs-subscriptionfilter.html#cfn-cwl-subscriptionfilter-rolearn"><code class="code">RoleArn</code></a>: <em class="replaceable"><code>String</code></em>
</code></pre>
                        </div>
                     
                     <h2 id="w2ab2c21c10d869b9">Properties</h2>
                     
                     
                     <div class="variablelist">
                        
                        
                        
                        
                        
                        <dl>
                           
                           <dt><a id="cfn-cwl-subscriptionfilter-destinationarn"></a><span class="term"><code class="code">DestinationArn</code></span></dt>
                           
                           <dd>
                              
                              <p>The Amazon Resource Name (ARN) of the Kinesis stream, Kinesis Data Firehose delivery
                                 stream, or Lambda function that you
                                 want to use as the subscription feed destination.
                              </p>
                              
                              <p><em>Required</em>: Yes
                              </p>
                              
                              <p><em>Type</em>: String
                              </p>
                              
                              <p><em>Update requires</em>: <a href="using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-cwl-subscriptionfilter-filterpattern"></a><span class="term"><code class="code">FilterPattern</code></span></dt>
                           
                           <dd>
                              
                              <p>The filtering expressions that restrict what gets delivered to the destination
                                 AWS resource. For more information about the filter pattern syntax, see <a href="./AmazonCloudWatch/latest/DeveloperGuide/FilterAndPatternSyntax.html" target="_blank">Filter and Pattern
                                    Syntax</a> in the <em>Amazon CloudWatch User Guide</em>.
                              </p>
                              
                              <p><em>Required</em>: Yes
                              </p>
                              
                              <p><em>Type</em>: String
                              </p>
                              
                              <p><em>Update requires</em>: <a href="using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-cwl-subscriptionfilter-loggroupname"></a><span class="term"><code class="code">LogGroupName</code></span></dt>
                           
                           <dd>
                              
                              <p>The log group to associate with the subscription filter. All log events that
                                 are uploaded to this log group are filtered and delivered to the specified AWS
                                 resource if the filter pattern matches the log events.
                              </p>
                              
                              <p><em>Required</em>: Yes
                              </p>
                              
                              <p><em>Type</em>: String
                              </p>
                              
                              <p><em>Update requires</em>: <a href="using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-cwl-subscriptionfilter-rolearn"></a><span class="term"><code class="code">RoleArn</code></span></dt>
                           
                           <dd>
                              
                              <p>An IAM role that grants CloudWatch Logs permission to put data into the specified
                                 Kinesis stream. For Lambda and CloudWatch Logs destinations, don&apos;t specify this property
                                 because CloudWatch Logs gets the necessary permissions from the destination resource.
                              </p>
                              
                              <p><em>Required</em>: No
                              </p>
                              
                              <p><em>Type</em>: String
                              </p>
                              
                              <p><em>Update requires</em>: <a href="using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                              
                           </dd>
                           
                        </dl>
                     </div>
                     
                     <h2 id="w2ab2c21c10d869c11">Return Values</h2>
                     
                     
                     <h3 id="w2ab2c21c10d869c11b2">Ref</h3>
                     
                     
                     <p>When the logical ID of this resource is provided to the <code class="code">Ref</code> intrinsic
                        function, <code class="code">Ref</code> returns the resource name.
                     </p>
                     
                     <p>For more information about using the <code class="code">Ref</code> function, see <a href="intrinsic-function-reference-ref.html">Ref</a>.
                     </p>
                     
                     
                     <h2 id="w2ab2c21c10d869c13">Example</h2>
                     
                     
                     <p>The following example sends log events that are associated with the <code class="code">Root</code>
                        user to an Kinesis stream.
                     </p>
                     
                     <div id="JSON" name="JSON" class="section langfilter">
                        <h3 id="aws-resource-logs-subscriptionfilter-example.json">JSON</h3>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">&quot;SubscriptionFilter&quot; : {
  &quot;Type&quot; : &quot;AWS::Logs::SubscriptionFilter&quot;,
  &quot;Properties&quot; : {
    &quot;RoleArn&quot; : { &quot;Fn::GetAtt&quot; : [ &quot;CloudWatchIAMRole&quot;, &quot;Arn&quot; ] },
    &quot;LogGroupName&quot; : { &quot;Ref&quot; : &quot;LogGroup&quot; },
    &quot;FilterPattern&quot; : &quot;{$.userIdentity.type = Root}&quot;,
    &quot;DestinationArn&quot; : { &quot;Fn::GetAtt&quot; : [ &quot;KinesisStream&quot;, &quot;Arn&quot; ] }
  }
}</code></pre>
                        </div>
                     
                     <div id="YAML" name="YAML" class="section langfilter">
                        <h3 id="aws-resource-logs-subscriptionfilter-example.yaml">YAML</h3>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">SubscriptionFilter: 
  Type: &quot;AWS::Logs::SubscriptionFilter&quot;
  Properties: 
    RoleArn: 
      Fn::GetAtt: 
        - &quot;CloudWatchIAMRole&quot;
        - &quot;Arn&quot;
    LogGroupName: 
      Ref: &quot;LogGroup&quot;
    FilterPattern: &quot;{$.userIdentity.type = Root}&quot;
    DestinationArn: 
      Fn::GetAtt: 
        - &quot;KinesisStream&quot;
        - &quot;Arn&quot;</code></pre>
                        </div>
                     
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="aws-resource-logs-metricfilter.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="aws-resource-opsworks-app.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Syntax"><a class="pagetoc" href="#aws-resource-logs-subscriptionfilter-syntax">Syntax</a></li>
                        <li class="pagetoc" name="Properties"><a class="pagetoc" href="#w2ab2c21c10d869b9">Properties</a></li>
                        <li class="pagetoc" name="Return Values"><a class="pagetoc" href="#w2ab2c21c10d869c11">Return Values</a></li>
                        <li class="pagetoc" name="Example"><a class="pagetoc" href="#w2ab2c21c10d869c13">Example</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='AWS CloudFormation';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='User Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>