<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Amazon Elastic Container Service Template Snippets - AWS CloudFormation</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="CHAP_TemplateQuickRef.html" title="Template Snippets">
      <link rel="prev" href="quickref-ec2.html" title="Amazon EC2 Template Snippets">
      <link rel="next" href="quickref-efs.html" title="Amazon Elastic File System Sample Template">
      <meta name="description" content="Use Amazon Elastic Container Service sample template snippets to help you describe Amazon ECS resources in your AWS CloudFormation templates.">
      <meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation Designer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="AWS CloudFormation">
      <meta name="guide" content="User Guide">
      <meta name="guide-locale" content="en_us">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/quickref-ecs.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="http://aws.amazon.com/documentation">AWS Documentation</a> &#xBB; <a href="http://aws.amazon.com/documentation/cloudformation">AWS CloudFormation</a> &#xBB; <a href="index.html">User Guide</a> &#xBB; <a href="template-guide.html">Working with AWS CloudFormation Templates</a> &#xBB; <a href="CHAP_TemplateQuickRef.html">Template Snippets</a> &#xBB; <span class="breadcrumb">Amazon Elastic Container Service Template Snippets</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div></div>
                     <div id="language-filter" class="page-header" style="display:none">
                        <form> Filter View: 
                           <select name="filter-select" id="filter-select">
                              <option selected="1">All</option>
                              <option value="JSON" selected>JSON</option>
                              <option value="YAML" selected>YAML</option></select></form>
                     </div>
                     <h1 class="topictitle" id="quickref-ecs">Amazon Elastic Container Service Template Snippets</h1>
                     <p>Amazon Elastic Container Service (Amazon ECS) is a container management service that
                        makes it easy to run, stop, and
                        manage Docker containers on a cluster of Amazon Elastic Compute Cloud (Amazon EC2)
                        instances.
                     </p>
                     <p>The following example template deploys a web application in an Amazon ECS container
                        with
                        		autoscaling and an application load balancer. For more information, see <a href="./AmazonECS/latest/developerguide//ECS_GetStarted.html" target="_blank">Getting Started with Amazon ECS</a> in the
                        			<em>Amazon Elastic Container Service Developer Guide</em>.
                     </p>
                     <div class="aws-note">
                        <p class="aws-note">Important</p>
                        <p>For the latest AMI IDs, see <a href="./AmazonECS/latest/developerguide/ecs-optimized_AMI.html" target="_blank">Amazon ECS-optimized AMI</a> in the <em>Amazon Elastic Container Service Developer Guide</em>.
                        </p>
                     </div>
                     <div id="JSON" name="JSON" class="section langfilter">
                        <h2 id="quickref-ecs-example-1.json">JSON</h2>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">{
  &quot;AWSTemplateFormatVersion&quot;:&quot;2010-09-09&quot;,
  &quot;Parameters&quot;:{
    &quot;KeyName&quot;:{
      &quot;Type&quot;:&quot;AWS::EC2::KeyPair::KeyName&quot;,
      &quot;Description&quot;:&quot;Name of an existing EC2 KeyPair to enable SSH access to the ECS instances.&quot;
    },
    &quot;VpcId&quot;:{
      &quot;Type&quot;:&quot;AWS::EC2::VPC::Id&quot;,
      &quot;Description&quot;:&quot;Select a VPC that allows instances to access the Internet.&quot;
    },
    &quot;SubnetId&quot;:{
      &quot;Type&quot;:&quot;List&lt;AWS::EC2::Subnet::Id&gt;&quot;,
      &quot;Description&quot;:&quot;Select at two subnets in your selected VPC.&quot;
    },
    &quot;DesiredCapacity&quot;:{
      &quot;Type&quot;:&quot;Number&quot;,
      &quot;Default&quot;:&quot;1&quot;,
      &quot;Description&quot;:&quot;Number of instances to launch in your ECS cluster.&quot;
    },
    &quot;MaxSize&quot;:{
      &quot;Type&quot;:&quot;Number&quot;,
      &quot;Default&quot;:&quot;1&quot;,
      &quot;Description&quot;:&quot;Maximum number of instances that can be launched in your ECS cluster.&quot;
    },
    &quot;InstanceType&quot;:{
      &quot;Description&quot;:&quot;EC2 instance type&quot;,
      &quot;Type&quot;:&quot;String&quot;,
      &quot;Default&quot;:&quot;t2.micro&quot;,
      &quot;AllowedValues&quot;:[
        &quot;t2.micro&quot;,
        &quot;t2.small&quot;,
        &quot;t2.medium&quot;,
        &quot;t2.large&quot;,
        &quot;m3.medium&quot;,
        &quot;m3.large&quot;,
        &quot;m3.xlarge&quot;,
        &quot;m3.2xlarge&quot;,
        &quot;m4.large&quot;,
        &quot;m4.xlarge&quot;,
        &quot;m4.2xlarge&quot;,
        &quot;m4.4xlarge&quot;,
        &quot;m4.10xlarge&quot;,
        &quot;c4.large&quot;,
        &quot;c4.xlarge&quot;,
        &quot;c4.2xlarge&quot;,
        &quot;c4.4xlarge&quot;,
        &quot;c4.8xlarge&quot;,
        &quot;c3.large&quot;,
        &quot;c3.xlarge&quot;,
        &quot;c3.2xlarge&quot;,
        &quot;c3.4xlarge&quot;,
        &quot;c3.8xlarge&quot;,
        &quot;r3.large&quot;,
        &quot;r3.xlarge&quot;,
        &quot;r3.2xlarge&quot;,
        &quot;r3.4xlarge&quot;,
        &quot;r3.8xlarge&quot;,
        &quot;i2.xlarge&quot;,
        &quot;i2.2xlarge&quot;,
        &quot;i2.4xlarge&quot;,
        &quot;i2.8xlarge&quot;
      ],
      &quot;ConstraintDescription&quot;:&quot;Please choose a valid instance type.&quot;
    }
  },
  &quot;Mappings&quot;:{
    &quot;AWSRegionToAMI&quot;:{
      &quot;us-east-1&quot;:{
        &quot;AMIID&quot;:&quot;ami-eca289fb&quot;
      },
      &quot;us-east-2&quot;:{
        &quot;AMIID&quot;:&quot;ami-446f3521&quot;
      },
      &quot;us-west-1&quot;:{
        &quot;AMIID&quot;:&quot;ami-9fadf8ff&quot;
      },
      &quot;us-west-2&quot;:{
        &quot;AMIID&quot;:&quot;ami-7abc111a&quot;
      },
      &quot;eu-west-1&quot;:{
        &quot;AMIID&quot;:&quot;ami-a1491ad2&quot;
      },
      &quot;eu-central-1&quot;:{
        &quot;AMIID&quot;:&quot;ami-54f5303b&quot;
      },
      &quot;ap-northeast-1&quot;:{
        &quot;AMIID&quot;:&quot;ami-9cd57ffd&quot;
      },
      &quot;ap-southeast-1&quot;:{
        &quot;AMIID&quot;:&quot;ami-a900a3ca&quot;
      },
      &quot;ap-southeast-2&quot;:{
        &quot;AMIID&quot;:&quot;ami-5781be34&quot;
      }
    }
  },
  &quot;Resources&quot;:{
    &quot;ECSCluster&quot;:{
      &quot;Type&quot;:&quot;AWS::ECS::Cluster&quot;
    },
    &quot;EcsSecurityGroup&quot;:{
      &quot;Type&quot;:&quot;AWS::EC2::SecurityGroup&quot;,
      &quot;Properties&quot;:{
        &quot;GroupDescription&quot;:&quot;ECS Security Group&quot;,
        &quot;VpcId&quot;:{
          &quot;Ref&quot;:&quot;VpcId&quot;
        }
      }
    },
    &quot;EcsSecurityGroupHTTPinbound&quot;:{
      &quot;Type&quot;:&quot;AWS::EC2::SecurityGroupIngress&quot;,
      &quot;Properties&quot;:{
        &quot;GroupId&quot;:{
          &quot;Ref&quot;:&quot;EcsSecurityGroup&quot;
        },
        &quot;IpProtocol&quot;:&quot;tcp&quot;,
        &quot;FromPort&quot;:&quot;80&quot;,
        &quot;ToPort&quot;:&quot;80&quot;,
        &quot;CidrIp&quot;:&quot;0.0.0.0/0&quot;
      }
    },
    &quot;EcsSecurityGroupSSHinbound&quot;:{
      &quot;Type&quot;:&quot;AWS::EC2::SecurityGroupIngress&quot;,
      &quot;Properties&quot;:{
        &quot;GroupId&quot;:{
          &quot;Ref&quot;:&quot;EcsSecurityGroup&quot;
        },
        &quot;IpProtocol&quot;:&quot;tcp&quot;,
        &quot;FromPort&quot;:&quot;22&quot;,
        &quot;ToPort&quot;:&quot;22&quot;,
        &quot;CidrIp&quot;:&quot;0.0.0.0/0&quot;
      }
    },
    &quot;EcsSecurityGroupALBports&quot;:{
      &quot;Type&quot;:&quot;AWS::EC2::SecurityGroupIngress&quot;,
      &quot;Properties&quot;:{
        &quot;GroupId&quot;:{
          &quot;Ref&quot;:&quot;EcsSecurityGroup&quot;
        },
        &quot;IpProtocol&quot;:&quot;tcp&quot;,
        &quot;FromPort&quot;:&quot;31000&quot;,
        &quot;ToPort&quot;:&quot;61000&quot;,
        &quot;SourceSecurityGroupId&quot;:{
          &quot;Ref&quot;:&quot;EcsSecurityGroup&quot;
        }
      }
    },
    &quot;CloudwatchLogsGroup&quot;:{
      &quot;Type&quot;:&quot;AWS::Logs::LogGroup&quot;,
      &quot;Properties&quot;:{
        &quot;LogGroupName&quot;:{
          &quot;Fn::Join&quot;:[
            &quot;-&quot;,
            [
              &quot;ECSLogGroup&quot;,
              {
                &quot;Ref&quot;:&quot;AWS::StackName&quot;
              }
            ]
          ]
        },
        &quot;RetentionInDays&quot;:14
      }
    },
    &quot;taskdefinition&quot;:{
      &quot;Type&quot;:&quot;AWS::ECS::TaskDefinition&quot;,
      &quot;Properties&quot;:{
        &quot;Family&quot;:{
          &quot;Fn::Join&quot;:[
            &quot;&quot;,
            [
              {
                &quot;Ref&quot;:&quot;AWS::StackName&quot;
              },
              &quot;-ecs-demo-app&quot;
            ]
          ]
        },
        &quot;ContainerDefinitions&quot;:[
          {
            &quot;Name&quot;:&quot;simple-app&quot;,
            &quot;Cpu&quot;:&quot;10&quot;,
            &quot;Essential&quot;:&quot;true&quot;,
            &quot;Image&quot;:&quot;httpd:2.4&quot;,
            &quot;Memory&quot;:&quot;300&quot;,
            &quot;LogConfiguration&quot;:{
              &quot;LogDriver&quot;:&quot;awslogs&quot;,
              &quot;Options&quot;:{
                &quot;awslogs-group&quot;:{
                  &quot;Ref&quot;:&quot;CloudwatchLogsGroup&quot;
                },
                &quot;awslogs-region&quot;:{
                  &quot;Ref&quot;:&quot;AWS::Region&quot;
                },
                &quot;awslogs-stream-prefix&quot;:&quot;ecs-demo-app&quot;
              }
            },
            &quot;MountPoints&quot;:[
              {
                &quot;ContainerPath&quot;:&quot;/usr/local/apache2/htdocs&quot;,
                &quot;SourceVolume&quot;:&quot;my-vol&quot;
              }
            ],
            &quot;PortMappings&quot;:[
              {
                &quot;ContainerPort&quot;:80
              }
            ]
          },
          {
            &quot;Name&quot;:&quot;busybox&quot;,
            &quot;Cpu&quot;:10,
            &quot;Command&quot;:[
              &quot;/bin/sh -c \&quot;while true; do echo &apos;&lt;html&gt; &lt;head&gt; &lt;title&gt;Amazon ECS Sample App&lt;/title&gt; &lt;style&gt;body {margin-top: 40px; background-color: #333;} &lt;/style&gt; &lt;/head&gt;&lt;body&gt; &lt;div style=color:white;text-align:center&gt; &lt;h1&gt;Amazon ECS Sample App&lt;/h1&gt; &lt;h2&gt;Congratulations!&lt;/h2&gt; &lt;p&gt;Your application is now running on a container in Amazon ECS.&lt;/p&gt;&apos; &gt; top; /bin/date &gt; date ; echo &apos;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;&apos; &gt; bottom; cat top date bottom &gt; /usr/local/apache2/htdocs/index.html ; sleep 1; done\&quot;&quot;
            ],
            &quot;EntryPoint&quot;:[
              &quot;sh&quot;,
              &quot;-c&quot;
            ],
            &quot;Essential&quot;:false,
            &quot;Image&quot;:&quot;busybox&quot;,
            &quot;Memory&quot;:200,
            &quot;LogConfiguration&quot;:{
              &quot;LogDriver&quot;:&quot;awslogs&quot;,
              &quot;Options&quot;:{
                &quot;awslogs-group&quot;:{
                  &quot;Ref&quot;:&quot;CloudwatchLogsGroup&quot;
                },
                &quot;awslogs-region&quot;:{
                  &quot;Ref&quot;:&quot;AWS::Region&quot;
                },
                &quot;awslogs-stream-prefix&quot;:&quot;ecs-demo-app&quot;
              }
            },
            &quot;VolumesFrom&quot;:[
              {
                &quot;SourceContainer&quot;:&quot;simple-app&quot;
              }
            ]
          }
        ],
        &quot;Volumes&quot;:[
          {
            &quot;Name&quot;:&quot;my-vol&quot;
          }
        ]
      }
    },
    &quot;ECSALB&quot;:{
      &quot;Type&quot;:&quot;AWS::ElasticLoadBalancingV2::LoadBalancer&quot;,
      &quot;Properties&quot;:{
        &quot;Name&quot;:&quot;ECSALB&quot;,
        &quot;Scheme&quot;:&quot;internet-facing&quot;,
        &quot;LoadBalancerAttributes&quot;:[
          {
            &quot;Key&quot;:&quot;idle_timeout.timeout_seconds&quot;,
            &quot;Value&quot;:&quot;30&quot;
          }
        ],
        &quot;Subnets&quot;:{
          &quot;Ref&quot;:&quot;SubnetId&quot;
        },
        &quot;SecurityGroups&quot;:[
          {
            &quot;Ref&quot;:&quot;EcsSecurityGroup&quot;
          }
        ]
      }
    },
    &quot;ALBListener&quot;:{
      &quot;Type&quot;:&quot;AWS::ElasticLoadBalancingV2::Listener&quot;,
      &quot;DependsOn&quot;:&quot;ECSServiceRole&quot;,
      &quot;Properties&quot;:{
        &quot;DefaultActions&quot;:[
          {
            &quot;Type&quot;:&quot;forward&quot;,
            &quot;TargetGroupArn&quot;:{
              &quot;Ref&quot;:&quot;ECSTG&quot;
            }
          }
        ],
        &quot;LoadBalancerArn&quot;:{
          &quot;Ref&quot;:&quot;ECSALB&quot;
        },
        &quot;Port&quot;:&quot;80&quot;,
        &quot;Protocol&quot;:&quot;HTTP&quot;
      }
    },
    &quot;ECSALBListenerRule&quot;:{
      &quot;Type&quot;:&quot;AWS::ElasticLoadBalancingV2::ListenerRule&quot;,
      &quot;DependsOn&quot;:&quot;ALBListener&quot;,
      &quot;Properties&quot;:{
        &quot;Actions&quot;:[
          {
            &quot;Type&quot;:&quot;forward&quot;,
            &quot;TargetGroupArn&quot;:{
              &quot;Ref&quot;:&quot;ECSTG&quot;
            }
          }
        ],
        &quot;Conditions&quot;:[
          {
            &quot;Field&quot;:&quot;path-pattern&quot;,
            &quot;Values&quot;:[
              &quot;/&quot;
            ]
          }
        ],
        &quot;ListenerArn&quot;:{
          &quot;Ref&quot;:&quot;ALBListener&quot;
        },
        &quot;Priority&quot;:1
      }
    },
    &quot;ECSTG&quot;:{
      &quot;Type&quot;:&quot;AWS::ElasticLoadBalancingV2::TargetGroup&quot;,
      &quot;DependsOn&quot;:&quot;ECSALB&quot;,
      &quot;Properties&quot;:{
        &quot;HealthCheckIntervalSeconds&quot;:10,
        &quot;HealthCheckPath&quot;:&quot;/&quot;,
        &quot;HealthCheckProtocol&quot;:&quot;HTTP&quot;,
        &quot;HealthCheckTimeoutSeconds&quot;:5,
        &quot;HealthyThresholdCount&quot;:2,
        &quot;Name&quot;:&quot;ECSTG&quot;,
        &quot;Port&quot;:80,
        &quot;Protocol&quot;:&quot;HTTP&quot;,
        &quot;UnhealthyThresholdCount&quot;:2,
        &quot;VpcId&quot;:{
          &quot;Ref&quot;:&quot;VpcId&quot;
        }
      }
    },
    &quot;ECSAutoScalingGroup&quot;:{
      &quot;Type&quot;:&quot;AWS::AutoScaling::AutoScalingGroup&quot;,
      &quot;Properties&quot;:{
        &quot;VPCZoneIdentifier&quot;:{
          &quot;Ref&quot;:&quot;SubnetId&quot;
        },
        &quot;LaunchConfigurationName&quot;:{
          &quot;Ref&quot;:&quot;ContainerInstances&quot;
        },
        &quot;MinSize&quot;:&quot;1&quot;,
        &quot;MaxSize&quot;:{
          &quot;Ref&quot;:&quot;MaxSize&quot;
        },
        &quot;DesiredCapacity&quot;:{
          &quot;Ref&quot;:&quot;DesiredCapacity&quot;
        }
      },
      &quot;CreationPolicy&quot;:{
        &quot;ResourceSignal&quot;:{
          &quot;Timeout&quot;:&quot;PT15M&quot;
        }
      },
      &quot;UpdatePolicy&quot;:{
        &quot;AutoScalingReplacingUpdate&quot;:{
          &quot;WillReplace&quot;:&quot;true&quot;
        }
      }
    },
    &quot;ContainerInstances&quot;:{
      &quot;Type&quot;:&quot;AWS::AutoScaling::LaunchConfiguration&quot;,
      &quot;Properties&quot;:{
        &quot;ImageId&quot;:{
          &quot;Fn::FindInMap&quot;:[
            &quot;AWSRegionToAMI&quot;,
            {
              &quot;Ref&quot;:&quot;AWS::Region&quot;
            },
            &quot;AMIID&quot;
          ]
        },
        &quot;SecurityGroups&quot;:[
          {
            &quot;Ref&quot;:&quot;EcsSecurityGroup&quot;
          }
        ],
        &quot;InstanceType&quot;:{
          &quot;Ref&quot;:&quot;InstanceType&quot;
        },
        &quot;IamInstanceProfile&quot;:{
          &quot;Ref&quot;:&quot;EC2InstanceProfile&quot;
        },
        &quot;KeyName&quot;:{
          &quot;Ref&quot;:&quot;KeyName&quot;
        },
        &quot;UserData&quot;:{
          &quot;Fn::Base64&quot;:{
            &quot;Fn::Join&quot;:[
              &quot;&quot;,
              [
                &quot;#!/bin/bash -xe\n&quot;,
                &quot;echo ECS_CLUSTER=&quot;,
                {
                  &quot;Ref&quot;:&quot;ECSCluster&quot;
                },
                &quot; &gt;&gt; /etc/ecs/ecs.config\n&quot;,
                &quot;yum install -y aws-cfn-bootstrap\n&quot;,
                &quot;/opt/aws/bin/cfn-signal -e $? &quot;,
                &quot;         --stack &quot;,
                {
                  &quot;Ref&quot;:&quot;AWS::StackName&quot;
                },
                &quot;         --resource ECSAutoScalingGroup &quot;,
                &quot;         --region &quot;,
                {
                  &quot;Ref&quot;:&quot;AWS::Region&quot;
                },
                &quot;\n&quot;
              ]
            ]
          }
        }
      }
    },
    &quot;service&quot;:{
      &quot;Type&quot;:&quot;AWS::ECS::Service&quot;,
      &quot;DependsOn&quot;:&quot;ALBListener&quot;,
      &quot;Properties&quot;:{
        &quot;Cluster&quot;:{
          &quot;Ref&quot;:&quot;ECSCluster&quot;
        },
        &quot;DesiredCount&quot;:&quot;1&quot;,
        &quot;LoadBalancers&quot;:[
          {
            &quot;ContainerName&quot;:&quot;simple-app&quot;,
            &quot;ContainerPort&quot;:&quot;80&quot;,
            &quot;TargetGroupArn&quot;:{
              &quot;Ref&quot;:&quot;ECSTG&quot;
            }
          }
        ],
        &quot;Role&quot;:{
          &quot;Ref&quot;:&quot;ECSServiceRole&quot;
        },
        &quot;TaskDefinition&quot;:{
          &quot;Ref&quot;:&quot;taskdefinition&quot;
        }
      }
    },
    &quot;ECSServiceRole&quot;:{
      &quot;Type&quot;:&quot;AWS::IAM::Role&quot;,
      &quot;Properties&quot;:{
        &quot;AssumeRolePolicyDocument&quot;:{
          &quot;Statement&quot;:[
            {
              &quot;Effect&quot;:&quot;Allow&quot;,
              &quot;Principal&quot;:{
                &quot;Service&quot;:[
                  &quot;ecs.amazonaws.com&quot;
                ]
              },
              &quot;Action&quot;:[
                &quot;sts:AssumeRole&quot;
              ]
            }
          ]
        },
        &quot;Path&quot;:&quot;/&quot;,
        &quot;Policies&quot;:[
          {
            &quot;PolicyName&quot;:&quot;ecs-service&quot;,
            &quot;PolicyDocument&quot;:{
              &quot;Statement&quot;:[
                {
                  &quot;Effect&quot;:&quot;Allow&quot;,
                  &quot;Action&quot;:[
                    &quot;elasticloadbalancing:DeregisterInstancesFromLoadBalancer&quot;,
                    &quot;elasticloadbalancing:DeregisterTargets&quot;,
                    &quot;elasticloadbalancing:Describe*&quot;,
                    &quot;elasticloadbalancing:RegisterInstancesWithLoadBalancer&quot;,
                    &quot;elasticloadbalancing:RegisterTargets&quot;,
                    &quot;ec2:Describe*&quot;,
                    &quot;ec2:AuthorizeSecurityGroupIngress&quot;
                  ],
                  &quot;Resource&quot;:&quot;*&quot;
                }
              ]
            }
          }
        ]
      }
    },
    &quot;ServiceScalingTarget&quot;:{
      &quot;Type&quot;:&quot;AWS::ApplicationAutoScaling::ScalableTarget&quot;,
      &quot;DependsOn&quot;:&quot;service&quot;,
      &quot;Properties&quot;:{
        &quot;MaxCapacity&quot;:2,
        &quot;MinCapacity&quot;:1,
        &quot;ResourceId&quot;:{
          &quot;Fn::Join&quot;:[
            &quot;&quot;,
            [
              &quot;service/&quot;,
              {
                &quot;Ref&quot;:&quot;ECSCluster&quot;
              },
              &quot;/&quot;,
              {
                &quot;Fn::GetAtt&quot;:[
                  &quot;service&quot;,
                  &quot;Name&quot;
                ]
              }
            ]
          ]
        },
        &quot;RoleARN&quot;:{
          &quot;Fn::GetAtt&quot;:[
            &quot;AutoscalingRole&quot;,
            &quot;Arn&quot;
          ]
        },
        &quot;ScalableDimension&quot;:&quot;ecs:service:DesiredCount&quot;,
        &quot;ServiceNamespace&quot;:&quot;ecs&quot;
      }
    },
    &quot;ServiceScalingPolicy&quot;:{
      &quot;Type&quot;:&quot;AWS::ApplicationAutoScaling::ScalingPolicy&quot;,
      &quot;Properties&quot;:{
        &quot;PolicyName&quot;:&quot;AStepPolicy&quot;,
        &quot;PolicyType&quot;:&quot;StepScaling&quot;,
        &quot;ScalingTargetId&quot;:{
          &quot;Ref&quot;:&quot;ServiceScalingTarget&quot;
        },
        &quot;StepScalingPolicyConfiguration&quot;:{
          &quot;AdjustmentType&quot;:&quot;PercentChangeInCapacity&quot;,
          &quot;Cooldown&quot;:60,
          &quot;MetricAggregationType&quot;:&quot;Average&quot;,
          &quot;StepAdjustments&quot;:[
            {
              &quot;MetricIntervalLowerBound&quot;:0,
              &quot;ScalingAdjustment&quot;:200
            }
          ]
        }
      }
    },
    &quot;ALB500sAlarmScaleUp&quot;:{
      &quot;Type&quot;:&quot;AWS::CloudWatch::Alarm&quot;,
      &quot;Properties&quot;:{
        &quot;EvaluationPeriods&quot;:&quot;1&quot;,
        &quot;Statistic&quot;:&quot;Average&quot;,
        &quot;Threshold&quot;:&quot;10&quot;,
        &quot;AlarmDescription&quot;:&quot;Alarm if our ALB generates too many HTTP 500s.&quot;,
        &quot;Period&quot;:&quot;60&quot;,
        &quot;AlarmActions&quot;:[
          {
            &quot;Ref&quot;:&quot;ServiceScalingPolicy&quot;
          }
        ],
        &quot;Namespace&quot;:&quot;AWS/ApplicationELB&quot;,
        &quot;Dimensions&quot;:[
          {
            &quot;Name&quot;:&quot;LoadBalancer&quot;,
            &quot;Value&quot;:{
              &quot;Fn::GetAtt&quot; : [ 
                &quot;ECSALB&quot;, 
                &quot;LoadBalancerFullName&quot;
              ] 
            }
          }
        ],
        &quot;ComparisonOperator&quot;:&quot;GreaterThanThreshold&quot;,
        &quot;MetricName&quot;:&quot;HTTPCode_ELB_5XX_Count&quot;
      }
    },
    &quot;EC2Role&quot;:{
      &quot;Type&quot;:&quot;AWS::IAM::Role&quot;,
      &quot;Properties&quot;:{
        &quot;AssumeRolePolicyDocument&quot;:{
          &quot;Statement&quot;:[
            {
              &quot;Effect&quot;:&quot;Allow&quot;,
              &quot;Principal&quot;:{
                &quot;Service&quot;:[
                  &quot;ec2.amazonaws.com&quot;
                ]
              },
              &quot;Action&quot;:[
                &quot;sts:AssumeRole&quot;
              ]
            }
          ]
        },
        &quot;Path&quot;:&quot;/&quot;,
        &quot;Policies&quot;:[
          {
            &quot;PolicyName&quot;:&quot;ecs-service&quot;,
            &quot;PolicyDocument&quot;:{
              &quot;Statement&quot;:[
                {
                  &quot;Effect&quot;:&quot;Allow&quot;,
                  &quot;Action&quot;:[
                    &quot;ecs:CreateCluster&quot;,
                    &quot;ecs:DeregisterContainerInstance&quot;,
                    &quot;ecs:DiscoverPollEndpoint&quot;,
                    &quot;ecs:Poll&quot;,
                    &quot;ecs:RegisterContainerInstance&quot;,
                    &quot;ecs:StartTelemetrySession&quot;,
                    &quot;ecs:Submit*&quot;,
                    &quot;logs:CreateLogStream&quot;,
                    &quot;logs:PutLogEvents&quot;
                  ],
                  &quot;Resource&quot;:&quot;*&quot;
                }
              ]
            }
          }
        ]
      }
    },
    &quot;AutoscalingRole&quot;:{
      &quot;Type&quot;:&quot;AWS::IAM::Role&quot;,
      &quot;Properties&quot;:{
        &quot;AssumeRolePolicyDocument&quot;:{
          &quot;Statement&quot;:[
            {
              &quot;Effect&quot;:&quot;Allow&quot;,
              &quot;Principal&quot;:{
                &quot;Service&quot;:[
                  &quot;application-autoscaling.amazonaws.com&quot;
                ]
              },
              &quot;Action&quot;:[
                &quot;sts:AssumeRole&quot;
              ]
            }
          ]
        },
        &quot;Path&quot;:&quot;/&quot;,
        &quot;Policies&quot;:[
          {
            &quot;PolicyName&quot;:&quot;service-autoscaling&quot;,
            &quot;PolicyDocument&quot;:{
              &quot;Statement&quot;:[
                {
                  &quot;Effect&quot;:&quot;Allow&quot;,
                  &quot;Action&quot;:[
                    &quot;application-autoscaling:*&quot;,
                    &quot;cloudwatch:DescribeAlarms&quot;,
                    &quot;cloudwatch:PutMetricAlarm&quot;,
                    &quot;ecs:DescribeServices&quot;,
                    &quot;ecs:UpdateService&quot;
                  ],
                  &quot;Resource&quot;:&quot;*&quot;
                }
              ]
            }
          }
        ]
      }
    },
    &quot;EC2InstanceProfile&quot;:{
      &quot;Type&quot;:&quot;AWS::IAM::InstanceProfile&quot;,
      &quot;Properties&quot;:{
        &quot;Path&quot;:&quot;/&quot;,
        &quot;Roles&quot;:[
          {
            &quot;Ref&quot;:&quot;EC2Role&quot;
          }
        ]
      }
    }
  },
  &quot;Outputs&quot;:{
    &quot;ecsservice&quot;:{
      &quot;Value&quot;:{
        &quot;Ref&quot;:&quot;service&quot;
      }
    },
    &quot;ecscluster&quot;:{
      &quot;Value&quot;:{
        &quot;Ref&quot;:&quot;ECSCluster&quot;
      }
    },
    &quot;ECSALB&quot;:{
      &quot;Description&quot;:&quot;Your ALB DNS URL&quot;,
      &quot;Value&quot;:{
        &quot;Fn::Join&quot;:[
          &quot;&quot;,
          [
            {
              &quot;Fn::GetAtt&quot;:[
                &quot;ECSALB&quot;,
                &quot;DNSName&quot;
              ]
            }
          ]
        ]
      }
    },
    &quot;taskdef&quot;:{
      &quot;Value&quot;:{
        &quot;Ref&quot;:&quot;taskdefinition&quot;
      }
    }
  }
}</code></pre>
                        </div>
                     <div id="YAML" name="YAML" class="section langfilter">
                        <h2 id="quickref-ecs-example-1.yaml">YAML</h2>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">AWSTemplateFormatVersion: &apos;2010-09-09&apos;
Parameters:
  KeyName:
    Type: AWS::EC2::KeyPair::KeyName
    Description: Name of an existing EC2 KeyPair to enable SSH access to the ECS instances.
  VpcId:
    Type: AWS::EC2::VPC::Id
    Description: Select a VPC that allows instances access to the Internet.
  SubnetId:
    Type: List&lt;AWS::EC2::Subnet::Id&gt;
    Description: Select at two subnets in your selected VPC.
  DesiredCapacity:
    Type: Number
    Default: &apos;1&apos;
    Description: Number of instances to launch in your ECS cluster.
  MaxSize:
    Type: Number
    Default: &apos;1&apos;
    Description: Maximum number of instances that can be launched in your ECS cluster.
  InstanceType:
    Description: EC2 instance type
    Type: String
    Default: t2.micro
    AllowedValues: [t2.micro, t2.small, t2.medium, t2.large, m3.medium, m3.large,
      m3.xlarge, m3.2xlarge, m4.large, m4.xlarge, m4.2xlarge, m4.4xlarge, m4.10xlarge,
      c4.large, c4.xlarge, c4.2xlarge, c4.4xlarge, c4.8xlarge, c3.large, c3.xlarge,
      c3.2xlarge, c3.4xlarge, c3.8xlarge, r3.large, r3.xlarge, r3.2xlarge, r3.4xlarge,
      r3.8xlarge, i2.xlarge, i2.2xlarge, i2.4xlarge, i2.8xlarge]
    ConstraintDescription: Please choose a valid instance type.
Mappings:
  AWSRegionToAMI:
    us-east-1:
      AMIID: ami-eca289fb
    us-east-2:
      AMIID: ami-446f3521
    us-west-1:
      AMIID: ami-9fadf8ff
    us-west-2:
      AMIID: ami-7abc111a
    eu-west-1:
      AMIID: ami-a1491ad2
    eu-central-1:
      AMIID: ami-54f5303b
    ap-northeast-1:
      AMIID: ami-9cd57ffd
    ap-southeast-1:
      AMIID: ami-a900a3ca
    ap-southeast-2:
      AMIID: ami-5781be34
Resources:
  ECSCluster:
    Type: AWS::ECS::Cluster
  EcsSecurityGroup:
    Type: AWS::EC2::SecurityGroup
    Properties:
      GroupDescription: ECS Security Group
      VpcId: !Ref &apos;VpcId&apos;
  EcsSecurityGroupHTTPinbound:
    Type: AWS::EC2::SecurityGroupIngress
    Properties:
      GroupId: !Ref &apos;EcsSecurityGroup&apos;
      IpProtocol: tcp
      FromPort: &apos;80&apos;
      ToPort: &apos;80&apos;
      CidrIp: 0.0.0.0/0
  EcsSecurityGroupSSHinbound:
    Type: AWS::EC2::SecurityGroupIngress
    Properties:
      GroupId: !Ref &apos;EcsSecurityGroup&apos;
      IpProtocol: tcp
      FromPort: &apos;22&apos;
      ToPort: &apos;22&apos;
      CidrIp: 0.0.0.0/0
  EcsSecurityGroupALBports:
    Type: AWS::EC2::SecurityGroupIngress
    Properties:
      GroupId: !Ref &apos;EcsSecurityGroup&apos;
      IpProtocol: tcp
      FromPort: &apos;31000&apos;
      ToPort: &apos;61000&apos;
      SourceSecurityGroupId: !Ref &apos;EcsSecurityGroup&apos;
  CloudwatchLogsGroup:
    Type: AWS::Logs::LogGroup
    Properties:
      LogGroupName: !Join [&apos;-&apos;, [ECSLogGroup, !Ref &apos;AWS::StackName&apos;]]
      RetentionInDays: 14
  taskdefinition:
    Type: AWS::ECS::TaskDefinition
    Properties:
      Family: !Join [&apos;&apos;, [!Ref &apos;AWS::StackName&apos;, -ecs-demo-app]]
      ContainerDefinitions:
      - Name: simple-app
        Cpu: &apos;10&apos;
        Essential: &apos;true&apos;
        Image: httpd:2.4
        Memory: &apos;300&apos;
        LogConfiguration:
          LogDriver: awslogs
          Options:
            awslogs-group: !Ref &apos;CloudwatchLogsGroup&apos;
            awslogs-region: !Ref &apos;AWS::Region&apos;
            awslogs-stream-prefix: ecs-demo-app
        MountPoints:
        - ContainerPath: /usr/local/apache2/htdocs
          SourceVolume: my-vol
        PortMappings:
        - ContainerPort: 80
      - Name: busybox
        Cpu: 10
        Command: [&apos;/bin/sh -c &quot;while true; do echo &apos;&apos;&lt;html&gt; &lt;head&gt; &lt;title&gt;Amazon ECS
            Sample App&lt;/title&gt; &lt;style&gt;body {margin-top: 40px; background-color: #333;}
            &lt;/style&gt; &lt;/head&gt;&lt;body&gt; &lt;div style=color:white;text-align:center&gt; &lt;h1&gt;Amazon
            ECS Sample App&lt;/h1&gt; &lt;h2&gt;Congratulations!&lt;/h2&gt; &lt;p&gt;Your application is now
            running on a container in Amazon ECS.&lt;/p&gt;&apos;&apos; &gt; top; /bin/date &gt; date ;
            echo &apos;&apos;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;&apos;&apos; &gt; bottom; cat top date bottom &gt; /usr/local/apache2/htdocs/index.html
            ; sleep 1; done&quot;&apos;]
        EntryPoint: [sh, -c]
        Essential: false
        Image: busybox
        Memory: 200
        LogConfiguration:
          LogDriver: awslogs
          Options:
            awslogs-group: !Ref &apos;CloudwatchLogsGroup&apos;
            awslogs-region: !Ref &apos;AWS::Region&apos;
            awslogs-stream-prefix: ecs-demo-app
        VolumesFrom:
        - SourceContainer: simple-app
      Volumes:
      - Name: my-vol
  ECSALB:
    Type: AWS::ElasticLoadBalancingV2::LoadBalancer
    Properties:
      Name: ECSALB
      Scheme: internet-facing
      LoadBalancerAttributes:
      - Key: idle_timeout.timeout_seconds
        Value: &apos;30&apos;
      Subnets: !Ref &apos;SubnetId&apos;
      SecurityGroups: [!Ref &apos;EcsSecurityGroup&apos;]
  ALBListener:
    Type: AWS::ElasticLoadBalancingV2::Listener
    DependsOn: ECSServiceRole
    Properties:
      DefaultActions:
      - Type: forward
        TargetGroupArn: !Ref &apos;ECSTG&apos;
      LoadBalancerArn: !Ref &apos;ECSALB&apos;
      Port: &apos;80&apos;
      Protocol: HTTP
  ECSALBListenerRule:
    Type: AWS::ElasticLoadBalancingV2::ListenerRule
    DependsOn: ALBListener
    Properties:
      Actions:
      - Type: forward
        TargetGroupArn: !Ref &apos;ECSTG&apos;
      Conditions:
      - Field: path-pattern
        Values: [/]
      ListenerArn: !Ref &apos;ALBListener&apos;
      Priority: 1
  ECSTG:
    Type: AWS::ElasticLoadBalancingV2::TargetGroup
    DependsOn: ECSALB
    Properties:
      HealthCheckIntervalSeconds: 10
      HealthCheckPath: /
      HealthCheckProtocol: HTTP
      HealthCheckTimeoutSeconds: 5
      HealthyThresholdCount: 2
      Name: ECSTG
      Port: 80
      Protocol: HTTP
      UnhealthyThresholdCount: 2
      VpcId: !Ref &apos;VpcId&apos;
  ECSAutoScalingGroup:
    Type: AWS::AutoScaling::AutoScalingGroup
    Properties:
      VPCZoneIdentifier: !Ref &apos;SubnetId&apos;
      LaunchConfigurationName: !Ref &apos;ContainerInstances&apos;
      MinSize: &apos;1&apos;
      MaxSize: !Ref &apos;MaxSize&apos;
      DesiredCapacity: !Ref &apos;DesiredCapacity&apos;
    CreationPolicy:
      ResourceSignal:
        Timeout: PT15M
    UpdatePolicy:
      AutoScalingReplacingUpdate:
        WillReplace: &apos;true&apos;
  ContainerInstances:
    Type: AWS::AutoScaling::LaunchConfiguration
    Properties:
      ImageId: !FindInMap [AWSRegionToAMI, !Ref &apos;AWS::Region&apos;, AMIID]
      SecurityGroups: [!Ref &apos;EcsSecurityGroup&apos;]
      InstanceType: !Ref &apos;InstanceType&apos;
      IamInstanceProfile: !Ref &apos;EC2InstanceProfile&apos;
      KeyName: !Ref &apos;KeyName&apos;
      UserData:
        Fn::Base64: !Sub |
          #!/bin/bash -xe
          echo ECS_CLUSTER=${ECSCluster} &gt;&gt; /etc/ecs/ecs.config
          yum install -y aws-cfn-bootstrap
          /opt/aws/bin/cfn-signal -e $? --stack ${AWS::StackName} --resource ECSAutoScalingGroup --region ${AWS::Region}
  service:
    Type: AWS::ECS::Service
    DependsOn: ALBListener
    Properties:
      Cluster: !Ref &apos;ECSCluster&apos;
      DesiredCount: &apos;1&apos;
      LoadBalancers:
      - ContainerName: simple-app
        ContainerPort: &apos;80&apos;
        TargetGroupArn: !Ref &apos;ECSTG&apos;
      Role: !Ref &apos;ECSServiceRole&apos;
      TaskDefinition: !Ref &apos;taskdefinition&apos;
  ECSServiceRole:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
        - Effect: Allow
          Principal:
            Service: [ecs.amazonaws.com]
          Action: [&apos;sts:AssumeRole&apos;]
      Path: /
      Policies:
      - PolicyName: ecs-service
        PolicyDocument:
          Statement:
          - Effect: Allow
            Action: [&apos;elasticloadbalancing:DeregisterInstancesFromLoadBalancer&apos;, &apos;elasticloadbalancing:DeregisterTargets&apos;,
              &apos;elasticloadbalancing:Describe*&apos;, &apos;elasticloadbalancing:RegisterInstancesWithLoadBalancer&apos;,
              &apos;elasticloadbalancing:RegisterTargets&apos;, &apos;ec2:Describe*&apos;, &apos;ec2:AuthorizeSecurityGroupIngress&apos;]
            Resource: &apos;*&apos;
  ServiceScalingTarget:
    Type: AWS::ApplicationAutoScaling::ScalableTarget
    DependsOn: service
    Properties:
      MaxCapacity: 2
      MinCapacity: 1
      ResourceId: !Join [&apos;&apos;, [service/, !Ref &apos;ECSCluster&apos;, /, !GetAtt [service, Name]]]
      RoleARN: !GetAtt [AutoscalingRole, Arn]
      ScalableDimension: ecs:service:DesiredCount
      ServiceNamespace: ecs
  ServiceScalingPolicy:
    Type: AWS::ApplicationAutoScaling::ScalingPolicy
    Properties:
      PolicyName: AStepPolicy
      PolicyType: StepScaling
      ScalingTargetId: !Ref &apos;ServiceScalingTarget&apos;
      StepScalingPolicyConfiguration:
        AdjustmentType: PercentChangeInCapacity
        Cooldown: 60
        MetricAggregationType: Average
        StepAdjustments:
        - MetricIntervalLowerBound: 0
          ScalingAdjustment: 200
  ALB500sAlarmScaleUp:
    Type: AWS::CloudWatch::Alarm
    Properties:
      EvaluationPeriods: &apos;1&apos;
      Statistic: Average
      Threshold: &apos;10&apos;
      AlarmDescription: Alarm if our ALB generates too many HTTP 500s.
      Period: &apos;60&apos;
      AlarmActions: [!Ref &apos;ServiceScalingPolicy&apos;]
      Namespace: AWS/ApplicationELB
      Dimensions:
        - Name: LoadBalancer
          Value: !GetAtt 
            - ECSALB
            - LoadBalancerFullName
      ComparisonOperator: GreaterThanThreshold
      MetricName: HTTPCode_ELB_5XX_Count
  EC2Role:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
        - Effect: Allow
          Principal:
            Service: [ec2.amazonaws.com]
          Action: [&apos;sts:AssumeRole&apos;]
      Path: /
      Policies:
      - PolicyName: ecs-service
        PolicyDocument:
          Statement:
          - Effect: Allow
            Action: [&apos;ecs:CreateCluster&apos;, &apos;ecs:DeregisterContainerInstance&apos;, &apos;ecs:DiscoverPollEndpoint&apos;,
              &apos;ecs:Poll&apos;, &apos;ecs:RegisterContainerInstance&apos;, &apos;ecs:StartTelemetrySession&apos;,
              &apos;ecs:Submit*&apos;, &apos;logs:CreateLogStream&apos;, &apos;logs:PutLogEvents&apos;]
            Resource: &apos;*&apos;
  AutoscalingRole:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
        - Effect: Allow
          Principal:
            Service: [application-autoscaling.amazonaws.com]
          Action: [&apos;sts:AssumeRole&apos;]
      Path: /
      Policies:
      - PolicyName: service-autoscaling
        PolicyDocument:
          Statement:
          - Effect: Allow
            Action: [&apos;application-autoscaling:*&apos;, &apos;cloudwatch:DescribeAlarms&apos;, &apos;cloudwatch:PutMetricAlarm&apos;,
              &apos;ecs:DescribeServices&apos;, &apos;ecs:UpdateService&apos;]
            Resource: &apos;*&apos;
  EC2InstanceProfile:
    Type: AWS::IAM::InstanceProfile
    Properties:
      Path: /
      Roles: [!Ref &apos;EC2Role&apos;]
Outputs:
  ecsservice:
    Value: !Ref &apos;service&apos;
  ecscluster:
    Value: !Ref &apos;ECSCluster&apos;
  ECSALB:
    Description: Your ALB DNS URL
    Value: !Join [&apos;&apos;, [!GetAtt [ECSALB, DNSName]]]
  taskdef:
    Value: !Ref &apos;taskdefinition&apos;</code></pre>
                        </div>
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="quickref-ec2.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="quickref-efs.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="JSON"><a class="pagetoc" href="#quickref-ecs-example-1.json">JSON</a></li>
                        <li class="pagetoc" name="YAML"><a class="pagetoc" href="#quickref-ecs-example-1.yaml">YAML</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='AWS CloudFormation';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='User Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>