<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>AWS::IAM::ManagedPolicy - AWS CloudFormation</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="aws-template-resource-type-ref.html" title="AWS Resource Types Reference">
      <link rel="prev" href="aws-resource-iam-instanceprofile.html" title="AWS::IAM::InstanceProfile">
      <link rel="next" href="aws-resource-iam-policy.html" title="AWS::IAM::Policy">
      <meta name="description" content="Use the AWS::IAM::ManagedPolicy resource to create AWS Identity and Access Management managed policies.">
      <meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation Designer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="AWS CloudFormation">
      <meta name="guide" content="User Guide">
      <meta name="guide-locale" content="en_us">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-iam-managedpolicy.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="http://aws.amazon.com/documentation">AWS Documentation</a> &#xBB; <a href="http://aws.amazon.com/documentation/cloudformation">AWS CloudFormation</a> &#xBB; <a href="index.html">User Guide</a> &#xBB; <a href="template-reference.html">Template Reference</a> &#xBB; <a href="aws-template-resource-type-ref.html">AWS Resource Types Reference</a> &#xBB; <span class="breadcrumb">AWS::IAM::ManagedPolicy</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div></div>
                     <div id="language-filter" class="page-header" style="display:none">
                        <form> Filter View: 
                           <select name="filter-select" id="filter-select">
                              <option selected="1">All</option>
                              <option value="JSON" selected>JSON</option>
                              <option value="YAML" selected>YAML</option></select></form>
                     </div>
                     <h1 class="topictitle" id="aws-resource-iam-managedpolicy">AWS::IAM::ManagedPolicy</h1>
                     <p><code class="code">AWS::IAM::ManagedPolicy</code> creates an AWS Identity and Access Management (IAM) managed policy for your
                        AWS account, which you can use to apply permissions to IAM users, groups, and roles.
                        For more
                        information about managed policies, see <a href="./IAM/latest/UserGuide/policies_managed-vs-inline.html" target="_blank">Managed Policies and Inline
                           Policies</a> in the <em>IAM User Guide</em> guide.
                     </p>
                     <div class="highlights" id="inline-topiclist">
                        <p><strong>Topics</strong></p>
                        <ul>
                           <li><a href="#aws-resource-iam-managedpolicy-syntax">Syntax</a></li>
                           <li><a href="#w2ab2c21c10d744b9">Properties</a></li>
                           <li><a href="#w2ab2c21c10d744c11">Return Values</a></li>
                           <li><a href="#w2ab2c21c10d744c13">Example</a></li>
                        </ul>
                     </div>
                     <h2 id="aws-resource-iam-managedpolicy-syntax">Syntax</h2>
                     
                     
                     <p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p>
                     
                     <div id="JSON" name="JSON" class="section langfilter">
                        <h3 id="aws-resource-iam-managedpolicy-syntax.json">JSON</h3>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">{
  &quot;Type&quot;: &quot;AWS::IAM::ManagedPolicy&quot;,
  &quot;Properties&quot;: {
    &quot;<a href="aws-resource-iam-managedpolicy.html#cfn-iam-managedpolicy-description"><code class="code">Description</code></a>&quot; : <em class="replaceable"><code>String</code></em>,
    &quot;<a href="aws-resource-iam-managedpolicy.html#cfn-iam-managedpolicy-groups"><code class="code">Groups</code></a>&quot; : [ <em class="replaceable"><code>String, ...</code></em> ],
    &quot;<a href="aws-resource-iam-managedpolicy.html#cfn-iam-managedpolicy-path"><code class="code">Path</code></a>&quot; : <em class="replaceable"><code>String</code></em>,
    &quot;<a href="aws-resource-iam-managedpolicy.html#cfn-iam-managedpolicy-policydocument"><code class="code">PolicyDocument</code></a>&quot; : <em class="replaceable"><code>JSON object</code></em>,
    &quot;<a href="aws-resource-iam-managedpolicy.html#cfn-iam-managedpolicy-roles"><code class="code">Roles</code></a>&quot; : [ <em class="replaceable"><code>String, ...</code></em> ],
    &quot;<a href="aws-resource-iam-managedpolicy.html#cfn-iam-managedpolicy-users"><code class="code">Users</code></a>&quot; : [ <em class="replaceable"><code>String, ...</code></em> ],
    &quot;<a href="aws-resource-iam-managedpolicy.html#cfn-iam-managedpolicy-managedpolicyname"><code class="code">ManagedPolicyName</code></a>&quot; : <em class="replaceable"><code>String</code></em>
  }
}</code></pre>
                        </div>
                     
                     <div id="YAML" name="YAML" class="section langfilter">
                        <h3 id="aws-resource-iam-managedpolicy-syntax.yaml">YAML</h3>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">Type: &quot;AWS::IAM::ManagedPolicy&quot;
Properties: 
  <a href="aws-resource-iam-managedpolicy.html#cfn-iam-managedpolicy-description"><code class="code">Description</code></a>: <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-iam-managedpolicy.html#cfn-iam-managedpolicy-groups"><code class="code">Groups</code></a>:
    - <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-iam-managedpolicy.html#cfn-iam-managedpolicy-path"><code class="code">Path</code></a>: <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-iam-managedpolicy.html#cfn-iam-managedpolicy-policydocument"><code class="code">PolicyDocument</code></a>: <em class="replaceable"><code>JSON object</code></em>
  <a href="aws-resource-iam-managedpolicy.html#cfn-iam-managedpolicy-roles"><code class="code">Roles</code></a>:
    - <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-iam-managedpolicy.html#cfn-iam-managedpolicy-users"><code class="code">Users</code></a>:
    - <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-iam-managedpolicy.html#cfn-iam-managedpolicy-managedpolicyname"><code class="code">ManagedPolicyName</code></a>: <em class="replaceable"><code>String</code></em>
</code></pre>
                        </div>
                     
                     <h2 id="w2ab2c21c10d744b9">Properties</h2>
                     
                     
                     <div class="variablelist">
                        
                        
                        
                        
                        
                        
                        
                        
                        <dl>
                           
                           <dt><a id="cfn-iam-managedpolicy-description"></a><span class="term"><code class="code">Description</code></span></dt>
                           
                           <dd>
                              
                              <p>A description of the IAM policy. For example, describe the permissions that
                                 are defined in the policy.
                              </p>
                              
                              <p><em>Required</em>: No
                              </p>
                              
                              <p><em>Type</em>: String
                              </p>
                              
                              <p><em>Update requires</em>: <a href="using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-iam-managedpolicy-groups"></a><span class="term"><code class="code">Groups</code></span></dt>
                           
                           <dd>
                              
                              <p>The names of IAM groups to attach to this policy.</p>
                              
                              <p><em>Required</em>: No
                              </p>
                              
                              <p><em>Type</em>: List of String values
                              </p>
                              
                              <p><em>Update requires</em>: <a href="using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-iam-managedpolicy-path"></a><span class="term"><code class="code">Path</code></span></dt>
                           
                           <dd>
                              
                              <p>The path for the IAM policy. By default, the path is <code class="code">/</code>. For more
                                 information, see <a href="./IAM/latest/UserGuide/Using_Identifiers.html" target="_blank">IAM
                                    Identifiers</a> in the <em>IAM User Guide</em>.
                              </p>
                              
                              <p><em>Required</em>: No
                              </p>
                              
                              <p><em>Type</em>: String
                              </p>
                              
                              <p><em>Update requires</em>: <a href="using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-iam-managedpolicy-policydocument"></a><span class="term"><code class="code">PolicyDocument</code></span></dt>
                           
                           <dd>
                              
                              <p>Policies that define the permissions for this managed policy. For more
                                 information about policy syntax, see <a href="./IAM/latest/UserGuide/reference_policies_elements.html" target="_blank">IAM Policy Elements Reference</a> in
                                 <em>IAM User Guide</em>.
                              </p>
                              
                              <p><em>Required</em>: Yes
                              </p>
                              
                              <p><em>Type</em>: JSON object
                              </p>
                              
                              <div class="aws-note">
                                 <p class="aws-note">Note</p>
                                 <p>AWS Identity and Access Management (IAM) requires that policies be in JSON format.
                                    However, for templates formatted in YAML, you can create an IAM policy in either JSON
                                    or YAML format. AWS CloudFormation always converts a policy to JSON format before
                                    submitting it to IAM.
                                 </p>
                              </div>
                              
                              
                              <p><em>Update requires</em>: <a href="using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-iam-managedpolicy-roles"></a><span class="term"><code class="code">Roles</code></span></dt>
                           
                           <dd>
                              
                              <p>The names of IAM roles to attach to this policy.</p>
                              
                              <div class="aws-note">
                                 <p class="aws-note">Note</p>
                                 <p>If a policy has a <code class="code">Ref</code> to a role and if a resource (such as
                                    <code class="code">AWS::ECS::Service</code>) also has a <code class="code">Ref</code> to the same
                                    role, add a <code class="code">DependsOn</code> attribute to the resource so that the
                                    resource depends on the policy. This dependency ensures that the role&apos;s policy
                                    is available throughout the resource&apos;s lifecycle. For example, when you delete
                                    a stack with an <code class="code">AWS::ECS::Service</code> resource, the
                                    <code class="code">DependsOn</code> attribute ensures that the
                                    <code class="code">AWS::ECS::Service</code> resource can complete its deletion before its
                                    role&apos;s policy is deleted.
                                 </p>
                              </div>
                              
                              <p><em>Required</em>: No
                              </p>
                              
                              <p><em>Type</em>: List of String values
                              </p>
                              
                              <p><em>Update requires</em>: <a href="using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-iam-managedpolicy-users"></a><span class="term"><code class="code">Users</code></span></dt>
                           
                           <dd>
                              
                              <p>The names of users to attach to this policy.</p>
                              
                              <p><em>Required</em>: No
                              </p>
                              
                              <p><em>Type</em>: List of String values
                              </p>
                              
                              <p><em>Update requires</em>: <a href="using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-iam-managedpolicy-managedpolicyname"></a><span class="term"><code class="code">ManagedPolicyName</code></span></dt>
                           
                           <dd>
                              
                              <p>A custom, friendly name for your IAM managed policy. For valid values, see the <a href="./IAM/latest/APIReference/API_CreatePolicy.html" target="_blank">PolicyName</a> parameter of the <code class="code">CreatePolicy</code> action in the <em>IAM API Reference</em>.
                              </p>
                              
                              <p>If you don&apos;t specify a <code class="code">PolicyName</code>, AWS CloudFormation generates a unique physical ID and uses that ID for the policy
                                 name. For more information, see <a href="aws-properties-name.html">Name Type</a>.
                              </p>
                              <div class="aws-note">
                                 <p class="aws-note">Important</p>
                                 <p>If you specify a name, you cannot perform updates that require replacement of this
                                    resource.
                                    You can perform updates that require no or some interruption. If you must replace
                                    the resource, specify a new name.
                                 </p>
                              </div>
                              
                              <p><em>Required</em>: No
                              </p>
                              
                              <p><em>Type</em>: String
                              </p>
                              
                              <p><em>Update requires</em>: <a href="using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                              
                           </dd>
                           
                        </dl>
                     </div>
                     
                     <h2 id="w2ab2c21c10d744c11">Return Values</h2>
                     
                     
                     <h3 id="w2ab2c21c10d744c11b2">Ref</h3>
                     
                     
                     <p>When the logical ID of this resource is provided to the <code class="code">Ref</code>
                        intrinsic function, <code class="code">Ref</code> returns the ARN.
                     </p>
                     
                     <p>In the following sample, the <code class="code">Ref</code> function returns the ARN of the
                        <code class="code">CreateTestDBPolicy</code> managed policy, such as
                        <code class="code">arn:aws:iam::123456789012:policy/teststack-CreateTestDBPolicy-16M23YE3CS700</code>.
                     </p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">{ &quot;Ref&quot;: &quot;CreateTestDBPolicy&quot; }</code></pre>
                     <p>For more information about using the <code class="code">Ref</code> function, see <a href="intrinsic-function-reference-ref.html">Ref</a>.
                     </p>
                     
                     
                     <h2 id="w2ab2c21c10d744c13">Example</h2>
                     
                     
                     <p>The following example creates a managed policy and associates it with the
                        <code class="code">TestDBGroup</code> group. The managed policy grants users permission to create
                        t2.micro database instances. The database must use the MySQL database engine and the
                        instance
                        name must include the prefix <code class="code">test</code>.
                     </p>
                     
                     <div id="JSON" name="JSON" class="section langfilter">
                        <h3 id="aws-resource-iam-managedpolicy-example.json">JSON</h3>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">&quot;CreateTestDBPolicy&quot; : {
  &quot;Type&quot; : &quot;AWS::IAM::ManagedPolicy&quot;,
  &quot;Properties&quot; : {
    &quot;Description&quot; : &quot;Policy for creating a test database&quot;,
    &quot;Path&quot; : &quot;/&quot;,
    &quot;PolicyDocument&quot; :   {
      &quot;Version&quot;:&quot;2012-10-17&quot;, 
      &quot;Statement&quot; : [{
        &quot;Effect&quot; : &quot;Allow&quot;,           
        &quot;Action&quot; : &quot;rds:CreateDBInstance&quot;,
        &quot;Resource&quot; : {&quot;Fn::Join&quot; : [ &quot;&quot;, [ &quot;arn:aws:rds:&quot;, { &quot;Ref&quot; : &quot;AWS::Region&quot; }, &quot;:&quot;, { &quot;Ref&quot; : &quot;AWS::AccountId&quot; }, &quot;:db:test*&quot; ] ]}, 
        &quot;Condition&quot; : {
          &quot;StringEquals&quot; : { &quot;rds:DatabaseEngine&quot; : &quot;mysql&quot; }
        }
      },
      {
        &quot;Effect&quot; : &quot;Allow&quot;,           
        &quot;Action&quot; : &quot;rds:CreateDBInstance&quot;,
        &quot;Resource&quot; : {&quot;Fn::Join&quot; : [ &quot;&quot;, [ &quot;arn:aws:rds:&quot;, { &quot;Ref&quot; : &quot;AWS::Region&quot; }, &quot;:&quot;, { &quot;Ref&quot; : &quot;AWS::Region&quot; }, &quot;:db:test*&quot; ] ]}, 
        &quot;Condition&quot; : {
          &quot;StringEquals&quot; : { &quot;rds:DatabaseClass&quot; : &quot;db.t2.micro&quot; }
        }
      }]
    },
    &quot;Groups&quot; : [&quot;TestDBGroup&quot;]
  }
}</code></pre>
                        </div>
                     
                     <div id="YAML" name="YAML" class="section langfilter">
                        <h3 id="aws-resource-iam-managedpolicy-example.yaml">YAML</h3>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="yaml ">CreateTestDBPolicy: 
  Type: &quot;AWS::IAM::ManagedPolicy&quot;
  Properties: 
    Description: &quot;Policy for creating a test database&quot;
    Path: &quot;/&quot;
    PolicyDocument: 
      Version: &quot;2012-10-17&quot;
      Statement: 
        - 
          Effect: &quot;Allow&quot;
          Action: &quot;rds:CreateDBInstance&quot;
          Resource: 
            Fn::Join: 
              - &quot;&quot;
              - 
                - &quot;arn:aws:rds:&quot;
                - 
                  Ref: &quot;AWS::Region&quot;
                - &quot;:&quot;
                - 
                  Ref: &quot;AWS::AccountId&quot;
                - &quot;:db:test*&quot;
          Condition: 
            StringEquals: 
              rds:DatabaseEngine: &quot;mysql&quot;
        - 
          Effect: &quot;Allow&quot;
          Action: &quot;rds:CreateDBInstance&quot;
          Resource: 
            Fn::Join: 
              - &quot;&quot;
              - 
                - &quot;arn:aws:rds:&quot;
                - 
                  Ref: &quot;AWS::Region&quot;
                - &quot;:&quot;
                - 
                  Ref: &quot;AWS::Region&quot;
                - &quot;:db:test*&quot;
          Condition: 
            StringEquals: 
              rds:DatabaseClass: &quot;db.t2.micro&quot;
    Groups: 
      - &quot;TestDBGroup&quot;</code></pre>
                        </div>
                     
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="aws-resource-iam-instanceprofile.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="aws-resource-iam-policy.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Syntax"><a class="pagetoc" href="#aws-resource-iam-managedpolicy-syntax">Syntax</a></li>
                        <li class="pagetoc" name="Properties"><a class="pagetoc" href="#w2ab2c21c10d744b9">Properties</a></li>
                        <li class="pagetoc" name="Return Values"><a class="pagetoc" href="#w2ab2c21c10d744c11">Return Values</a></li>
                        <li class="pagetoc" name="Example"><a class="pagetoc" href="#w2ab2c21c10d744c13">Example</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='AWS CloudFormation';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='User Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>