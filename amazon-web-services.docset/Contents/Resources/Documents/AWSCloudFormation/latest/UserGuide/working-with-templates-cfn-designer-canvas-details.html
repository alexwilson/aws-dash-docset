<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Canvas Pane - AWS CloudFormation</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="working-with-templates-cfn-designer-overview.html" title="AWS CloudFormation Designer Interface
      Overview">
      <link rel="prev" href="working-with-templates-cfn-designer-overview.html" title="AWS CloudFormation Designer Interface
      Overview">
      <link rel="next" href="working-with-templates-cfn-designer-json-editor.html" title="Integrated JSON and YAML Editor">
      <meta name="description" content="Learn about the canvas pane of the AWS CloudFormation Designer.">
      <meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation Designer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="AWS CloudFormation">
      <meta name="guide" content="User Guide">
      <meta name="guide-locale" content="en_us">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/working-with-templates-cfn-designer-canvas-details.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="http://aws.amazon.com/documentation">AWS Documentation</a> &#xBB; <a href="http://aws.amazon.com/documentation/cloudformation">AWS CloudFormation</a> &#xBB; <a href="index.html">User Guide</a> &#xBB; <a href="template-guide.html">Working with AWS CloudFormation Templates</a> &#xBB; <a href="working-with-templates-cfn-designer.html">What Is AWS CloudFormation Designer?</a> &#xBB; <a href="working-with-templates-cfn-designer-overview.html">AWS CloudFormation Designer Interface
                                    Overview</a> &#xBB; <span class="breadcrumb">Canvas Pane</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div></div>
                     <h1 class="topictitle" id="working-with-templates-cfn-designer-canvas-details">Canvas Pane</h1>
                     <p>Designer displays your template resources as a diagram in the
                        <b>canvas</b> pane. You can modify the diagram&apos;s layout, add or remove
                        resources, and add or remove connections between resources in this pane. For example,
                        you
                        can add an Auto Scaling group and a launch configuration from the <b>Resource
                           types</b> pane to the <b>canvas</b> pane. To connect these related
                        resources, you simply drag a connection between them.
                     </p>
                     <h2 id="w2ab2c17c18c13c15b5">How Does Designer Model Resources?</h2>
                     
                     
                     <p>When you drag a resource from the <b>Resource types</b> pane to the
                        <b>canvas</b> pane, Designer models it as a container or as a
                        square object.
                     </p>
                     
                     <div class="variablelist">
                        
                        
                        
                        <dl>
                           
                           <dt><span class="term">Containers</span></dt>
                           
                           <dd>
                              
                              <p>Container resources are resizable rectangles that can contain other resources.
                                 For example, Designer models the <code class="code">AWS::EC2::VPC</code> resource type as
                                 a container. You can drag resources, such as a subnet, into the VPC.
                              </p>
                              
                              <p><b>Container resource</b></p>
                              
                              <div class="mediaobject">
                                 
                                 <img src="../../..//img/designer-canvas-container.png" alt="
                    Example of a container resource.
                  ">
                                 
                                 
                                 
                              </div>              
                              
                           </dd>
                           
                           
                           <dt><span class="term">Square objects</span></dt>
                           
                           <dd>
                              
                              <p>Square objects resources can&apos;t be resized or contain other resources. For
                                 example, Designer models the <code class="code">AWS::EC2::Instance</code> resource type as
                                 a square object.
                              </p>
                              
                              <p><b>Square object</b></p>
                              
                              <div class="mediaobject">
                                 
                                 <img src="../../..//img/designer-canvas-square.png" alt="
                    Example of a square object.
                  ">
                                 
                                 
                                 
                              </div>
                              
                           </dd>
                           
                        </dl>
                     </div>
                     
                     <h2 id="w2ab2c17c18c13c15b7">Connecting Resources</h2>
                     
                     
                     <p>You connect resources to create associations between related resources. For example,
                        when you add an Internet gateway and a VPC to the <b>canvas</b> pane, they
                        have no relationship. To attach the gateway to the VPC, you must connect them. The
                        method
                        for connecting resources depends on the resource type and how Designer models the
                        resource. The following descriptions and figures explain each method.
                     </p>
                     
                     <div class="variablelist">
                        
                        
                        
                        
                        <dl>
                           
                           <dt><span class="term">Adding resources to containers</span></dt>
                           
                           <dd>
                              
                              <p>When you drag valid resource into containers, Designer automatically
                                 creates associations between the resource and the container. For example, VPCs are
                                 container resources; you can drag a subnet into a VPC, and Designer
                                 automatically associates the two resources.
                              </p>
                              
                              <div class="mediaobject">
                                 
                                 <img src="../../..//img/designer-canvas-subnetinvpc.png" alt="
                  A subnet resource inside a VPC container.
                ">
                                 
                                 
                                 
                              </div>
                              
                              <p>These associations are represented in your template as a <code class="code">Ref</code>
                                 intrinsic function, as shown in the following
                                 example: 
                              </p>
                              
                              <p>JSON</p>
                              <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">&quot;PublicSubnet&quot;: {
  &quot;Type&quot;: &quot;AWS::EC2::Subnet&quot;,
  &quot;Properties&quot;: {
      &quot;VpcId&quot;: {
          &quot;Ref&quot;: &quot;VPC&quot;
      },
      &quot;CidrBlock&quot;: &quot;10.0.0.0/24&quot;
  }</code></pre>
                              <p>YAML</p>
                              <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">PublicSubnet:
  Type: &apos;AWS::EC2::Subnet&apos;
  Properties:
    VpcId: !Ref VPC
    CidrBlock: 10.0.0.0/24</code></pre>
                              <p>In some cases, dropping a resource into a container doesn&apos;t create an
                                 association; you must drag a connection between the resources (see the next method
                                 for information about dragging connections between resources). To see if
                                 Designer associates resources, use the integrated JSON and YAML editor to look for
                                 a
                                 <code class="code">Ref</code> from one resource to the other. For example, when you add an Auto Scaling
                                 group in a subnet container, Designer doesn&apos;t specify the group&apos;s
                                 <code class="code">VPCZoneIdentifier</code> (subnet) property. To associate the two resources,
                                 you must drag a connection from the Auto Scaling group to the subnet.
                              </p>
                              
                           </dd>
                           
                           
                           <dt><span class="term">Dragging connections between resources</span></dt>
                           
                           <dd>
                              
                              <p>The edge of each square and container resource has one or more dots, which
                                 represent the resources that you can create connections with. To create a
                                 connection, drag a connector line from the dot to the corresponding resource type.
                                 For example, to attach an Internet gateway to a VPC, drag a line from the VPC
                                 gateway attachment dot to anywhere on the VPC.
                              </p>
                              
                              <div class="mediaobject">
                                 
                                 <img src="../../..//img/designer-canvas-vpcgateway.png" alt="
                  Dragging a connector line to create a connection (shown as an arrow).
                ">
                                 
                                 
                                 
                              </div>
                              
                              <p>These associations are represented in your template as a <code class="code">Ref</code>
                                 intrinsic function or as a separate resource type. For example, when you connect an
                                 Internet gateway with a VPC, Designer creates an
                                 <code class="code">AWS::EC2::VPCGatewayAttachment</code> resource type in your template to
                                 associate them. Resources like these are not listed in the <b>Resource
                                    types</b>
                                 pane.
                              </p>
                              
                              <p>JSON</p>
                              <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">&quot;VPCGatewayAttachment&quot;: {
  &quot;Type&quot;: &quot;AWS::EC2::VPCGatewayAttachment&quot;,
  &quot;Properties&quot;: {
      &quot;InternetGatewayId&quot;: {
          &quot;Ref&quot;: &quot;InternetGateway&quot;
      },
      &quot;VpcId&quot;: {
          &quot;Ref&quot;: &quot;VPC&quot;
      }
  }</code></pre>
                              <p>YAML</p>
                              <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">VPCGatewayAttachment:
  Type: &apos;AWS::EC2::VPCGatewayAttachment&apos;
  Properties:
    InternetGatewayId: !Ref InternetGateway
    VpcId: !Ref VPC</code></pre>
                              </dd>
                           
                           
                           <dt><span class="term">Coding connections between resources</span></dt>
                           
                           <dd>
                              
                              <p>In some cases, you must edit the template&apos;s JSON or YAML to create connections,
                                 such as when you connect two security groups. When you must edit the JSON or YAML
                                 to
                                 create connections, you create hard-coded connections (dashed-line connections). You
                                 cannot create or edit these connections in the <b>canvas</b>
                                 pane.
                              </p>
                              
                              <div class="mediaobject">
                                 
                                 <img src="../../..//img/designer-canvas-hardcodedconnection.png" alt="
                  Two resources connected with a dashed-line connection.
                ">
                                 
                                 
                                 
                              </div>
                              
                              <p>Typically, when you embed references (<code class="code">Ref</code>) within a resource&apos;s
                                 property, you create hard-coded connections. For example, you can define a
                                 connection between two security groups where one security group has an embedded
                                 ingress rule that permits traffic from the other. The following
                                 <code class="code">WebServerSecurityGroup</code> resource has an ingress rule with a reference
                                 to the <code class="code">PublicLoadBalancerSecurityGroup</code>
                                 resource.
                              </p>
                              
                              <p>JSON</p>
                              <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">&quot;WebServerSecurityGroup&quot;: {
  &quot;Type&quot;: &quot;AWS::EC2::SecurityGroup&quot;,
  &quot;Properties&quot;: {
      &quot;VpcId&quot;: {
          &quot;Ref&quot;: &quot;VPC&quot;
      },
      &quot;GroupDescription&quot;: &quot;Allow access from HTTP and SSH traffic&quot;,
      &quot;SecurityGroupIngress&quot;: [
          {
              &quot;IpProtocol&quot;: &quot;tcp&quot;,
              &quot;FromPort&quot;: &quot;80&quot;,
              &quot;ToPort&quot;: &quot;80&quot;,
              &quot;CidrIp&quot;: &quot;0.0.0.0/0&quot;
          },
          {
              &quot;IpProtocol&quot;: &quot;tcp&quot;,
              &quot;FromPort&quot;: &quot;22&quot;,
              &quot;ToPort&quot;: &quot;22&quot;,
              &quot;CidrIp&quot;: {
                  &quot;Ref&quot;: &quot;SSHLocation&quot;
              }
          }
      ]
  }
...</code></pre>
                              <p>YAML</p>
                              <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">WebServerSecurityGroup:
  Type: &apos;AWS::EC2::SecurityGroup&apos;
  Properties:
    VpcId: !Ref VPC
    GroupDescription: Allow access from HTTP and SSH traffic
    SecurityGroupIngress:
      - IpProtocol: tcp
        FromPort: &apos;80&apos;
        ToPort: &apos;80&apos;
        CidrIp: 0.0.0.0/0
      - IpProtocol: tcp
        FromPort: &apos;22&apos;
        ToPort: &apos;22&apos;
        CidrIp: !Ref SSHLocation</code></pre>
                              </dd>
                           
                        </dl>
                     </div>
                     
                     <h2 id="w2ab2c17c18c13c15b9">Accessing Common Resource Actions with the Resource Menu</h2>
                     
                     
                     <p>The <b>Resource</b> menu provides easy access to common resource
                        actions: editing resource properties, duplicating a resource, deleting a resource,
                        or
                        viewing the documentation for the resource. To view the <b>Resource</b>
                        menu, right-click on a resource in the <b>canvas</b> pane. The documentation
                        link goes to the <a href="aws-template-resource-type-ref.html">template reference</a>,
                        which describes the properties and syntax for that resource.
                     </p>
                     
                     <p><b>Resource menu</b></p>
                     
                     <div class="mediaobject">
                        
                        <img src="../../..//img/designer-canvas-resourcemenu.png" alt="
              The resource menu with its four buttons.
            ">
                        
                        
                        
                     </div>
                     
                     <h2 id="w2ab2c17c18c13c15c11">Defining Explicit Dependencies</h2>
                     
                     
                     <p>To specify the order in which AWS CloudFormation creates and deletes resources, you
                        can create
                        explicit dependencies. Explicit dependencies are useful for overriding parallel resource
                        creation and deletion. AWS CloudFormation automatically determines which resources
                        in a template can be
                        processed in parallel and which cannot. When you specify a property that references
                        an
                        attribute from another source (using the <code class="code">Ref</code> intrinsic function) or gets an
                        attribute from another resource (with the <code class="code">Fn::GetAtt</code> intrinsic function) in
                        the same template, this implies a dependency and AWS CloudFormation builds them in
                        the correct
                        order.
                     </p>
                     
                     <p>However, in some cases, you must explicitly define dependencies. For example, a
                        routing rule cannot use an Internet gateway until the gateway has been attached to
                        the
                        VPC. Normally, AWS CloudFormation creates the routing rule immediately after it creates
                        the Internet
                        gateway due to an implicit dependency. But, AWS CloudFormation might create the rule
                        before the
                        Internet gateway has attached to the VPC, which causes an error. Therefore, you must
                        explicitly define a dependency on the gateway-VPC attachment.
                     </p>
                     
                     <p>To create an explicit dependency, drag a line from the <code class="code">DependsOn</code>
                        (<b>*</b>) dot on the route to the gateway-VPC attachment.
                     </p>
                     
                     <div class="mediaobject">
                        
                        <img src="../../..//img/designer-canvas-routedependsonattachment.png" alt="
            Dragging the DependsOn dot to create a dependency.
          ">
                        
                        
                        
                     </div>
                     
                     <p>For more information about when you might need to create an explicit dependency, see
                        <a href="aws-attribute-dependson.html">DependsOn Attribute</a>.
                     </p>
                     
                     
                     <h3 id="working-with-templates-cfn-designer-dependson.json">JSON</h3>
                     
                     
                     <p>In JSON, these explicit dependencies are represented as a <code class="code">DependsOn</code>
                        attribute on a resource, as shown in the following
                        example:
                     </p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">&quot;PublicRoute&quot;: {
  &quot;Type&quot;: &quot;AWS::EC2::Route&quot;,
  &quot;DependsOn&quot;: &quot;VPCGatewayAttachment&quot;,
  &quot;Properties&quot;: {
      &quot;DestinationCidrBlock&quot;: &quot;0.0.0.0/0&quot;,
      &quot;RouteTableId&quot;: {
          &quot;Ref&quot;: &quot;PublicRouteTable&quot;
      },
      &quot;GatewayId&quot;: {
          &quot;Ref&quot;: &quot;InternetGateway&quot;
      }
  }</code></pre>
                     
                     <h3 id="working-with-templates-cfn-designer-dependson.yaml">YAML</h3>
                     
                     
                     <p>In YAML, these explicit dependencies are represented as a <code class="code">DependsOn</code>
                        attribute on a resource, as shown in the following
                        example:
                     </p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">PublicRoute:
  Type: &apos;AWS::EC2::Route&apos;
  DependsOn:
    - VPCGatewayAttachment
  Properties:
    DestinationCidrBlock: 0.0.0.0/0
    RouteTableId: !Ref PublicRouteTable
    GatewayId: !Ref InternetGateway</code></pre>
                     
                     
                     </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="working-with-templates-cfn-designer-overview.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="working-with-templates-cfn-designer-json-editor.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="How Does Designer Model Resources?"><a class="pagetoc" href="#w2ab2c17c18c13c15b5">How Does Designer Model Resources?</a></li>
                        <li class="pagetoc" name="Connecting Resources"><a class="pagetoc" href="#w2ab2c17c18c13c15b7">Connecting Resources</a></li>
                        <li class="pagetoc" name="Accessing Common Resource Actions with the Resource Menu"><a class="pagetoc" href="#w2ab2c17c18c13c15b9">Accessing Common Resource Actions with the Resource Menu</a></li>
                        <li class="pagetoc" name="Defining Explicit Dependencies"><a class="pagetoc" href="#w2ab2c17c18c13c15c11">Defining Explicit Dependencies</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='AWS CloudFormation';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='User Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>