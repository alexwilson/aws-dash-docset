<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>AWS::CloudTrail::Trail - AWS CloudFormation</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="aws-template-resource-type-ref.html" title="AWS Resource Types Reference">
      <link rel="prev" href="aws-resource-cloudfront-streamingdistribution.html" title="AWS::CloudFront::StreamingDistribution">
      <link rel="next" href="aws-properties-cw-alarm.html" title="AWS::CloudWatch::Alarm">
      <meta name="description" content="In AWS CloudFormation, create a CloudTrail trail that captures AWS API calls made by your AWS account.">
      <meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation Designer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="AWS CloudFormation">
      <meta name="guide" content="User Guide">
      <meta name="guide-locale" content="en_us">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-cloudtrail-trail.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="http://aws.amazon.com/documentation">AWS Documentation</a> &#xBB; <a href="http://aws.amazon.com/documentation/cloudformation">AWS CloudFormation</a> &#xBB; <a href="index.html">User Guide</a> &#xBB; <a href="template-reference.html">Template Reference</a> &#xBB; <a href="aws-template-resource-type-ref.html">AWS Resource Types Reference</a> &#xBB; <span class="breadcrumb">AWS::CloudTrail::Trail</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div></div>
                     <div id="language-filter" class="page-header" style="display:none">
                        <form> Filter View: 
                           <select name="filter-select" id="filter-select">
                              <option selected="1">All</option>
                              <option value="JSON" selected>JSON</option>
                              <option value="YAML" selected>YAML</option></select></form>
                     </div>
                     <h1 class="topictitle" id="aws-resource-cloudtrail-trail">AWS::CloudTrail::Trail</h1>
                     <p>Use the <code class="code">AWS::CloudTrail::Trail</code> resource to create a trail and specify where
                        logs are published. An AWS CloudTrail (CloudTrail) trail can capture AWS API calls
                        made by your AWS account
                        and publish the logs to an Amazon S3 bucket. For more information, see <a href="./awscloudtrail/latest/userguide/cloudtrail-user-guide.html" target="_blank">What is AWS CloudTrail?</a> in the
                        <em>AWS CloudTrail User Guide</em>.
                     </p>
                     <div class="highlights" id="inline-topiclist">
                        <p><strong>Topics</strong></p>
                        <ul>
                           <li><a href="#aws-resource-cloudtrail-trail-syntax">Syntax</a></li>
                           <li><a href="#w2ab2c21c10d219b9">Properties</a></li>
                           <li><a href="#w2ab2c21c10d219c11">Return Values</a></li>
                           <li><a href="#aws-resource-cloudtrail-trail-examples">Example</a></li>
                        </ul>
                     </div>
                     <h2 id="aws-resource-cloudtrail-trail-syntax">Syntax</h2>
                     
                     
                     <p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p>
                     
                     <div id="JSON" name="JSON" class="section langfilter">
                        <h3 id="aws-resource-cloudtrail-trail-syntax.json">JSON</h3>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">{
  &quot;Type&quot; : &quot;AWS::CloudTrail::Trail&quot;,
  &quot;Properties&quot; : {
    &quot;<a href="aws-resource-cloudtrail-trail.html#cfn-cloudtrail-trail-cloudwatchlogsloggrouparn"><code class="code">CloudWatchLogsLogGroupArn</code></a>&quot; : <em class="replaceable"><code>String</code></em>,
    &quot;<a href="aws-resource-cloudtrail-trail.html#cfn-cloudtrail-trail-cloudwatchlogsrolearn"><code class="code">CloudWatchLogsRoleArn</code></a>&quot; : <em class="replaceable"><code>String</code></em>,
    &quot;<a href="aws-resource-cloudtrail-trail.html#cfn-cloudtrail-trail-enablelogfilevalidation"><code class="code">EnableLogFileValidation</code></a>&quot; : <em class="replaceable"><code>Boolean</code></em>,
    &quot;<a href="aws-resource-cloudtrail-trail.html#cfn-cloudtrail-trail-eventselectors"><code class="code">EventSelectors</code></a>&quot; : [ <a href="aws-properties-cloudtrail-trail-eventselector.html"><em class="replaceable"><code>EventSelector</code></em></a>, ... ],
    &quot;<a href="aws-resource-cloudtrail-trail.html#cfn-cloudtrail-trail-includeglobalserviceevents"><code class="code">IncludeGlobalServiceEvents</code></a>&quot; : <em class="replaceable"><code>Boolean</code></em>,
    &quot;<a href="aws-resource-cloudtrail-trail.html#cfn-cloudtrail-trail-islogging"><code class="code">IsLogging</code></a>&quot; : <em class="replaceable"><code>Boolean</code></em>,
    &quot;<a href="aws-resource-cloudtrail-trail.html#cfn-cloudtrail-trail-ismultiregiontrail"><code class="code">IsMultiRegionTrail</code></a>&quot; : <em class="replaceable"><code>Boolean</code></em>,
    &quot;<a href="aws-resource-cloudtrail-trail.html#cfn-cloudtrail-trail-kmskeyid"><code class="code">KMSKeyId</code></a>&quot; : <em class="replaceable"><code>String</code></em>,
    &quot;<a href="aws-resource-cloudtrail-trail.html#cfn-cloudtrail-trail-s3bucketname"><code class="code">S3BucketName</code></a>&quot; : <em class="replaceable"><code>String</code></em>,
    &quot;<a href="aws-resource-cloudtrail-trail.html#cfn-cloudtrail-trail-s3keyprefix"><code class="code">S3KeyPrefix</code></a>&quot; : <em class="replaceable"><code>String</code></em>,
    &quot;<a href="aws-resource-cloudtrail-trail.html#cfn-cloudtrail-trail-snstopicname"><code class="code">SnsTopicName</code></a>&quot; : <em class="replaceable"><code>String</code></em>,
    &quot;<a href="aws-resource-cloudtrail-trail.html#cfn-cloudtrail-trail-tags"><code class="code">Tags</code></a>&quot; : [ <a href="aws-properties-resource-tags.html"><em class="replaceable"><code>Resource Tag</code></em></a>, ... ],
    &quot;<a href="aws-resource-cloudtrail-trail.html#cfn-cloudtrail-trail-trailname"><code class="code">TrailName</code></a>&quot; : <em class="replaceable"><code>String</code></em>
  }
}</code></pre>
                        </div>
                     
                     <div id="YAML" name="YAML" class="section langfilter">
                        <h3 id="aws-resource-cloudtrail-trail-syntax.yaml">YAML</h3>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">Type: &quot;AWS::CloudTrail::Trail&quot;
Properties:
  <a href="aws-resource-cloudtrail-trail.html#cfn-cloudtrail-trail-cloudwatchlogsloggrouparn"><code class="code">CloudWatchLogsLogGroupArn</code></a>: <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-cloudtrail-trail.html#cfn-cloudtrail-trail-cloudwatchlogsrolearn"><code class="code">CloudWatchLogsRoleArn</code></a>: <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-cloudtrail-trail.html#cfn-cloudtrail-trail-enablelogfilevalidation"><code class="code">EnableLogFileValidation</code></a>: <em class="replaceable"><code>Boolean</code></em>
  <a href="aws-resource-cloudtrail-trail.html#cfn-cloudtrail-trail-eventselectors"><code class="code">EventSelectors</code></a>:
    - <a href="aws-properties-cloudtrail-trail-eventselector.html"><em class="replaceable"><code>EventSelector</code></em></a>
  <a href="aws-resource-cloudtrail-trail.html#cfn-cloudtrail-trail-includeglobalserviceevents"><code class="code">IncludeGlobalServiceEvents</code></a>: <em class="replaceable"><code>Boolean</code></em>
  <a href="aws-resource-cloudtrail-trail.html#cfn-cloudtrail-trail-islogging"><code class="code">IsLogging</code></a>: <em class="replaceable"><code>Boolean</code></em>
  <a href="aws-resource-cloudtrail-trail.html#cfn-cloudtrail-trail-ismultiregiontrail"><code class="code">IsMultiRegionTrail</code></a>: <em class="replaceable"><code>Boolean</code></em>
  <a href="aws-resource-cloudtrail-trail.html#cfn-cloudtrail-trail-kmskeyid"><code class="code">KMSKeyId</code></a>: <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-cloudtrail-trail.html#cfn-cloudtrail-trail-s3bucketname"><code class="code">S3BucketName</code></a>: <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-cloudtrail-trail.html#cfn-cloudtrail-trail-s3keyprefix"><code class="code">S3KeyPrefix</code></a>: <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-cloudtrail-trail.html#cfn-cloudtrail-trail-snstopicname"><code class="code">SnsTopicName</code></a>: <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-cloudtrail-trail.html#cfn-cloudtrail-trail-tags"><code class="code">Tags</code></a>:
    - <a href="aws-properties-resource-tags.html"><em class="replaceable"><code>Resource Tag</code></em></a>
  <a href="aws-resource-cloudtrail-trail.html#cfn-cloudtrail-trail-trailname"><code class="code">TrailName</code></a>: <em class="replaceable"><code>String</code></em>
      </code></pre>
                        </div>
                     
                     <h2 id="w2ab2c21c10d219b9">Properties</h2>
                     
                     
                     <p>For more information and property constraints, see <a href="./awscloudtrail/latest/APIReference/ API_CreateTrail.html" target="_blank">CreateTrail</a> in the
                        <em>AWS CloudTrail API Reference</em>.
                     </p>
                     
                     <div class="variablelist">
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <dl>
                           
                           <dt><a id="cfn-cloudtrail-trail-cloudwatchlogsloggrouparn"></a><span class="term"><code class="code">CloudWatchLogsLogGroupArn</code></span></dt>
                           
                           <dd>
                              
                              <p>The Amazon Resource Name (ARN) of a log group to which CloudTrail logs will be
                                 delivered.
                              </p>
                              
                              <p><em>Required</em>: Conditional. This property is required if you specify the
                                 <code class="code">CloudWatchLogsRoleArn</code> property.
                              </p>
                              
                              <p><em>Type</em>: String
                              </p>
                              
                              <p><em>Update requires</em>: <a href="using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-cloudtrail-trail-cloudwatchlogsrolearn"></a><span class="term"><code class="code">CloudWatchLogsRoleArn</code></span></dt>
                           
                           <dd>
                              
                              <p>The role ARN that Amazon CloudWatch Logs (CloudWatch Logs) assumes to write logs to
                                 a log group. For more information,
                                 see <a href="./awscloudtrail/latest/userguide/cloudtrail-required-policy-for-cloudwatch-logs.html" target="_blank">Role
                                    Policy Document for CloudTrail to Use CloudWatch Logs for Monitoring</a> in the
                                 <em>AWS CloudTrail User Guide</em>.
                              </p>
                              
                              <p><em>Required</em>: No
                              </p>
                              
                              <p><em>Type</em>: String
                              </p>
                              
                              <p><em>Update requires</em>: <a href="using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-cloudtrail-trail-enablelogfilevalidation"></a><span class="term"><code class="code">EnableLogFileValidation</code></span></dt>
                           
                           <dd>
                              
                              <p>Indicates whether CloudTrail validates the integrity of log files. By default, AWS
                                 CloudFormation sets
                                 this value to <code class="code">false</code>. When you disable log file integrity validation, CloudTrail
                                 stops creating digest files. For more information, see <a href="./awscloudtrail/latest/APIReference/API_CreateTrail.html" target="_blank">CreateTrail</a> in the
                                 <em>AWS CloudTrail API Reference</em>.
                              </p>
                              
                              <p><em>Required</em>: No
                              </p>
                              
                              <p><em>Type</em>: Boolean
                              </p>
                              
                              <p><em>Update requires</em>: <a href="using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-cloudtrail-trail-eventselectors"></a><span class="term"><code class="code">EventSelectors</code></span></dt>
                           
                           <dd>
                              
                              <p>Configures logging for management and data events.</p>
                              
                              <p><em>Required</em>: No
                              </p>
                              
                              <p><em>Type</em>: List of <a href="aws-properties-cloudtrail-trail-eventselector.html">CloudTrail Trail EventSelector</a></p>
                              
                              <p><em>Update requires</em>: <a href="using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-cloudtrail-trail-includeglobalserviceevents"></a><span class="term"><code class="code">IncludeGlobalServiceEvents</code></span></dt>
                           
                           <dd>
                              
                              <p>Indicates whether the trail is publishing events from global services, such as
                                 IAM, to the log files. By default, AWS CloudFormation sets this value to <code class="code">false</code>.
                              </p>
                              
                              <p><em>Required</em>: No
                              </p>
                              
                              <p><em>Type</em>: Boolean
                              </p>
                              
                              <p><em>Update requires</em>: <a href="using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-cloudtrail-trail-islogging"></a><span class="term"><code class="code">IsLogging</code></span></dt>
                           
                           <dd>
                              
                              <p>Indicates whether the CloudTrail trail is currently logging AWS API calls.</p>
                              
                              <p><em>Required</em>: Yes
                              </p>
                              
                              <p><em>Type</em>: Boolean
                              </p>
                              
                              <p><em>Update requires</em>: <a href="using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-cloudtrail-trail-ismultiregiontrail"></a><span class="term"><code class="code">IsMultiRegionTrail</code></span></dt>
                           
                           <dd>
                              
                              <p>Indicates whether the CloudTrail trail is created in the region in which you create
                                 the
                                 stack (<code class="code">false</code>) or in all regions (<code class="code">true</code>). By default, AWS CloudFormation sets
                                 this value to <code class="code">false</code>. For more information, see <a href="./awscloudtrail/latest/userguide/cloudtrail-concepts.html#cloudtrail-concepts-regional-and-global-services" target="_blank">How Does CloudTrail Behave Regionally and Globally?</a> in the
                                 <em>AWS CloudTrail User Guide</em>.
                              </p>
                              
                              <p><em>Required</em>: No
                              </p>
                              
                              <p><em>Type</em>: Boolean
                              </p>
                              
                              <p><em>Update requires</em>: <a href="using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-cloudtrail-trail-kmskeyid"></a><span class="term"><code class="code">KMSKeyId</code></span></dt>
                           
                           <dd>
                              
                              <p>The AWS Key Management Service (AWS KMS) key ID that you want to use to encrypt CloudTrail
                                 logs. You can
                                 specify an alias name (prefixed with <code class="code">alias/</code>), an alias ARN, a key ARN, or a
                                 globally unique identifier.
                              </p>
                              
                              <p><em>Required</em>: No
                              </p>
                              
                              <p><em>Type</em>: String
                              </p>
                              
                              <p><em>Update requires</em>: <a href="using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-cloudtrail-trail-s3bucketname"></a><span class="term"><code class="code">S3BucketName</code></span></dt>
                           
                           <dd>
                              
                              <p>The name of the Amazon S3 bucket where CloudTrail publishes log files.</p>
                              
                              <p><em>Required</em>: Yes
                              </p>
                              
                              <p><em>Type</em>: String
                              </p>
                              
                              <p><em>Update requires</em>: <a href="using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-cloudtrail-trail-s3keyprefix"></a><span class="term"><code class="code">S3KeyPrefix</code></span></dt>
                           
                           <dd>
                              
                              <p>An Amazon S3 object key prefix that precedes the name of all log files.</p>
                              
                              <p><em>Required</em>: No
                              </p>
                              
                              <p><em>Type</em>: String
                              </p>
                              
                              <p><em>Update requires</em>: <a href="using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-cloudtrail-trail-snstopicname"></a><span class="term"><code class="code">SnsTopicName</code></span></dt>
                           
                           <dd>
                              
                              <p>The name of an Amazon SNS topic that is notified when new log files are
                                 published.
                              </p>
                              
                              <p><em>Required</em>: No
                              </p>
                              
                              <p><em>Type</em>: String
                              </p>
                              
                              <p><em>Update requires</em>: <a href="using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-cloudtrail-trail-tags"></a><span class="term"><code class="code">Tags</code></span></dt>
                           
                           <dd>
                              
                              <p>An arbitrary set of tags (key&#x2013;value pairs) for this trail.</p>
                              
                              <p><em>Required</em>: No
                              </p>
                              
                              <p><em>Type</em>: <a href="aws-properties-resource-tags.html">AWS CloudFormation Resource Tags</a></p>
                              
                              <p><em>Update requires</em>: <a href="using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a>.
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-cloudtrail-trail-trailname"></a><span class="term"><code class="code">TrailName</code></span></dt>
                           
                           <dd>
                              
                              <p>The name of the trail. For constraint information, see <a href="./awscloudtrail/latest/APIReference/API_CreateTrail.html" target="_blank">CreateTrail</a> in the
                                 <em>AWS CloudTrail API Reference</em>.
                              </p>
                              
                              <p><em>Required</em>: No
                              </p>
                              
                              <p><em>Type</em>: String
                              </p>
                              
                              <p><em>Update requires</em>: <a href="using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                              
                           </dd>
                           
                        </dl>
                     </div>
                     
                     <h2 id="w2ab2c21c10d219c11">Return Values</h2>
                     
                     
                     <h3 id="w2ab2c21c10d219c11b2">Ref</h3>
                     
                     
                     <p>When the logical ID of this resource is provided to the <code class="code">Ref</code> intrinsic
                        function, <code class="code">Ref</code> returns the resource name.
                     </p>
                     
                     <p>For more information about using the <code class="code">Ref</code> function, see <a href="intrinsic-function-reference-ref.html">Ref</a>.
                     </p>
                     
                     
                     
                     <h3 id="aws-resource-cloudtrail-trail-getatt">Fn::GetAtt</h3>      
                     
                     <p><code class="code">Fn::GetAtt</code> returns a value for a specified attribute of this type.
                        The following are the available attributes and sample return values.
                     </p>
                     
                     <div class="variablelist">
                        
                        
                        
                        <dl>
                           
                           <dt><span class="term"><code class="code">Arn</code></span></dt>
                           
                           <dd>
                              
                              <p>The ARN of the CloudTrail trail, such as
                                 <code class="code">arn:aws:cloudtrail:us-east-2:123456789012:trail/myCloudTrail</code>.
                              </p>
                              
                           </dd>
                           
                           
                           <dt><span class="term"><code class="code">SnsTopicArn</code></span></dt>
                           
                           <dd>
                              
                              <p>The ARN of the Amazon SNS topic that&apos;s associated with the CloudTrail trail, such
                                 as
                                 <code class="code">arn:aws:sns:us-east-2:123456789012:mySNSTopic</code>.
                              </p>
                              
                           </dd>
                           
                        </dl>
                     </div>
                     
                     <p>For more information about using <code class="code">Fn::GetAtt</code>, see <a href="intrinsic-function-reference-getatt.html">Fn::GetAtt</a>.
                     </p>
                     
                     
                     <h2 id="aws-resource-cloudtrail-trail-examples">Example</h2>
                     
                     
                     <p>The following example creates a CloudTrail trail, an Amazon S3 bucket where logs are
                        published, and
                        an Amazon SNS topic where notifications are sent. The bucket and topic policies allow
                        CloudTrail (from
                        the specified regions) to publish logs to the Amazon S3 bucket and to send notifications
                        to an
                        email that you specify. Because CloudTrail automatically writes to the
                        <code><em class="replaceable"><code>bucket_name</code></em>/AWSLogs/<em class="replaceable"><code>account_ID</code></em>/</code>
                        folder, the bucket policy grants write privileges for that prefix. For information
                        about CloudTrail
                        bucket policies, see <a href="./awscloudtrail/latest/userguide/create_trail_bucket_policy.html" target="_blank">Amazon S3 Bucket Policy</a> in the <em>AWS CloudTrail User Guide</em>.
                     </p>
                     
                     <p>For more information about the regions that CloudTrail supports, see <a href="./awscloudtrail/latest/userguide/what_is_cloud_trail_supported_regions.html#what_is_cloud_trail_supported_regions.title" target="_blank">Supported Regions</a> in the <em>AWS CloudTrail User Guide</em>.
                     </p>      
                     
                     <div id="JSON" name="JSON" class="section langfilter">
                        <h3 id="aws-resource-cloudtrail-trail-example.json">JSON</h3>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">{
  &quot;AWSTemplateFormatVersion&quot; : &quot;2010-09-09&quot;,
  &quot;Parameters&quot; : {
    &quot;OperatorEmail&quot;: {
      &quot;Description&quot;: &quot;Email address to notify when new logs are published.&quot;,
      &quot;Type&quot;: &quot;String&quot;
    }
  },
  &quot;Resources&quot; : {
    &quot;S3Bucket&quot;: {
      &quot;DeletionPolicy&quot; : &quot;Retain&quot;,
      &quot;Type&quot;: &quot;AWS::S3::Bucket&quot;,
      &quot;Properties&quot;: {
      }
    },
    &quot;BucketPolicy&quot; : {
      &quot;Type&quot; : &quot;AWS::S3::BucketPolicy&quot;,
      &quot;Properties&quot; : {
        &quot;Bucket&quot; : {&quot;Ref&quot; : &quot;S3Bucket&quot;},
        &quot;PolicyDocument&quot; : {
          &quot;Version&quot;: &quot;2012-10-17&quot;,
          &quot;Statement&quot;: [
            {
              &quot;Sid&quot;: &quot;AWSCloudTrailAclCheck&quot;,
              &quot;Effect&quot;: &quot;Allow&quot;,
              &quot;Principal&quot;: { &quot;Service&quot;:&quot;cloudtrail.amazonaws.com&quot;},
              &quot;Action&quot;: &quot;s3:GetBucketAcl&quot;,
              &quot;Resource&quot;: { &quot;Fn::Join&quot; : [&quot;&quot;, [&quot;arn:aws:s3:::&quot;, {&quot;Ref&quot;:&quot;S3Bucket&quot;}]]}
            },
            {
              &quot;Sid&quot;: &quot;AWSCloudTrailWrite&quot;,
              &quot;Effect&quot;: &quot;Allow&quot;,
              &quot;Principal&quot;: { &quot;Service&quot;:&quot;cloudtrail.amazonaws.com&quot;},
              &quot;Action&quot;: &quot;s3:PutObject&quot;,
              &quot;Resource&quot;: { &quot;Fn::Join&quot; : [&quot;&quot;, [&quot;arn:aws:s3:::&quot;, {&quot;Ref&quot;:&quot;S3Bucket&quot;}, &quot;/AWSLogs/&quot;, {&quot;Ref&quot;:&quot;AWS::AccountId&quot;}, &quot;/*&quot;]]},
              &quot;Condition&quot;: {
                &quot;StringEquals&quot;: {
                  &quot;s3:x-amz-acl&quot;: &quot;bucket-owner-full-control&quot;
                }
              }
            }
          ]
        }
      }
    },
    &quot;Topic&quot;: {
      &quot;Type&quot;: &quot;AWS::SNS::Topic&quot;,
      &quot;Properties&quot;: {
        &quot;Subscription&quot;: [ {
          &quot;Endpoint&quot;: { &quot;Ref&quot;: &quot;OperatorEmail&quot; },
          &quot;Protocol&quot;: &quot;email&quot; } ]
      }
    },
    &quot;TopicPolicy&quot; : {
      &quot;Type&quot; : &quot;AWS::SNS::TopicPolicy&quot;,
      &quot;Properties&quot; : {
        &quot;Topics&quot; : [{&quot;Ref&quot;:&quot;Topic&quot;}],
        &quot;PolicyDocument&quot; : {
          &quot;Version&quot;: &quot;2008-10-17&quot;,
          &quot;Statement&quot;: [
            {
              &quot;Sid&quot;: &quot;AWSCloudTrailSNSPolicy&quot;,
              &quot;Effect&quot;: &quot;Allow&quot;,
              &quot;Principal&quot;: { &quot;Service&quot;:&quot;cloudtrail.amazonaws.com&quot;},
              &quot;Resource&quot;: &quot;*&quot;,
              &quot;Action&quot;: &quot;SNS:Publish&quot;
            }
          ]
        }
      }
    },
    &quot;myTrail&quot; : {
      &quot;DependsOn&quot; : [&quot;BucketPolicy&quot;, &quot;TopicPolicy&quot;],
      &quot;Type&quot; : &quot;AWS::CloudTrail::Trail&quot;,
      &quot;Properties&quot; : {
        &quot;S3BucketName&quot; : {&quot;Ref&quot;:&quot;S3Bucket&quot;},
        &quot;SnsTopicName&quot; : {&quot;Fn::GetAtt&quot;:[&quot;Topic&quot;,&quot;TopicName&quot;]},
        &quot;IsLogging&quot; : true
      }
    }
  }
}</code></pre>
                        </div>
                     
                     <div id="YAML" name="YAML" class="section langfilter">
                        <h3 id="aws-resource-cloudtrail-trail-example.yaml">YAML</h3>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">  AWSTemplateFormatVersion: &quot;2010-09-09&quot;
  Parameters: 
    OperatorEmail: 
      Description: &quot;Email address to notify when new logs are published.&quot;
      Type: String
  Resources: 
    S3Bucket: 
      DeletionPolicy: Retain
      Type: &quot;AWS::S3::Bucket&quot;
      Properties: {}
    BucketPolicy: 
      Type: &quot;AWS::S3::BucketPolicy&quot;
      Properties: 
        Bucket: 
          Ref: S3Bucket
        PolicyDocument: 
          Version: &quot;2012-10-17&quot;
          Statement: 
            - 
              Sid: &quot;AWSCloudTrailAclCheck&quot;
              Effect: &quot;Allow&quot;
              Principal: 
                Service: &quot;cloudtrail.amazonaws.com&quot;
              Action: &quot;s3:GetBucketAcl&quot;
              Resource: 
                !Sub |-
                  arn:aws:s3:::${S3Bucket}
            - 
              Sid: &quot;AWSCloudTrailWrite&quot;
              Effect: &quot;Allow&quot;
              Principal: 
                Service: &quot;cloudtrail.amazonaws.com&quot;
              Action: &quot;s3:PutObject&quot;
              Resource:
                !Sub |-
                  arn:aws:s3:::${S3Bucket}/AWSLogs/${AWS::AccountId}/*
              Condition: 
                StringEquals:
                  s3:x-amz-acl: &quot;bucket-owner-full-control&quot;
    Topic: 
      Type: &quot;AWS::SNS::Topic&quot;
      Properties: 
        Subscription: 
          - 
            Endpoint: 
              Ref: OperatorEmail
            Protocol: email
    TopicPolicy: 
      Type: &quot;AWS::SNS::TopicPolicy&quot;
      Properties: 
        Topics: 
          - Ref: &quot;Topic&quot;
        PolicyDocument: 
          Version: &quot;2008-10-17&quot;
          Statement: 
            - 
              Sid: &quot;AWSCloudTrailSNSPolicy&quot;
              Effect: &quot;Allow&quot;
              Principal: 
                Service: &quot;cloudtrail.amazonaws.com&quot;
              Resource: &quot;*&quot;
              Action: &quot;SNS:Publish&quot;
    myTrail: 
      DependsOn: 
        - BucketPolicy
        - TopicPolicy
      Type: &quot;AWS::CloudTrail::Trail&quot;
      Properties: 
        S3BucketName: 
          Ref: S3Bucket
        SnsTopicName: 
          Fn::GetAtt: 
            - Topic
            - TopicName
        IsLogging: true</code></pre>
                        </div>
                     
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="aws-resource-cloudfront-streamingdistribution.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="aws-properties-cw-alarm.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Syntax"><a class="pagetoc" href="#aws-resource-cloudtrail-trail-syntax">Syntax</a></li>
                        <li class="pagetoc" name="Properties"><a class="pagetoc" href="#w2ab2c21c10d219b9">Properties</a></li>
                        <li class="pagetoc" name="Return Values"><a class="pagetoc" href="#w2ab2c21c10d219c11">Return Values</a></li>
                        <li class="pagetoc" name="Example"><a class="pagetoc" href="#aws-resource-cloudtrail-trail-examples">Example</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='AWS CloudFormation';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='User Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>