<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Update Behaviors of Stack
         Resources - AWS CloudFormation
      </title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="using-cfn-updating-stacks.html" title="AWS CloudFormation Stacks Updates">
      <link rel="prev" href="using-cfn-updating-stacks.html" title="AWS CloudFormation Stacks Updates">
      <link rel="next" href="using-cfn-updating-stacks-get-template.html" title="Modifying a Stack Template">
      <meta name="description" content="Update an existing AWS CloudFormation stack by submitting a template or input parameters that specify updates to the resources in the stack.">
      <meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation Designer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="AWS CloudFormation">
      <meta name="guide" content="User Guide">
      <meta name="guide-locale" content="en_us">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="http://aws.amazon.com/documentation">AWS Documentation</a> &#xBB; <a href="http://aws.amazon.com/documentation/cloudformation">AWS CloudFormation</a> &#xBB; <a href="index.html">User Guide</a> &#xBB; <a href="stacks.html">Working with Stacks</a> &#xBB; <a href="using-cfn-updating-stacks.html">AWS CloudFormation Stacks Updates</a> &#xBB; <span class="breadcrumb">Update Behaviors of Stack
                                    Resources</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div></div>
                     <h1 class="topictitle" id="using-cfn-updating-stacks-update-behaviors">Update Behaviors of Stack
                        Resources
                     </h1>
                     <p>When you submit an update, AWS CloudFormation updates resources based on differences
                        between what you
                        submit and the stack&apos;s current template. Resources that have not changed run without
                        disruption during the update process. For updated resources, AWS CloudFormation uses
                        one of the following
                        update behaviors:
                     </p>
                     <div class="variablelist">
                        
                        
                        
                        
                        <dl>
                           
                           <dt><a id="update-no-interrupt"></a><span class="term">Update with No Interruption</span></dt>
                           
                           <dd>
                              
                              <p>AWS CloudFormation updates the resource without disrupting operation of that resource
                                 and
                                 without changing the resource&apos;s physical ID. For example, if you update any property
                                 on an <a href="aws-resource-cloudtrail-trail.html">AWS::CloudTrail::Trail</a> resource, AWS CloudFormation updates the trail
                                 without disruption.
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="update-some-interrupt"></a><span class="term">Updates with Some Interruption</span></dt>
                           
                           <dd>
                              
                              <p>AWS CloudFormation updates the resource with some interruption and retains the physical
                                 ID. For
                                 example, if you update certain properties on an <a href="aws-properties-ec2-instance.html">AWS::EC2::Instance</a> resource, the instance might have some interruption while AWS CloudFormation and
                                 Amazon EC2
                                 reconfigure the instance.
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="update-replacement"></a><span class="term">Replacement</span></dt>
                           
                           <dd>
                              
                              <p>AWS CloudFormation recreates the resource during an update, which also generates a
                                 new physical
                                 ID. AWS CloudFormation creates the replacement resource first, changes references
                                 from other
                                 dependent resources to point to the replacement resource, and then deletes the old
                                 resource. For example, if you update the <code class="code">Engine</code> property of an <a href="aws-properties-rds-database-instance.html">AWS::RDS::DBInstance</a>
                                 resource type, AWS CloudFormation creates a new resource and replaces the current
                                 DB instance
                                 resource with the new one.
                              </p>
                              
                           </dd>
                           
                        </dl>
                     </div>
                     <p>The method AWS CloudFormation uses depends on which property you update for a given
                        resource type. The
                        update behavior for each property is described in the <a href="aws-template-resource-type-ref.html">AWS Resource Types Reference</a>.
                     </p>
                     <p>Depending on the update behavior, you can decide when to modify resources to reduce
                        the
                        impact of these changes on your application. In particular, you can plan when resources
                        must
                        be <em>replaced</em> during an update. For example, if you update the
                        <code class="code">Port</code> property of an <a href="aws-properties-rds-database-instance.html">AWS::RDS::DBInstance</a> resource type, AWS CloudFormation replaces the DB instance by creating a
                        new DB instance with the updated port setting and deletes the old DB instance. Before
                        the
                        update, you might plan to do the following to prepare for the database replacement:
                     </p>
                     <div class="itemizedlist">
                        
                        
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p>Take a snapshot of the current databases.</p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>Prepare a strategy for how applications that use that DB instance will handle an
                                 interruption while the DB instance is being replaced.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>Ensure that the applications that use that DB instance take into account the updated
                                 port setting and any other updates you have made.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>Use the DB snapshot to restore the databases on the new DB instance.</p>
                              
                           </li>
                        </ul>
                     </div>
                     <p>This example is not exhaustive; it&apos;s meant to give you an idea of the things to plan
                        for
                        when a resource is replaced during an update.
                     </p>
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>If the template includes one or more <a href="aws-properties-stack.html">nested stacks</a>, AWS CloudFormation also initiates an
                           update for every nested stack. This is necessary to determine whether the nested stacks
                           have been modified. AWS CloudFormation updates only those resources in the nested
                           stacks that have
                           changes specified in corresponding templates.
                        </p>
                     </div>
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="using-cfn-updating-stacks.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="using-cfn-updating-stacks-get-template.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper"></div>
            </div>
         </div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='AWS CloudFormation';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='User Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>