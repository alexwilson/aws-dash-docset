<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Route&#xA0;53 Template Snippets - AWS CloudFormation</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="CHAP_TemplateQuickRef.html" title="Template Snippets">
      <link rel="prev" href="quickref-rds.html" title="Amazon RDS Template Snippets">
      <link rel="next" href="quickref-s3.html" title="Amazon S3 Template Snippets">
      <meta name="description" content="Use these Route 53 sample templates to help you describe Route 53 resource record sets with AWS CloudFormation.">
      <meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation Designer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="AWS CloudFormation">
      <meta name="guide" content="User Guide">
      <meta name="guide-locale" content="en_us">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/quickref-route53.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="http://aws.amazon.com/documentation">AWS Documentation</a> &#xBB; <a href="http://aws.amazon.com/documentation/cloudformation">AWS CloudFormation</a> &#xBB; <a href="index.html">User Guide</a> &#xBB; <a href="template-guide.html">Working with AWS CloudFormation Templates</a> &#xBB; <a href="CHAP_TemplateQuickRef.html">Template Snippets</a> &#xBB; <span class="breadcrumb">Route&#xA0;53 Template Snippets</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div></div>
                     <div id="language-filter" class="page-header" style="display:none">
                        <form> Filter View: 
                           <select name="filter-select" id="filter-select">
                              <option selected="1">All</option>
                              <option value="JSON" selected>JSON</option>
                              <option value="YAML" selected>YAML</option></select></form>
                     </div>
                     <h1 class="topictitle" id="quickref-route53">Route&#xA0;53 Template Snippets</h1>
                     <div class="highlights" id="inline-topiclist">
                        <p><strong>Topics</strong></p>
                        <ul>
                           <li><a href="#scenario-route53-recordset-by-host">Amazon Route 53 Resource Record Set
                                 Using Hosted Zone Name or ID</a></li>
                           <li><a href="#scenario-recordsetgroup-weighted">Using RecordSetGroup to Set Up
                                 Weighted Resource Record Sets</a></li>
                           <li><a href="#scenario-recordsetgroup-zoneapex">Using RecordSetGroup to Set Up an
                                 Alias Resource Record Set</a></li>
                           <li><a href="#w2ab2c17c24c81c11">Alias Resource Record Set for a CloudFront Distribution</a></li>
                        </ul>
                     </div>
                     <h2 id="scenario-route53-recordset-by-host">Amazon Route 53 Resource Record Set
                        Using Hosted Zone Name or ID
                     </h2>
                     
                     
                     <p>When you create an Amazon Route 53 resource record set, you must specify the
                        hosted zone where you want to add it. AWS CloudFormation provides two ways to do this.
                        You can
                        explicitly specify the hosted zone using the HostedZoneId property or have AWS CloudFormation
                        find the hosted zone using the HostedZoneName property. If you use the
                        HostedZoneName property and there are multiple hosted zones with the same domain
                        name, AWS CloudFormation doesn&apos;t create the stack.
                     </p>
                     
                     <h3 id="scenario-recordset-using-id">Adding RecordSet using
                        HostedZoneId
                     </h3>
                     
                     
                     <p>This example adds an Amazon Route 53 resource record set containing an SPF record
                        for the domain name <code class="code">mysite.example.com</code> that uses the
                        <code class="code">HostedZoneId</code> property to specify the hosted zone.
                     </p>
                     
                     <div id="JSON" name="JSON" class="section langfilter">
                        <h4 id="quickref-route53-example-1.json">JSON</h4>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">&quot;myDNSRecord&quot; : {
  &quot;Type&quot; : &quot;AWS::Route53::RecordSet&quot;,
  &quot;Properties&quot; : 
  {
    &quot;HostedZoneId&quot; : &quot;Z3DG6IL3SJCGPX&quot;,
    &quot;Name&quot; : &quot;mysite.example.com.&quot;,
    &quot;Type&quot; : &quot;SPF&quot;,
    &quot;TTL&quot; : &quot;900&quot;,
    &quot;ResourceRecords&quot; : [ &quot;\&quot;v=spf1 ip4:192.168.0.1/16 -all\&quot;&quot; ]
  }
}</code></pre>
                        </div>
                     
                     <div id="YAML" name="YAML" class="section langfilter">
                        <h4 id="quickref-route53-example-1.yaml">YAML</h4>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="yaml ">myDNSRecord:
  Type: AWS::Route53::RecordSet
  Properties:
    HostedZoneId: Z3DG6IL3SJCGPX
    Name: mysite.example.com.
    Type: SPF
    TTL: &apos;900&apos;
    ResourceRecords:
    - &apos;&quot;v=spf1 ip4:192.168.0.1/16 -all&quot;&apos;</code></pre>
                        </div>
                     
                     
                     <h3 id="scenario-recordset-using-name">Adding RecordSet using
                        HostedZoneName
                     </h3>
                     
                     
                     <p>This example adds an Amazon Route 53 resource record set containing A records
                        for the domain name &quot;mysite.example.com&quot; using the HostedZoneName property to
                        specify the hosted zone.
                     </p>
                     
                     <div id="JSON" name="JSON" class="section langfilter">
                        <h4 id="quickref-route53-example-2.json">JSON</h4>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">&quot;myDNSRecord2&quot; : {
            &quot;Type&quot; : &quot;AWS::Route53::RecordSet&quot;,
            &quot;Properties&quot; : {
                &quot;HostedZoneName&quot; : &quot;example.com.&quot;,
                &quot;Name&quot; : &quot;mysite.example.com.&quot;,
                &quot;Type&quot; : &quot;A&quot;,
                &quot;TTL&quot; : &quot;900&quot;,
                &quot;ResourceRecords&quot; : [
                    &quot;192.168.0.1&quot;,
                    &quot;192.168.0.2&quot;
                ]
            }
        }</code></pre>
                        </div>
                     
                     <div id="YAML" name="YAML" class="section langfilter">
                        <h4 id="quickref-route53-example-2.yaml">YAML</h4>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="yaml ">myDNSRecord2:
  Type: AWS::Route53::RecordSet
  Properties:
    HostedZoneName: example.com.
    Name: mysite.example.com.
    Type: A
    TTL: &apos;900&apos;
    ResourceRecords:
    - 192.168.0.1
    - 192.168.0.2
</code></pre>
                        </div>
                     
                     
                     <h2 id="scenario-recordsetgroup-weighted">Using RecordSetGroup to Set Up
                        Weighted Resource Record Sets
                     </h2>
                     
                     
                     <p>This example uses an <a href="aws-properties-route53-recordsetgroup.html">AWS::Route53::RecordSetGroup</a> to set up two CNAME records for the
                        &quot;example.com.&quot; hosted zone. The <code class="code">RecordSets</code> property contains
                        the CNAME record sets for the &quot;mysite.example.com&quot; DNS name. Each record set
                        contains an identifier (SetIdentifier) and weight (Weight). The weighting for
                        Frontend One is 40% (4 of 10) and Frontend Two is 60% (6 of 10). For more
                        information about weighted resource record sets, see <a href="./Route53/latest/DeveloperGuide/WeightedResourceRecordSets.html" target="_blank">Setting Up Weighted Resource Record Sets</a> in Route&#xA0;53 Developer
                        Guide.
                     </p>
                     
                     <div id="JSON" name="JSON" class="section langfilter">
                        <h3 id="quickref-route53-example-3.json">JSON</h3>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">        &quot;myDNSOne&quot; : {
            &quot;Type&quot; : &quot;AWS::Route53::RecordSetGroup&quot;,
            &quot;Properties&quot; : {
                &quot;HostedZoneName&quot; : &quot;example.com.&quot;,
                &quot;Comment&quot; : &quot;Weighted RR for my frontends.&quot;,
                &quot;RecordSets&quot; : [
                  {
                    &quot;Name&quot; : &quot;mysite.example.com.&quot;,
                    &quot;Type&quot; : &quot;CNAME&quot;,
                    &quot;TTL&quot; : &quot;900&quot;,
                    &quot;SetIdentifier&quot; : &quot;Frontend One&quot;,
                    &quot;Weight&quot; : &quot;4&quot;,
                    &quot;ResourceRecords&quot; : [&quot;example-ec2.amazonaws.com&quot;]
                  },
                  {
                    &quot;Name&quot; : &quot;mysite.example.com.&quot;,
                    &quot;Type&quot; : &quot;CNAME&quot;,
                    &quot;TTL&quot; : &quot;900&quot;,
                    &quot;SetIdentifier&quot; : &quot;Frontend Two&quot;,
                    &quot;Weight&quot; : &quot;6&quot;,
                    &quot;ResourceRecords&quot; : [&quot;example-ec2-larger.amazonaws.com&quot;]
                  }
                  ]
            }
        }</code></pre>
                        </div>
                     
                     <div id="YAML" name="YAML" class="section langfilter">
                        <h3 id="quickref-route53-example-3.yaml">YAML</h3>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="yaml ">myDNSOne:
  Type: AWS::Route53::RecordSetGroup
  Properties:
    HostedZoneName: example.com.
    Comment: Weighted RR for my frontends.
    RecordSets:
    - Name: mysite.example.com.
      Type: CNAME
      TTL: &apos;900&apos;
      SetIdentifier: Frontend One
      Weight: &apos;4&apos;
      ResourceRecords:
      - example-ec2.amazonaws.com
    - Name: mysite.example.com.
      Type: CNAME
      TTL: &apos;900&apos;
      SetIdentifier: Frontend Two
      Weight: &apos;6&apos;
      ResourceRecords:
      - example-ec2-larger.amazonaws.com</code></pre>
                        </div>
                     
                     <h2 id="scenario-recordsetgroup-zoneapex">Using RecordSetGroup to Set Up an
                        Alias Resource Record Set
                     </h2>
                     
                     
                     <p>This example uses an <a href="aws-properties-route53-recordsetgroup.html">AWS::Route53::RecordSetGroup</a> to set up an alias resource record set for the &quot;example.com.&quot; hosted zone. The <code class="code">RecordSets</code> property contains the A record for the zone apex &quot;example.com.&quot; The <a href="aws-properties-route53-aliastarget.html">AliasTarget</a> property specifies the hosted zone ID and DNS name for the myELB LoadBalancer by
                        using the <a href="intrinsic-function-reference-getatt.html">GetAtt</a> intrinsic function to retrieve the CanonicalHostedZoneNameID and DNSName properties
                        of myELB resource. For more information about alias resource record sets, see <a href="./Route53/latest/DeveloperGuide/CreatingAliasRRSets.html" target="_blank">Creating Alias Resource Record Sets</a> in the <em>Route&#xA0;53 Developer Guide</em>.
                     </p>
                     
                     <div id="JSON" name="JSON" class="section langfilter">
                        <h3 id="quickref-route53-example-4.json">JSON</h3>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">      &quot;myELB&quot; : {
        &quot;Type&quot; : &quot;AWS::ElasticLoadBalancing::LoadBalancer&quot;,
        &quot;Properties&quot; : {
            &quot;AvailabilityZones&quot; : [ &quot;<span><code class="code" copy="true">us-east-1a</code></span>&quot; ],
            &quot;Listeners&quot; : [ {
                &quot;LoadBalancerPort&quot; : &quot;80&quot;,
                &quot;InstancePort&quot; : &quot;80&quot;,
                &quot;Protocol&quot; : &quot;HTTP&quot;
            } ]
        }
      },
      &quot;myDNS&quot; : {
        &quot;Type&quot; : &quot;AWS::Route53::RecordSetGroup&quot;,
        &quot;Properties&quot; : {
          &quot;HostedZoneName&quot; : &quot;example.com.&quot;,
          &quot;Comment&quot; : &quot;Zone apex alias targeted to myELB LoadBalancer.&quot;,
          &quot;RecordSets&quot; : [
            {
              &quot;Name&quot; : &quot;example.com.&quot;,
              &quot;Type&quot; : &quot;A&quot;,
              &quot;AliasTarget&quot; : {
                  &quot;HostedZoneId&quot; : { &quot;Fn::GetAtt&quot; : [&quot;myELB&quot;, &quot;CanonicalHostedZoneNameID&quot;] },
                  &quot;DNSName&quot; : { &quot;Fn::GetAtt&quot; : [&quot;myELB&quot;,&quot;DNSName&quot;] }
              }
            }
          ]
        }
    }</code></pre>
                        </div>
                     
                     <div id="YAML" name="YAML" class="section langfilter">
                        <h3 id="quickref-route53-example-4.yaml">YAML</h3>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="yaml ">myELB:
  Type: AWS::ElasticLoadBalancing::LoadBalancer
  Properties:
    AvailabilityZones:
    - &quot;<span><code class="code" copy="true">us-east-1a</code></span>&quot;
    Listeners:
    - LoadBalancerPort: &apos;80&apos;
      InstancePort: &apos;80&apos;
      Protocol: HTTP
myDNS:
  Type: AWS::Route53::RecordSetGroup
  Properties:
    HostedZoneName: example.com.
    Comment: Zone apex alias targeted to myELB LoadBalancer.
    RecordSets:
    - Name: example.com.
      Type: A
      AliasTarget:
        HostedZoneId: !GetAtt myELB.CanonicalHostedZoneNameID
        DNSName: !GetAtt myELB.DNSName</code></pre>
                        </div>
                     
                     <h2 id="w2ab2c17c24c81c11">Alias Resource Record Set for a CloudFront Distribution</h2>
                     
                     
                     <p>The following example creates an alias record set that routes queries to the specified
                        CloudFront distribution domain name.
                     </p>
                     
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>When you create alias resource record sets, you must specify <code class="code">Z2FDTNDATAQYW2</code> for the <code class="code">HostedZoneId</code> property, as shown in the following example. 
                           Alias resource record sets for CloudFront can&apos;t be created in a private zone.
                        </p>
                     </div>
                     
                     <div id="JSON" name="JSON" class="section langfilter">
                        <h3 id="quickref-route53-example-5.json">JSON</h3>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="json ">&quot;myDNS&quot; : {
    &quot;Type&quot; : &quot;AWS::Route53::RecordSetGroup&quot;,
    &quot;Properties&quot; : {
        &quot;HostedZoneId&quot; : { &quot;Ref&quot; : &quot;myHostedZoneID&quot; },
        &quot;RecordSets&quot; : [{
            &quot;Name&quot; : { &quot;Ref&quot; : &quot;myRecordSetDomainName&quot; },
            &quot;Type&quot; : &quot;A&quot;,
            &quot;AliasTarget&quot; : {
                &quot;HostedZoneId&quot; : &quot;Z2FDTNDATAQYW2&quot;,
                &quot;DNSName&quot; : { &quot;Ref&quot; : &quot;myCloudFrontDistributionDomainName&quot; }
            }
        }]
    }
}</code></pre>
                        </div>
                     
                     <div id="YAML" name="YAML" class="section langfilter">
                        <h3 id="quickref-route53-example-5.yaml">YAML</h3>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="yaml ">myDNS:
  Type: AWS::Route53::RecordSetGroup
  Properties:
    HostedZoneId:
      Ref: myHostedZoneID
    RecordSets:
    - Name:
        Ref: myRecordSetDomainName
      Type: A
      AliasTarget:
        HostedZoneId: Z2FDTNDATAQYW2
        DNSName:
          Ref: myCloudFrontDistributionDomainName</code></pre>
                        </div>
                     
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="quickref-rds.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="quickref-s3.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Amazon Route 53 Resource Record Set
            Using Hosted Zone Name or ID"><a class="pagetoc" href="#scenario-route53-recordset-by-host">Amazon Route 53 Resource Record Set
                              Using Hosted Zone Name or ID</a></li>
                        <li class="pagetoc" name="Using RecordSetGroup to Set Up
            Weighted Resource Record Sets"><a class="pagetoc" href="#scenario-recordsetgroup-weighted">Using RecordSetGroup to Set Up
                              Weighted Resource Record Sets</a></li>
                        <li class="pagetoc" name="Using RecordSetGroup to Set Up an
            Alias Resource Record Set"><a class="pagetoc" href="#scenario-recordsetgroup-zoneapex">Using RecordSetGroup to Set Up an
                              Alias Resource Record Set</a></li>
                        <li class="pagetoc" name="Alias Resource Record Set for a CloudFront Distribution"><a class="pagetoc" href="#w2ab2c17c24c81c11">Alias Resource Record Set for a CloudFront Distribution</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='AWS CloudFormation';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='User Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>