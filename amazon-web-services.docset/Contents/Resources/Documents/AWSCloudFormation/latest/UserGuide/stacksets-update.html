<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Update Your Stack Set - AWS CloudFormation</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="stacksets-getting-started.html" title="Getting Started with AWS CloudFormation StackSets">
      <link rel="prev" href="stacksets-getting-started-create.html" title="Create a New Stack Set">
      <link rel="next" href="stackinstances-create.html" title="Add Stacks to a Stack Set">
      <meta name="description" content="You can update your stack set in either the AWS Management Console, or by using AWS CloudFormation commands in the AWS CLI. In this walkthrough, we are changing the default snapshot delivery frequency for delivery channel configuration from 24hours">
      <meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation Designer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="AWS CloudFormation">
      <meta name="guide" content="User Guide">
      <meta name="guide-locale" content="en_us">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/stacksets-update.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="http://aws.amazon.com/documentation">AWS Documentation</a> &#xBB; <a href="http://aws.amazon.com/documentation/cloudformation">AWS CloudFormation</a> &#xBB; <a href="index.html">User Guide</a> &#xBB; <a href="what-is-cfnstacksets.html">Working with AWS CloudFormation StackSets</a> &#xBB; <a href="stacksets-getting-started.html">Getting Started with AWS CloudFormation StackSets</a> &#xBB; <span class="breadcrumb">Update Your Stack Set</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div></div>
                     <h1 class="topictitle" id="stacksets-update">Update Your Stack Set</h1>
                     <p>You can update your stack set in either the AWS Management Console, or by using AWS
                        CloudFormation commands
                        in the AWS CLI. In this walkthrough, we are changing the default snapshot delivery
                        frequency for delivery channel configuration from <b>24hours</b> to
                        <b>12hours</b>.
                     </p>
                     <p>To override parameter values for specific stack  <em>instances</em>, see <a href="stackinstances-override.html">Override Parameters on Stack Instances</a>.
                     </p>
                     <p class="title"><b>To update a stack set by using the AWS Management Console</b></p>
                     <ol>
                        <li>
                           <p>Open the AWS CloudFormation console at
                              <a href="https://console.aws.amazon.com/cloudformation/" target="_blank">https://console.aws.amazon.com/cloudformation</a>.
                           </p>
                        </li>
                        <li>
                           
                           <p>At the top of the page, choose <b>StackSets</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>On the StackSets home page, select the stack set that you created in <a href="stacksets-getting-started-create.html">Create a New Stack Set</a>. In this walkthrough, we
                              created a stack set named <code class="code">my-awsconfig-stackset</code>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>With the stack set selected, choose <b>Manage stacks in stack
                                 set</b> from the <b>Actions</b> menu.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Choose <b>Edit stacks</b>, and then choose
                              <b>Next</b>.
                           </p>
                           
                           <div class="mediaobject">
                              
                              <img src="../../..//img/stackset_edit_stacks.png" alt="
                        Manage stacks in stack set page
                    " style="max-width:100%">
                              
                              
                              
                           </div>
                           
                        </li>
                        <li>
                           
                           <p>On the <b>Select template</b> page, choose whether you want to
                              update the current template, specify an S3 URL to another template, or upload a
                              new template to AWS CloudFormation. In this walkthrough, we are using the current
                              template. Choose <b>Current template: Update
                                 my-aws-config-stackset</b>, and then choose
                              <b>Next</b>.
                           </p>
                           
                           <div class="mediaobject">
                              
                              <img src="../../..//img/stackset_current_template.png" alt="
                        Select template page
                    " style="max-width:100%">
                              
                              
                              
                           </div>
                           
                        </li>
                        <li>
                           
                           <p>On the <b>Specify details</b> page of the wizard, change the
                              following information.
                           </p>
                           
                           <ol>
                              <li>
                                 
                                 <p>You are prompted to specify values for parameters that are used by
                                    AWS Config. For more information about these parameters, see <a href="./config/latest/developerguide/gs-console.html" target="_blank">Setting up AWS Config with the Console</a> in the
                                    <em>AWS Config Developer Guide</em>. In this walkthrough, we
                                    change the default snapshot delivery frequency for delivery channel
                                    configuration from <b>24hours</b> to
                                    <b>12hours</b>.
                                 </p>
                                 
                                 <div class="mediaobject">
                                    
                                    <img src="../../..//img/stackset_parameter_change.png" alt="
                                Change AWS Config parameter
                            " style="max-width:100%">
                                    
                                    
                                    
                                 </div>
                                 
                              </li>
                              <li>
                                 
                                 <p>Do not make changes to the other parameters. For the purposes of this
                                    walkthrough, we are not configuring Amazon SNS updates.
                                 </p>
                                 
                              </li>
                           </ol>
                           
                        </li>
                        <li>
                           
                           <p>When you are finished updating the <b>Delivery snapshot
                                 frequency</b> parameter for AWS Config, choose
                              <b>Next</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>On the <b>Set deployment options</b> page, keep the default
                              value of <b>1</b> and <b>By number</b> for
                              <b>Maximum concurrent accounts</b>. This means that AWS CloudFormation
                              updates your stack in only one account at one time. Keep the default
                              <b>Failure tolerance</b> of <b>0</b>, and keep
                              the <b>By number</b> default option. This means that a maximum of
                              one stack update can fail in one of your specified regions before AWS CloudFormation
                              stops
                              updates in the current region, and cancels updates in remaining regions. Choose
                              <b>Next</b>.
                           </p>
                           
                           <div class="aws-note">
                              <p class="aws-note">Note</p>
                              <p>You cannot change accounts and regions here; that is, you cannot deploy
                                 stack set changes to stacks in some accounts and regions, but not
                                 others.
                              </p>
                           </div>
                           
                           <div class="mediaobject">
                              
                              <img src="../../..//img/stackset_update_dep_options.png" alt="
                        Set update options
                    " style="max-width:100%">
                              
                              
                              
                           </div>
                           
                        </li>
                        <li>
                           
                           <p>On the <b>Tags</b> page, no changes are needed, but you can
                              update, delete, or add new tags here if desired. For more information about how
                              tags are used in AWS, see <a href="./awsaccountbilling/latest/aboutv2/cost-alloc-tags.html" target="_blank">Using Cost Allocation Tags</a> in the <em>AWS Billing and Cost Management User
                                 Guide</em>. Choose <b>Next</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>On the <b>Review</b> page, review your choices and your stack
                              set&apos;s properties. To make changes, choose <b>Edit</b> in the
                              upper-right corner of an area in which you want to change properties. Before you
                              can update the stack set, you must fill the check box in the
                              <b>Capabilities</b> area to acknowledge that some of the
                              resources that you are updating with the stack set might require new IAM
                              resources and permissions. For more information about potentially required
                              permissions, see <a href="./AWSCloudFormation/latest/UserGuide/using-iam-template.html#using-iam-capabilities" target="_blank">Acknowledging IAM Resources in AWS CloudFormation Templates</a> in this
                              guide. When you are are ready to create your stack set, choose <b>Update
                                 stacks</b>.
                           </p>
                           
                           <div class="mediaobject">
                              
                              <img src="../../..//img/stackset_review_updates.png" alt="
                        Review update options
                    " style="max-width:100%">
                              
                              
                              
                           </div>
                           
                        </li>
                        <li>
                           
                           <p>AWS CloudFormation starts applying your updates to your stack set. You can view the
                              progress and status of updates on the stack set properties page that opens after
                              you choose <b>Update stacks</b>. You should see the updated
                              <b>Delivery snapshot frequency</b> period in the AWS Config
                              parameters.
                           </p>
                           
                        </li>
                     </ol>
                     <p class="title"><b>To update a stack set template by using the AWS CLI</b></p>
                     <p>Run the <code class="code">update-stack-set</code> AWS CLI command to make changes to your stack
                        set. In this walkthrough, we are updating the value of the
                        <code class="code">MaximumExecutionFrequency</code> parameter. For more information about the
                        parameter names and values for creating or updating an AWS Config rule, see <a href="./cli/latest/reference/configservice/put-config-rule.html" target="_blank">put-config-rule</a> in the AWS CLI reference. To change template parameter
                        values, add the <code class="code">--parameters</code> parameter. For more information about what
                        you can specify as a value for <code class="code">--parameters</code>, see <a href="./AWSCloudFormation/latest/APIReference/API_Parameter.html" target="_blank">Parameter</a> in the AWS CloudFormation API Reference, and <a href="./cli/latest/reference/cloudformation/update-stack.html" target="_blank"><code class="code">update-stack</code></a> in the <em>AWS CLI Command
                           Reference</em>.
                     </p>
                     <p>In the example command shown here, we are updating the stack set by using
                        <code class="code">--parameters</code>; specifically, we change the default snapshot delivery
                        frequency for delivery channel configuration from
                        <b>TwentyFour_Hours</b> to <b>Twelve_Hours</b>.
                        Because we are still using the current template, we add the
                        <code class="code">--use-previous-template</code> parameter.
                     </p>
                     <ol>
                        <li>
                           
                           <p>Run the following command. For <em class="replaceable"><code>stack set name</code></em>,
                              specify the stack set name <code class="code">my-awsconfig-stackset</code>.
                           </p>
                           
                           <p>Set the failure tolerance and maximum concurrent accounts by setting
                              <code class="code">FailureToleranceCount</code> to <code class="code">0</code>, and
                              <code class="code">MaxConcurrentCount</code> to <code class="code">1</code> in the
                              <code class="code">--operation-preferences</code> parameter, as shown in the following
                              example. To apply percentages instead, use
                              <code class="code">FailureTolerancePercentage</code> or
                              <code class="code">MaxConcurrentPercentage</code>. For the purposes of this walkthrough,
                              we are using count, not percentage.
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">aws cloudformation update-stack-set --stack-set-name my-awsconfig-stackset --use-previous-template --parameters ParameterKey=MaximumExecutionFrequency,ParameterValue=TwentyFour_Hours\\,Twelve_Hours --operation-preferences FailureToleranceCount=0,MaxConcurrentCount=1</code></pre>
                           </li>
                        <li>
                           
                           <p>Verify that your stack set was updated successfully by running the
                              <code class="code">describe-stack-set-operation</code> command to show the status and
                              results of your update operation. For <code class="code">--operation-id</code>, use the
                              operation ID that was returned by your <code class="code">update-stack-set</code>
                              command.
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">aws cloudformation describe-stack-set-operation --operation-id <em class="replaceable"><code>operation_ID</code></em></code></pre>
                           </li>
                     </ol>
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="stacksets-getting-started-create.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="stackinstances-create.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper"></div>
            </div>
         </div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='AWS CloudFormation';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='User Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>