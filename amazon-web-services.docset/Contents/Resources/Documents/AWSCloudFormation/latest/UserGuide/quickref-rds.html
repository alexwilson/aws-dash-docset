<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Amazon RDS Template Snippets - AWS CloudFormation</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="CHAP_TemplateQuickRef.html" title="Template Snippets">
      <link rel="prev" href="quickref-redshift.html" title="Amazon Redshift Template Snippets">
      <link rel="next" href="quickref-route53.html" title="Route&#xA0;53 Template Snippets">
      <meta name="description" content="Use these sample template snippets with your Amazon RDS Instance resources with AWS CloudFormation.">
      <meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation Designer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="AWS CloudFormation">
      <meta name="guide" content="User Guide">
      <meta name="guide-locale" content="en_us">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/quickref-rds.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="http://aws.amazon.com/documentation">AWS Documentation</a> &#xBB; <a href="http://aws.amazon.com/documentation/cloudformation">AWS CloudFormation</a> &#xBB; <a href="index.html">User Guide</a> &#xBB; <a href="template-guide.html">Working with AWS CloudFormation Templates</a> &#xBB; <a href="CHAP_TemplateQuickRef.html">Template Snippets</a> &#xBB; <span class="breadcrumb">Amazon RDS Template Snippets</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div></div>
                     <div id="language-filter" class="page-header" style="display:none">
                        <form> Filter View: 
                           <select name="filter-select" id="filter-select">
                              <option selected="1">All</option>
                              <option value="JSON" selected>JSON</option>
                              <option value="YAML" selected>YAML</option></select></form>
                     </div>
                     <h1 class="topictitle" id="quickref-rds">Amazon RDS Template Snippets</h1>
                     <div class="highlights" id="inline-topiclist">
                        <p><strong>Topics</strong></p>
                        <ul>
                           <li><a href="#scenario-rds-instance">Amazon RDS DB Instance Resource</a></li>
                           <li><a href="#scenario-rds-oracleinstance">Amazon RDS Oracle Database DB Instance Resource</a></li>
                           <li><a href="#scenario-rds-security-group-cidr">Amazon RDS DBSecurityGroup Resource for CIDR Range</a></li>
                           <li><a href="#scenario-rds-security-group-ec2">Amazon RDS DBSecurityGroup with an Amazon EC2 security group</a></li>
                           <li><a href="#scenario-multiple-vpc-security-groups">Multiple VPC security groups</a></li>
                           <li><a href="#w2ab2c17c24c77c15">Amazon RDS Database Instance in a VPC Security Group</a></li>
                        </ul>
                     </div>
                     <h2 id="scenario-rds-instance">Amazon RDS DB Instance Resource</h2>
                     
                     
                     <p>This example shows an Amazon RDS DB Instance resource. Because the optional EngineVersion
                        property is not
                        specified, the default engine version is used for this DB Instance. For details about
                        the default engine
                        version and other default settings, see <a href="./AmazonRDS/latest/APIReference/API_CreateDBInstance.html" target="_blank">CreateDBInstance</a>. The DBSecurityGroups property authorizes network ingress to the
                        AWS::RDS::DBSecurityGroup resources named MyDbSecurityByEC2SecurityGroup and MyDbSecurityByCIDRIPGroup.
                        For
                        details, see <a href="aws-properties-rds-database-instance.html">AWS::RDS::DBInstance</a>. The DB Instance resource also has a
                        DeletionPolicy attribute set to Snapshot. With the Snapshot DeletionPolicy set, AWS
                        CloudFormation will take a snapshot
                        of this DB Instance before deleting it during stack deletion.
                     </p>
                     
                     <div id="JSON" name="JSON" class="section langfilter">
                        <h3 id="quickref-rds-example-1.json">JSON</h3>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">&quot;MyDB&quot; : {
 &quot;Type&quot; : &quot;AWS::RDS::DBInstance&quot;,
 &quot;Properties&quot; : {
     &quot;DBSecurityGroups&quot; : [
        {&quot;Ref&quot; : &quot;MyDbSecurityByEC2SecurityGroup&quot;}, {&quot;Ref&quot; : &quot;MyDbSecurityByCIDRIPGroup&quot;} ],
     &quot;AllocatedStorage&quot; : &quot;5&quot;,
     &quot;DBInstanceClass&quot; : &quot;db.m1.small&quot;,
     &quot;Engine&quot; : &quot;MySQL&quot;,
     &quot;MasterUsername&quot; : &quot;MyName&quot;,
     &quot;MasterUserPassword&quot; : &quot;MyPassword&quot;
 },
 &quot;DeletionPolicy&quot; : &quot;Snapshot&quot;
}</code></pre>
                        </div>
                     
                     <div id="YAML" name="YAML" class="section langfilter">
                        <h3 id="quickref-rds-example-1.yaml">YAML</h3>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">MyDB:
  Type: AWS::RDS::DBInstance
  Properties:
    DBSecurityGroups:
    - Ref: MyDbSecurityByEC2SecurityGroup
    - Ref: MyDbSecurityByCIDRIPGroup
    AllocatedStorage: &apos;5&apos;
    DBInstanceClass: db.m1.small
    Engine: MySQL
    MasterUsername: MyName
    MasterUserPassword: MyPassword
  DeletionPolicy: Snapshot</code></pre>
                        </div>
                     
                     <h2 id="scenario-rds-oracleinstance">Amazon RDS Oracle Database DB Instance Resource</h2>
                     
                     
                     <p>This example creates an Oracle Database DB Instance resource by specifying the Engine
                        as oracle-ee with a
                        license model of bring-your-own-license. For details about the settings for Oracle
                        Database DB instances, see
                        <a href="./AmazonRDS/latest/APIReference/API_CreateDBInstance.html" target="_blank">CreateDBInstance</a>. The DBSecurityGroups property authorizes network ingress to the
                        AWS::RDS::DBSecurityGroup resources named MyDbSecurityByEC2SecurityGroup and MyDbSecurityByCIDRIPGroup.
                        For
                        details, see <a href="aws-properties-rds-database-instance.html">AWS::RDS::DBInstance</a>. The DB Instance resource also has a
                        DeletionPolicy attribute set to Snapshot. With the Snapshot DeletionPolicy set, AWS
                        CloudFormation will take a snapshot
                        of this DB Instance before deleting it during stack deletion.
                     </p>
                     
                     <div id="JSON" name="JSON" class="section langfilter">
                        <h3 id="quickref-rds-example-2.json">JSON</h3>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">&quot;MyDB&quot; : {
 &quot;Type&quot; : &quot;AWS::RDS::DBInstance&quot;,
 &quot;Properties&quot; : {
     &quot;DBSecurityGroups&quot; : [
        {&quot;Ref&quot; : &quot;MyDbSecurityByEC2SecurityGroup&quot;}, {&quot;Ref&quot; : &quot;MyDbSecurityByCIDRIPGroup&quot;} ],
     &quot;AllocatedStorage&quot; : &quot;5&quot;,
     &quot;DBInstanceClass&quot; : &quot;db.m1.small&quot;,
     &quot;Engine&quot; : &quot;oracle-ee&quot;,
     &quot;LicenseModel&quot; : &quot;bring-your-own-license&quot;,
     &quot;MasterUsername&quot; : &quot;master&quot;,
     &quot;MasterUserPassword&quot; : &quot;SecretPassword01&quot;
 },
 &quot;DeletionPolicy&quot; : &quot;Snapshot&quot;
}</code></pre>
                        </div>
                     
                     <div id="YAML" name="YAML" class="section langfilter">
                        <h3 id="quickref-rds-example-2.yaml">YAML</h3>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">MyDB:
  Type: AWS::RDS::DBInstance
  Properties:
    DBSecurityGroups:
    - Ref: MyDbSecurityByEC2SecurityGroup
    - Ref: MyDbSecurityByCIDRIPGroup
    AllocatedStorage: &apos;5&apos;
    DBInstanceClass: db.m1.small
    Engine: oracle-ee
    LicenseModel: bring-your-own-license
    MasterUsername: master
    MasterUserPassword: SecretPassword01
  DeletionPolicy: Snapshot</code></pre>
                        </div>
                     
                     <h2 id="scenario-rds-security-group-cidr">Amazon RDS DBSecurityGroup Resource for CIDR Range</h2>
                     
                     
                     <p>This example shows an Amazon RDS DBSecurityGroup resource with ingress authorization
                        for the specified CIDR
                        range in the format ddd.ddd.ddd.ddd/dd. For details, see <a href="aws-properties-rds-security-group.html">AWS::RDS::DBSecurityGroup</a> and <a href="aws-properties-rds-security-group-rule.html">Amazon RDS Security Group Rule</a>.
                     </p>
                     
                     <div id="JSON" name="JSON" class="section langfilter">
                        <h3 id="quickref-rds-example-3.json">JSON</h3>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">&quot;MyDbSecurityByCIDRIPGroup&quot; : {
 &quot;Type&quot; : &quot;AWS::RDS::DBSecurityGroup&quot;,
 &quot;Properties&quot; : {
     &quot;GroupDescription&quot; : &quot;Ingress for CIDRIP&quot;,
     &quot;DBSecurityGroupIngress&quot; : {
         &quot;CIDRIP&quot; : &quot;<em class="replaceable"><code>192.168.0.0/32</code></em>&quot;
     }
 }
}</code></pre>
                        </div>
                     
                     <div id="YAML" name="YAML" class="section langfilter">
                        <h3 id="quickref-rds-example-3.yaml">YAML</h3>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">MyDbSecurityByCIDRIPGroup:
  Type: AWS::RDS::DBSecurityGroup
  Properties:
    GroupDescription: Ingress for CIDRIP
    DBSecurityGroupIngress:
      CIDRIP: &quot;<em class="replaceable"><code>192.168.0.0/32</code></em>&quot;</code></pre>
                        </div>
                     
                     <h2 id="scenario-rds-security-group-ec2">Amazon RDS DBSecurityGroup with an Amazon EC2 security group</h2>
                     
                     
                     <p>This example shows an <a href="aws-properties-rds-security-group.html">AWS::RDS::DBSecurityGroup</a>
                        resource with ingress authorization from an Amazon EC2 security group referenced by
                        MyEc2SecurityGroup.
                     </p>
                     
                     <p>To do this, you define an EC2 security group and then use the intrinsic Ref function
                        to refer to the EC2
                        security group within your DBSecurityGroup.
                     </p>
                     
                     <div id="JSON" name="JSON" class="section langfilter">
                        <h3 id="quickref-rds-example-4.json">JSON</h3>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">
&quot;DBInstance&quot; : {
   &quot;Type&quot;: &quot;AWS::RDS::DBInstance&quot;,
   &quot;Properties&quot;: {
      &quot;DBName&quot;            : { &quot;Ref&quot; : &quot;DBName&quot; },
      &quot;Engine&quot;            : &quot;MySQL&quot;,
      &quot;MasterUsername&quot;    : { &quot;Ref&quot; : &quot;DBUsername&quot; },
      &quot;DBInstanceClass&quot;   : { &quot;Ref&quot; : &quot;DBClass&quot; },
      &quot;DBSecurityGroups&quot;  : [ { &quot;Ref&quot; : &quot;DBSecurityGroup&quot; } ],
      &quot;AllocatedStorage&quot;  : { &quot;Ref&quot; : &quot;DBAllocatedStorage&quot; },
      &quot;MasterUserPassword&quot;: { &quot;Ref&quot; : &quot;DBPassword&quot; }
   }
},

&quot;DBSecurityGroup&quot;: {
   &quot;Type&quot;: &quot;AWS::RDS::DBSecurityGroup&quot;,
   &quot;Properties&quot;: {
      &quot;DBSecurityGroupIngress&quot;: { &quot;EC2SecurityGroupName&quot;: { &quot;Ref&quot;: &quot;WebServerSecurityGroup&quot; } },
      &quot;GroupDescription&quot;      : &quot;Frontend Access&quot;
   }
},

&quot;WebServerSecurityGroup&quot; : {
   &quot;Type&quot; : &quot;AWS::EC2::SecurityGroup&quot;,
   &quot;Properties&quot; : {
      &quot;GroupDescription&quot; : &quot;Enable HTTP access via port 80 and SSH access&quot;,
      &quot;SecurityGroupIngress&quot; : [
         {&quot;IpProtocol&quot; : &quot;tcp&quot;, &quot;FromPort&quot; : &quot;80&quot;, &quot;ToPort&quot; : &quot;80&quot;, &quot;CidrIp&quot; : &quot;0.0.0.0/0&quot;},
         {&quot;IpProtocol&quot; : &quot;tcp&quot;, &quot;FromPort&quot; : &quot;22&quot;, &quot;ToPort&quot; : &quot;22&quot;, &quot;CidrIp&quot; : &quot;0.0.0.0/0&quot;}
      ]
   }
}</code></pre>
                        </div>
                     
                     <div id="YAML" name="YAML" class="section langfilter">
                        <h3 id="quickref-rds-example-4.yaml">YAML</h3>
                        
                        
                        <p>This example is extracted from the following full example: <a href="https://s3.amazonaws.com/cloudformation-templates-us-east-1/Drupal_Single_Instance_With_RDS.template" target="_blank">Drupal_Single_Instance_With_RDS.template</a></p>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">DBInstance:
  Type: AWS::RDS::DBInstance
  Properties:
    DBName:
      Ref: DBName
    Engine: MySQL
    MasterUsername:
      Ref: DBUsername
    DBInstanceClass:
      Ref: DBClass
    DBSecurityGroups:
    - Ref: DBSecurityGroup
    AllocatedStorage:
      Ref: DBAllocatedStorage
    MasterUserPassword:
      Ref: DBPassword
DBSecurityGroup:
  Type: AWS::RDS::DBSecurityGroup
  Properties:
    DBSecurityGroupIngress:
      EC2SecurityGroupName:
        Ref: WebServerSecurityGroup
    GroupDescription: Frontend Access
WebServerSecurityGroup:
  Type: AWS::EC2::SecurityGroup
  Properties:
    GroupDescription: Enable HTTP access via port 80 and SSH access
    SecurityGroupIngress:
    - IpProtocol: tcp
      FromPort: &apos;80&apos;
      ToPort: &apos;80&apos;
      CidrIp: 0.0.0.0/0
    - IpProtocol: tcp
      FromPort: &apos;22&apos;
      ToPort: &apos;22&apos;
      CidrIp: 0.0.0.0/0</code></pre>
                        </div>
                     
                     <h2 id="scenario-multiple-vpc-security-groups">Multiple VPC security groups</h2>
                     
                     
                     <p>This example shows an <a href="aws-properties-rds-security-group.html">AWS::RDS::DBSecurityGroup</a>
                        resource with ingress authorization for multiple Amazon EC2 VPC security groups in
                        <a href="aws-resource-rds-security-group-ingress.html">AWS::RDS::DBSecurityGroupIngress</a>.
                     </p>
                     
                     <div id="JSON" name="JSON" class="section langfilter">
                        <h3 id="quickref-rds-example-5.json">JSON</h3>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">{
   &quot;Resources&quot; : {
      &quot;DBinstance&quot; : {
         &quot;Type&quot; : &quot;AWS::RDS::DBInstance&quot;,
         &quot;Properties&quot; : {
            &quot;AllocatedStorage&quot; : &quot;5&quot;,
            &quot;DBInstanceClass&quot; : &quot;db.m1.small&quot;,
           &quot;DBName&quot; : {&quot;Ref&quot;: &quot;MyDBName&quot; },
            &quot;DBSecurityGroups&quot; : [ { &quot;Ref&quot; : &quot;DbSecurityByEC2SecurityGroup&quot; } ],
            &quot;DBSubnetGroupName&quot; : { &quot;Ref&quot; : &quot;MyDBSubnetGroup&quot; },
            &quot;Engine&quot; : &quot;MySQL&quot;,
           &quot;MasterUserPassword&quot;: { &quot;Ref&quot; : &quot;MyDBPassword&quot; },
           &quot;MasterUsername&quot;    : { &quot;Ref&quot; : &quot;MyDBUsername&quot; }
        },
         &quot;DeletionPolicy&quot; : &quot;Snapshot&quot;
      },
      &quot;DbSecurityByEC2SecurityGroup&quot; : {
         &quot;Type&quot; : &quot;AWS::RDS::DBSecurityGroup&quot;,
         &quot;Properties&quot; : {
            &quot;GroupDescription&quot; : &quot;Ingress for Amazon EC2 security group&quot;,
           &quot;EC2VpcId&quot; : { &quot;Ref&quot; : &quot;MyVPC&quot; },
            &quot;DBSecurityGroupIngress&quot; : [ {
               &quot;EC2SecurityGroupId&quot; : &quot;sg-b0ff1111&quot;,
               &quot;EC2SecurityGroupOwnerId&quot; : &quot;111122223333&quot;
            }, {
               &quot;EC2SecurityGroupId&quot; : &quot;sg-ffd722222&quot;,
               &quot;EC2SecurityGroupOwnerId&quot; : &quot;111122223333&quot;
            } ]
         }
      }
   }
}</code></pre>
                        </div>
                     
                     <div id="YAML" name="YAML" class="section langfilter">
                        <h3 id="quickref-rds-example-5.yaml">YAML</h3>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">Resources:
  DBinstance:
    Type: AWS::RDS::DBInstance
    Properties:
      AllocatedStorage: &apos;5&apos;
      DBInstanceClass: db.m1.small
      DBName:
        Ref: MyDBName
      DBSecurityGroups:
      - Ref: DbSecurityByEC2SecurityGroup
      DBSubnetGroupName:
        Ref: MyDBSubnetGroup
      Engine: MySQL
      MasterUserPassword:
        Ref: MyDBPassword
      MasterUsername:
        Ref: MyDBUsername
    DeletionPolicy: Snapshot
  DbSecurityByEC2SecurityGroup:
    Type: AWS::RDS::DBSecurityGroup
    Properties:
      GroupDescription: Ingress for Amazon EC2 security group
      EC2VpcId:
        Ref: MyVPC
      DBSecurityGroupIngress:
      - EC2SecurityGroupId: sg-b0ff1111
        EC2SecurityGroupOwnerId: &apos;111122223333&apos;
      - EC2SecurityGroupId: sg-ffd722222
        EC2SecurityGroupOwnerId: &apos;111122223333&apos;</code></pre>
                        </div>
                     
                     <h2 id="w2ab2c17c24c77c15">Amazon RDS Database Instance in a VPC Security Group</h2>
                     
                     
                     <p>This example shows an Amazon RDS database instance associated with an Amazon EC2 VPC
                        security
                        group.
                     </p>
                     
                     <div id="JSON" name="JSON" class="section langfilter">
                        <h3 id="quickref-rds-example-6.json">JSON</h3>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">
{
  &quot;DBEC2SecurityGroup&quot;: {
    &quot;Type&quot;: &quot;AWS::EC2::SecurityGroup&quot;,
    &quot;Properties&quot; : {
      &quot;GroupDescription&quot;: &quot;Open database for access&quot;,
      &quot;SecurityGroupIngress&quot; : [{
        &quot;IpProtocol&quot; : &quot;tcp&quot;,
        &quot;FromPort&quot; : &quot;3306&quot;,
        &quot;ToPort&quot; : &quot;3306&quot;,
        &quot;SourceSecurityGroupName&quot; : { &quot;Ref&quot; : &quot;WebServerSecurityGroup&quot; }
      }]
    }
  },
  &quot;DBInstance&quot; : {
    &quot;Type&quot;: &quot;AWS::RDS::DBInstance&quot;,
    &quot;Properties&quot;: {
      &quot;DBName&quot;            : { &quot;Ref&quot; : &quot;DBName&quot; },
      &quot;Engine&quot;            : &quot;MySQL&quot;,
      &quot;MultiAZ&quot;           : { &quot;Ref&quot;: &quot;MultiAZDatabase&quot; },
      &quot;MasterUsername&quot;    : { &quot;Ref&quot; : &quot;DBUser&quot; },
      &quot;DBInstanceClass&quot;   : { &quot;Ref&quot; : &quot;DBClass&quot; },
      &quot;AllocatedStorage&quot;  : { &quot;Ref&quot; : &quot;DBAllocatedStorage&quot; },
      &quot;MasterUserPassword&quot;: { &quot;Ref&quot; : &quot;DBPassword&quot; },
      &quot;VPCSecurityGroups&quot; : [ { &quot;Fn::GetAtt&quot;: [ &quot;DBEC2SecurityGroup&quot;, &quot;GroupId&quot; ] } ]
    }
  }
}</code></pre>
                        </div>
                     
                     <div id="YAML" name="YAML" class="section langfilter">
                        <h3 id="quickref-rds-example-6.yaml">YAML</h3>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">DBEC2SecurityGroup:
  Type: AWS::EC2::SecurityGroup
  Properties:
    GroupDescription: Open database for access
    SecurityGroupIngress:
    - IpProtocol: tcp
      FromPort: &apos;3306&apos;
      ToPort: &apos;3306&apos;
      SourceSecurityGroupName:
        Ref: WebServerSecurityGroup
DBInstance:
  Type: AWS::RDS::DBInstance
  Properties:
    DBName:
      Ref: DBName
    Engine: MySQL
    MultiAZ:
      Ref: MultiAZDatabase
    MasterUsername:
      Ref: DBUser
    DBInstanceClass:
      Ref: DBClass
    AllocatedStorage:
      Ref: DBAllocatedStorage
    MasterUserPassword:
      Ref: DBPassword
    VPCSecurityGroups:
    - !GetAtt DBEC2SecurityGroup.GroupId</code></pre>
                        </div>
                     
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="quickref-redshift.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="quickref-route53.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Amazon RDS DB Instance Resource"><a class="pagetoc" href="#scenario-rds-instance">Amazon RDS DB Instance Resource</a></li>
                        <li class="pagetoc" name="Amazon RDS Oracle Database DB Instance Resource"><a class="pagetoc" href="#scenario-rds-oracleinstance">Amazon RDS Oracle Database DB Instance Resource</a></li>
                        <li class="pagetoc" name="Amazon RDS DBSecurityGroup Resource for CIDR Range"><a class="pagetoc" href="#scenario-rds-security-group-cidr">Amazon RDS DBSecurityGroup Resource for CIDR Range</a></li>
                        <li class="pagetoc" name="Amazon RDS DBSecurityGroup with an Amazon EC2 security group"><a class="pagetoc" href="#scenario-rds-security-group-ec2">Amazon RDS DBSecurityGroup with an Amazon EC2 security group</a></li>
                        <li class="pagetoc" name="Multiple VPC security groups"><a class="pagetoc" href="#scenario-multiple-vpc-security-groups">Multiple VPC security groups</a></li>
                        <li class="pagetoc" name="Amazon RDS Database Instance in a VPC Security Group"><a class="pagetoc" href="#w2ab2c17c24c77c15">Amazon RDS Database Instance in a VPC Security Group</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='AWS CloudFormation';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='User Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>