<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>AWS CloudFormation Configuration Properties
         Reference - AWS CloudFormation
      </title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="continuous-delivery-codepipeline.html" title="Continuous Delivery with AWS CodePipeline">
      <link rel="prev" href="continuous-delivery-codepipeline-basic-walkthrough.html" title="Walkthrough: Building a Pipeline for Test and Production Stacks">
      <link rel="next" href="continuous-delivery-codepipeline-cfn-artifacts.html" title="AWS CloudFormation Artifacts">
      <meta name="description" content="Specify AWS CloudFormation-specific configuration properties when you choose AWS CloudFormation as a provider for the AWS CodePipeline Deploy action.">
      <meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation Designer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="AWS CloudFormation">
      <meta name="guide" content="User Guide">
      <meta name="guide-locale" content="en_us">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/continuous-delivery-codepipeline-action-reference.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="http://aws.amazon.com/documentation">AWS Documentation</a> &#xBB; <a href="http://aws.amazon.com/documentation/cloudformation">AWS CloudFormation</a> &#xBB; <a href="index.html">User Guide</a> &#xBB; <a href="continuous-delivery-codepipeline.html">Continuous Delivery with AWS CodePipeline</a> &#xBB; <span class="breadcrumb">AWS CloudFormation Configuration Properties
                                    Reference</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div></div>
                     <h1 class="topictitle" id="continuous-delivery-codepipeline-action-reference">AWS CloudFormation Configuration Properties
                        Reference
                     </h1>
                     <p>When you build an AWS CodePipeline pipeline, you add a <code class="code">Deploy</code> action to the pipeline with
                        AWS CloudFormation as a provider. You then must specify which AWS CloudFormation action
                        the pipeline invokes and the
                        action&apos;s settings. This topic describes the AWS CloudFormation configuration properties.
                        To specify
                        properties, you can use the AWS CodePipeline console, or you can create a <a href="./codepipeline/latest/userguide/how-to-create-pipelines.html#how-to-create-pipeline-cli" target="_blank">JSON
                           object</a> to use for the AWS CLI, AWS CodePipeline API, or AWS CloudFormation templates.
                     </p>
                     <div class="highlights" id="inline-topiclist">
                        <p><strong>Topics</strong></p>
                        <ul>
                           <li><a href="#w2ab2c13c13b7">Configuration Properties (Console)</a></li>
                           <li><a href="#w2ab2c13c13b9">Configuration Properties (JSON Object)</a></li>
                        </ul>
                     </div>
                     <h2 id="w2ab2c13c13b7">Configuration Properties (Console)</h2>
                     
                     
                     <p>The AWS CodePipeline <a href="https://console.aws.amazon.com/codepipeline/" target="_blank">console</a> shows the
                        configuration properties and indicates the properties that are required based on the
                        <code class="code">Action mode</code> that you choose.
                     </p>
                     
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>When you create a new pipeline, you can specify only the <b>Create or update a
                              stack</b> or <b>Create or replace a change set</b> action modes.
                           Also, properties in the <b>Advanced</b> section are available only when you
                           edit an existing pipeline.
                        </p>
                     </div>
                     
                     <div class="variablelist">
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <dl>
                           
                           <dt><span class="term"><b>Action mode</b></span></dt>
                           
                           <dd>
                              
                              <p>The AWS CloudFormation action that AWS CodePipeline invokes when processing the associated
                                 stage. Choose one
                                 of the following action modes:
                              </p>
                              
                              <div class="itemizedlist">
                                 
                                 
                                 
                                 
                                 
                                 
                                 <ul class="itemizedlist" type="disc">
                                    <li class="listitem">
                                       
                                       <p><b>Create or replace a change set</b> creates the change set if it
                                          doesn&apos;t exist based on the stack name and template that you submit. If the change
                                          set exists, AWS CloudFormation deletes it, and then creates a new one.
                                       </p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p><b>Create or update a stack</b> creates the stack if the specified
                                          stack doesn&apos;t exist. If the stack exists, AWS CloudFormation updates the stack. Use
                                          this action
                                          to update existing stacks. AWS CodePipeline won&apos;t replace the stack.
                                       </p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p><b>Delete a stack</b> deletes a stack. If you specify a stack that
                                          doesn&apos;t exist, the action completes successfully without deleting a stack.
                                       </p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p><b>Execute a change set</b> executes a change set.
                                       </p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p><b>Replace a failed stack</b> creates the stack if the specified
                                          stack doesn&apos;t exist. If the stack exists and is in a failed state (reported as
                                          <code class="code">ROLLBACK_COMPLETE</code>, <code class="code">ROLLBACK_FAILED</code>,
                                          <code class="code">CREATE_FAILED</code>, <code class="code">DELETE_FAILED</code>, or
                                          <code class="code">UPDATE_ROLLBACK_FAILED</code>), AWS CloudFormation deletes the stack and then creates a
                                          new stack. If the stack isn&apos;t in a failed state, AWS CloudFormation updates it. Use
                                          this action
                                          to automatically replace failed stacks without recovering or troubleshooting them.
                                          You would typically choose this mode for testing.
                                       </p>
                                       
                                    </li>
                                 </ul>
                              </div>
                              
                           </dd>
                           
                           
                           <dt><span class="term"><b>Stack name</b></span></dt>
                           
                           <dd>
                              
                              <p>The name of an existing stack or a stack that you want to create.</p>
                              
                           </dd>
                           
                           
                           <dt><span class="term"><b>Change set name</b></span></dt>
                           
                           <dd>
                              
                              <p>The name of an existing change set or a new change set that you want to create for
                                 the specified stack.
                              </p>
                              
                           </dd>
                           
                           
                           <dt><span class="term"><b>Template</b></span></dt>
                           
                           <dd>
                              
                              <p>The location of an AWS CloudFormation template file, which follows the format
                                 <code class="code"><em class="replaceable"><code>ArtifactName</code></em>::<em class="replaceable"><code>TemplateFileName</code></em></code>.
                              </p>
                              
                           </dd>
                           
                           
                           <dt><span class="term"><b>Template configuration</b></span></dt>
                           
                           <dd>
                              
                              <p>The location of a template configuration file, which follows the format
                                 <code class="code"><em class="replaceable"><code>ArtifactName</code></em>::<em class="replaceable"><code>TemplateConfigurationFileName</code></em></code>.
                                 The template configuration file can contain template parameter values and a stack
                                 policy. If you include sensitive information, such as passwords, restrict access to
                                 this
                                 file. For more information, see <a href="continuous-delivery-codepipeline-cfn-artifacts.html">AWS CloudFormation Artifacts</a>.
                              </p>
                              
                           </dd>
                           
                           
                           <dt><span class="term"><b>Capabilities</b></span></dt>
                           
                           <dd>
                              
                              <p>For stacks that contain certain resources, explicit acknowledgement that AWS CloudFormation
                                 might
                                 create or update those resources. For example, you must specify
                                 <code class="code">CAPABILITY_IAM</code> if your stack template contains AWS Identity and Access Management (IAM)
                                 resources. For more information, see <a href="using-iam-template.html#using-iam-capabilities">Acknowledging IAM Resources in AWS CloudFormation Templates</a>.
                              </p>
                              
                              <p>If you have IAM resources in your stack template, you must specify this
                                 property.
                              </p>
                              
                           </dd>
                           
                           
                           <dt><span class="term"><b>Role name</b></span></dt>
                           
                           <dd>
                              
                              <p>The name of the IAM service role that AWS CloudFormation assumes when it operates
                                 on resources
                                 in the specified stack.
                              </p>
                              
                           </dd>
                           
                           
                           <dt><span class="term"><b>Output file name</b></span></dt>
                           
                           <dd>
                              
                              <p>In the <b>Advanced</b> section, you can specify an output file name,
                                 such as <code class="code">CreateStackOutput.json</code>, that AWS CodePipeline adds to the <a href="./codepipeline/latest/userguide/concepts.html" target="_blank">output artifact</a> after performing the specified action.
                              </p>
                              
                              <p>If you don&apos;t specify a name, AWS CodePipeline doesn&apos;t generate an output artifact.</p>
                              
                           </dd>
                           
                           
                           <dt><span class="term"><b>Parameter overrides</b></span></dt>
                           
                           <dd>
                              
                              <p>In the <b>Advanced</b> section, you can specify a JSON object that
                                 overrides template parameter values in the template configuration file. All parameter
                                 names must be present in the stack template.
                              </p>
                              
                              <div class="aws-note">
                                 <p class="aws-note">Note</p>
                                 <p>There is a maximum size limit of 1 kilobyte for the JSON object that can be stored
                                    in the 
                                    <code class="code">ParameterOverrides</code> property.
                                 </p>
                              </div>
                              
                              <p>We recommend that you use the template configuration file to specify most of your
                                 parameter values. Use parameter overrides to specify only dynamic parameter values
                                 (values that are unknown until you run the pipeline).
                              </p>
                              
                              <p>The following example defines a value for the <code class="code">ParameterName</code> parameter
                                 by using a parameter override function. The function retrieves a value from an AWS
                                 CodePipeline
                                 input artifact. For more information about parameter override functions, see <a href="continuous-delivery-codepipeline-parameter-override-functions.html">Using Parameter Override Functions with AWS CodePipeline Pipelines</a>.
                              </p>
                              <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">{
  &quot;ParameterName&quot; : { &quot;Fn::GetParam&quot; : [&quot;ArtifactName&quot;, &quot;config-file-name.json&quot;, &quot;ParamName&quot;]}
}</code></pre>
                              </dd>
                           
                        </dl>
                     </div>
                     
                     <h2 id="w2ab2c13c13b9">Configuration Properties (JSON Object)</h2>
                     
                     
                     <p>When you specify <code class="code">CloudFormation</code> as a provider for a stage action, define the
                        following properties within the <code class="code">Configuration</code> property. Use the <a href="./codepipeline/latest/userguide/how-to-create-pipelines.html#how-to-create-pipeline-cli" target="_blank">JSON
                           object</a> for the AWS CLI, AWS CodePipeline API, or AWS CloudFormation templates. For examples,
                        see <a href="continuous-delivery-codepipeline-basic-walkthrough.html">Walkthrough: Building a Pipeline for Test and Production Stacks</a></p>
                     
                     <div class="variablelist">
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <dl>
                           
                           <dt><span class="term"><code class="code">ActionMode</code></span></dt>
                           
                           <dd>
                              
                              <p>The AWS CloudFormation action that AWS CodePipeline invokes when processing the associated
                                 stage. Specify
                                 only one of the following action modes:
                              </p>
                              
                              <div class="itemizedlist">
                                 
                                 
                                 
                                 
                                 
                                 
                                 <ul class="itemizedlist" type="disc">
                                    <li class="listitem">
                                       
                                       <p><code class="code">CHANGE_SET_EXECUTE</code> executes a change set.
                                       </p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p><code class="code">CHANGE_SET_REPLACE</code> creates the change set if it doesn&apos;t exist based
                                          on the stack name and template that you submit. If the change set exists, AWS CloudFormation
                                          deletes it, and then creates a new one.
                                       </p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p><code class="code">CREATE_UPDATE</code> creates the stack if the specified stack doesn&apos;t
                                          exist. If the stack exists, AWS CloudFormation updates the stack. Use this action
                                          to update
                                          existing stacks. AWS CodePipeline won&apos;t replace the stack.
                                       </p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p><code class="code">DELETE_ONLY</code> deletes a stack. If you specify a stack that doesn&apos;t
                                          exist, the action completes successfully without deleting a stack.
                                       </p>
                                       
                                    </li>
                                    <li class="listitem">
                                       
                                       <p><code class="code">REPLACE_ON_FAILURE</code> creates a stack if the specified stack doesn&apos;t
                                          exist. If the stack exists and is in a failed state (reported as
                                          <code class="code">ROLLBACK_COMPLETE</code>, <code class="code">ROLLBACK_FAILED</code>,
                                          <code class="code">CREATE_FAILED</code>, <code class="code">DELETE_FAILED</code>, or
                                          <code class="code">UPDATE_ROLLBACK_FAILED</code>), AWS CloudFormation deletes the stack and then creates a
                                          new stack. If the stack isn&apos;t in a failed state, AWS CloudFormation updates it. Use
                                          this action
                                          to automatically replace failed stacks without recovering or troubleshooting them.
                                          You would typically choose this mode for testing.
                                       </p>
                                       
                                    </li>
                                 </ul>
                              </div>
                              
                              <p>This property is required.</p>
                              
                           </dd>
                           
                           
                           <dt><span class="term"><code class="code">Capabilities</code></span></dt>
                           
                           <dd>
                              
                              <p>For stacks that contain certain resources, explicit acknowledgement that AWS CloudFormation
                                 might
                                 create or update those resources. For example, you must specify
                                 <code class="code">CAPABILITY_IAM</code> if your stack template contains AWS Identity and Access Management (IAM)
                                 resources. For more information, see <a href="using-iam-template.html#using-iam-capabilities">Acknowledging IAM Resources in AWS CloudFormation Templates</a>.
                              </p>
                              
                              <p>This property is conditional. If you have IAM resources in your stack template,
                                 you must specify this property.
                              </p>
                              
                           </dd>
                           
                           
                           <dt><span class="term"><code class="code">ChangeSetName</code></span></dt>
                           
                           <dd>
                              
                              <p>The name of an existing change set or a new change set that you want to create for
                                 the specified stack.
                              </p>
                              
                              <p>This property is required for the following action modes:
                                 <code class="code">CHANGE_SET_REPLACE</code> and <code class="code">CHANGE_SET_EXECUTE</code>. For all other
                                 action modes, this property is ignored.
                              </p>
                              
                           </dd>
                           
                           
                           <dt><span class="term"><code class="code">OutputFileName</code></span></dt>
                           
                           <dd>
                              
                              <p>A name for the output file, such as <code class="code">CreateStackOutput.json</code>. AWS CodePipeline adds
                                 the file to the <a href="./codepipeline/latest/userguide/concepts.html" target="_blank">output artifact</a> after
                                 performing the specified action.
                              </p>
                              
                              <p>This property is optional. If you don&apos;t specify a name, AWS CodePipeline doesn&apos;t generate
                                 an
                                 output artifact.
                              </p>
                              
                           </dd>
                           
                           
                           <dt><span class="term"><code class="code">ParameterOverrides</code></span></dt>
                           
                           <dd>
                              
                              <p>A JSON object that specifies values for template parameters. If you specify
                                 parameters that are also specified in the template configuration file, these values
                                 override them. All parameter names must be present in the stack template.
                              </p>
                              
                              <div class="aws-note">
                                 <p class="aws-note">Note</p>
                                 <p>There is a maximum size limit of 1 kilobyte for the JSON object that can be stored
                                    in the 
                                    <code class="code">ParameterOverrides</code> property.
                                 </p>
                              </div>
                              
                              <p>We recommend that you use the template configuration file to specify most of your
                                 parameter values. Use parameter overrides to specify only dynamic parameter values
                                 (values that are unknown until you run the pipeline).
                              </p>
                              
                              <p>The following example defines a value for the <code class="code">ParameterName</code> parameter
                                 by using a parameter override function. The function retrieves a value from an AWS
                                 CodePipeline
                                 input artifact. For more information about parameter override functions, see <a href="continuous-delivery-codepipeline-parameter-override-functions.html">Using Parameter Override Functions with AWS CodePipeline Pipelines</a>.
                              </p>
                              <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">{
  &quot;ParameterName&quot; : { &quot;Fn::GetParam&quot; : [&quot;ArtifactName&quot;, &quot;config-file-name.json&quot;, &quot;ParamName&quot;]}
}</code></pre>
                              <p>This property is optional.</p>
                              
                           </dd>
                           
                           
                           <dt><span class="term"><code class="code">RoleArn</code></span></dt>
                           
                           <dd>
                              
                              <p>The Amazon Resource Name (ARN) of the IAM service role that AWS CloudFormation assumes
                                 when it
                                 operates on resources in a stack.
                              </p>
                              
                              <p>This property is required for the following action modes: <code class="code">CREATE_UPDATE</code>,
                                 <code class="code">REPLACE_ON_FAILURE</code>, <code class="code">DELETE_ONLY</code>, and <code class="code">CHANGE_SET_REPLACE</code>. Note:
                                 <code class="code">RoleArn</code> is not applied when executing a change set. If you do not use CodePipeline to create
                                 the change set, you must ensure that the change set or stack has an associated role.
                              </p>
                              
                           </dd>
                           
                           
                           <dt><span class="term"><code class="code">StackName</code></span></dt>
                           
                           <dd>
                              
                              <p>The name of an existing stack or a stack that you want to create.</p>
                              
                              <p>This property is required for all action modes.</p>
                              
                           </dd>
                           
                           
                           <dt><span class="term"><code class="code">TemplateConfiguration</code></span></dt>
                           
                           <dd>
                              
                              <p>The location of a template configuration file, which follows the format
                                 <code class="code"><em class="replaceable"><code>ArtifactName</code></em>::<em class="replaceable"><code>TemplateConfigurationFileName</code></em></code>.
                                 The template configuration file can contain template parameter values and a stack
                                 policy. Note that if you include sensitive information, such as passwords, restrict
                                 access to this file. For more information, see <a href="continuous-delivery-codepipeline-cfn-artifacts.html">AWS CloudFormation Artifacts</a>.
                              </p>
                              
                              <p>This property is optional.</p>
                              
                           </dd>
                           
                           
                           <dt><span class="term"><code class="code">TemplatePath</code></span></dt>
                           
                           <dd>
                              
                              <p>The location of an AWS CloudFormation template file, which follows the format
                                 <code class="code"><em class="replaceable"><code>ArtifactName</code></em>::<em class="replaceable"><code>TemplateFileName</code></em></code>. 
                              </p>
                              
                              <p>This property is required for the following action modes:
                                 <code class="code">CREATE_UPDATE</code>, <code class="code">REPLACE_ON_FAILURE</code>, and
                                 <code class="code">CHANGE_SET_REPLACE</code>. For all other action modes, this property is
                                 ignored.
                              </p>
                              
                           </dd>
                           
                        </dl>
                     </div>
                     
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="continuous-delivery-codepipeline-basic-walkthrough.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="continuous-delivery-codepipeline-cfn-artifacts.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Configuration Properties (Console)"><a class="pagetoc" href="#w2ab2c13c13b7">Configuration Properties (Console)</a></li>
                        <li class="pagetoc" name="Configuration Properties (JSON Object)"><a class="pagetoc" href="#w2ab2c13c13b9">Configuration Properties (JSON Object)</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='AWS CloudFormation';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='User Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>