<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Modifying a Stack Template - AWS CloudFormation</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="using-cfn-updating-stacks.html" title="AWS CloudFormation Stacks Updates">
      <link rel="prev" href="using-cfn-updating-stacks-update-behaviors.html" title="Update Behaviors of Stack
      Resources">
      <link rel="next" href="using-cfn-updating-stacks-changesets.html" title="Updating Stacks Using
    Change Sets">
      <meta name="description" content="Get and modify the AWS CloudFormation template for the stack that you want to update.">
      <meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation Designer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="AWS CloudFormation">
      <meta name="guide" content="User Guide">
      <meta name="guide-locale" content="en_us">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-get-template.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="http://aws.amazon.com/documentation">AWS Documentation</a> &#xBB; <a href="http://aws.amazon.com/documentation/cloudformation">AWS CloudFormation</a> &#xBB; <a href="index.html">User Guide</a> &#xBB; <a href="stacks.html">Working with Stacks</a> &#xBB; <a href="using-cfn-updating-stacks.html">AWS CloudFormation Stacks Updates</a> &#xBB; <span class="breadcrumb">Modifying a Stack Template</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div></div>
                     <h1 class="topictitle" id="using-cfn-updating-stacks-get-template">Modifying a Stack Template</h1>
                     <p>If you want to modify resources and properties that are declared in a stack template,
                        you
                        must modify the stack&apos;s template. To ensure that you update only the resources that
                        you intend
                        to update, use the template for the existing stack as a starting point and  make your
                        updates
                        to that template. If you are managing your template in a source control system, use
                        a copy of
                        that template as a starting point. Otherwise, you can get a copy of a stack template
                        from
                        AWS CloudFormation.
                     </p>
                     <p>If you want to modify just the parameters or settings of a stack (like a stack&apos;s Amazon
                        SNS
                        topic), you can reuse the existing stack template. You don&apos;t need to get a copy of
                        the stack
                        template or make modifications to the stack template.
                     </p>
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>If your template includes an unsupported change, AWS CloudFormation returns a message
                           saying that the
                           change is not permitted. This message might occur asynchronously, however, because
                           resources are created and updated by AWS CloudFormation in a non-deterministic order
                           by default.
                        </p>
                     </div>
                     <div class="highlights" id="inline-topiclist">
                        <p><strong>Topics</strong></p>
                        <ul>
                           <li><a href="#using-cfn-updating-stacks-get-stack.CON">Update a Stack&apos;s Template (Console)</a></li>
                           <li><a href="#using-cfn-updating-stacks-get-stack.CLI">Get and Update a Template for a Stack (CLI)</a></li>
                        </ul>
                     </div>
                     <h2 id="using-cfn-updating-stacks-get-stack.CON">Update a Stack&apos;s Template (Console)</h2>
                     
                     
                     <ol>
                        <li>
                           
                           <p>In the <a href="https://console.aws.amazon.com/cloudformation" target="_blank">AWS CloudFormation console</a>,
                              select the stack that you want to update and then choose the
                              <b>Actions</b> and then <b>View in
                                 Designer</b>.
                           </p>
                           
                           <div class="mediaobject">
                              
                              <img src="../../..//img/console-stack-detail-pane-template.png">
                              
                              
                           </div>
                           
                           <p>AWS CloudFormation opens a copy of the stack&apos;s template in AWS CloudFormation Designer.</p>
                           
                        </li>
                        <li>
                           
                           <p>Modify the template.</p>
                           
                           <p>You can use the AWS CloudFormation Designer drag-and-drop interface or the integrated
                              JSON and YAML editor 
                              to modify the template. For more information about using AWS CloudFormation Designer,
                              see <a href="working-with-templates-cfn-designer.html">What Is AWS CloudFormation Designer?</a>.
                           </p>
                           
                           <p>Modify only the resources that you want to update. Use the <em>same
                                 values</em> as the current stack configuration for resources and properties
                              that you aren&apos;t updating. You can modify the template by completing any of the
                              following actions:
                           </p>
                           <div class="itemizedlist">
                              
                              
                              
                              
                              
                              
                              
                              
                              <ul class="itemizedlist" type="disc">
                                 <li class="listitem">
                                    
                                    <p>Add new resources, or remove existing resources.</p>
                                    
                                    <p>For most resources, changing the logical name of a resource is equivalent
                                       to deleting that resource and replacing it with a new one. Any other
                                       resources that depend on the renamed resource also need to be updated and
                                       might cause them to be replaced. Other resources require you to update a
                                       property (not just the logical name) in order to trigger an update.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p>Add, modify, or delete properties of existing resources.</p>
                                    
                                    <p>Consult the <a href="aws-template-resource-type-ref.html">AWS Resource
                                          Types Reference</a> for information about the effects of updating
                                       particular resource properties. For each property, the effects of an update
                                       will be one of the following:
                                    </p>
                                    
                                    <div class="itemizedlist">
                                       
                                       
                                       
                                       
                                       <ul class="itemizedlist" type="disc">
                                          <li class="listitem">
                                             
                                             <p><em>Update requires</em>: <a href="using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a></p>
                                             
                                          </li>
                                          <li class="listitem">
                                             
                                             <p><em>Update requires</em>: <a href="using-cfn-updating-stacks-update-behaviors.html#update-some-interrupt">Some interruptions</a></p>
                                             
                                          </li>
                                          <li class="listitem">
                                             
                                             <p><em>Update requires</em>: <a href="using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                                             
                                          </li>
                                       </ul>
                                    </div>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p>Add, modify, or delete attributes for resources
                                       (<code class="code">Metadata</code>, <code class="code">DependsOn</code>,
                                       <code class="code">CreationPolicy</code>, <code class="code">UpdatePolicy</code>,
                                       and <code class="code">DeletionPolicy</code>).
                                    </p>
                                    
                                    <div class="aws-note">
                                       <p class="aws-note">Important</p>
                                       <p>You cannot update the <code class="code">CreationPolicy</code>,
                                          <code class="code">DeletionPolicy</code>. or
                                          <code class="code">UpdatePolicy</code> attribute by itself. You can update
                                          them only when you include changes that add, modify, or delete resources.
                                          For example, you can add or modify a metadata attribute of a
                                          resource.
                                       </p>
                                    </div>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p>Add, modify, or delete parameter declarations. However, you cannot add,
                                       modify, or delete a parameter that is used by a resource that does not
                                       support updates.
                                    </p>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p>Add, modify, or delete mapping declarations.</p>
                                    
                                    <div class="aws-note">
                                       <p class="aws-note">Important</p>
                                       <p>If the values in a mapping are not being used by your stack, you can&apos;t
                                          update the mapping by itself. You need to include changes that add,
                                          modify, or delete resources. For example, you can add or modify a
                                          metadata attribute of a resource. If you update a mapping value that your
                                          stack is using, you don&apos;t need to make any other changes to trigger an
                                          update.
                                       </p>
                                    </div>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p>Add, modify, or delete condition declarations.</p>
                                    
                                    <div class="aws-note">
                                       <p class="aws-note">Important</p>
                                       <p>You cannot update conditions by themselves. You can update conditions
                                          only when you include changes that add, modify, or delete resources. For
                                          example, you can add or modify a metadata attribute of a resource.
                                       </p>
                                    </div>
                                    
                                 </li>
                                 <li class="listitem">
                                    
                                    <p>Add, modify, or delete output value declarations.</p>
                                    
                                 </li>
                              </ul>
                           </div>
                           
                           <p>Some resources or properties may have constraints on property values or changes to
                              those values. For example, changes to the <code class="code">AllocatedStorage</code> property of
                              an <a href="aws-properties-rds-database-instance.html"> AWS::RDS::DBInstance</a>
                              resource must be greater than the current setting. If the value specified for the
                              update does not meet those constraints, the update for that resource fails. For the
                              specific constraints on <code class="code">AllocatedStorage</code> changes, see <a href="./AmazonRDS/latest/APIReference/API_ModifyDBInstance.html" target="_blank">
                                 ModifyDBInstance</a>.
                           </p>
                           
                           <p>Updates to a resource can affect the properties of other resources. If you used
                              the <a href="intrinsic-function-reference-ref.html"> Ref function </a> or the
                              <a href="intrinsic-function-reference-getatt.html"> Fn::GetAtt function</a> to
                              specify an attribute from an updated resource as part of a property value in another
                              resource in the template, AWS CloudFormation also updates the resource that contains
                              the reference
                              to the property that has changed. For example, if you updated the
                              <code class="code">MasterUsername</code> property of an <code class="code">AWS::RDS::DBInstance</code>
                              resource and you had an <code class="code">AWS::AutoScaling::LaunchConfiguration</code> resource
                              that had a <code class="code">UserData</code> property that contained a reference to the DB
                              instance name using the <code class="code">Ref</code> function, AWS CloudFormation would recreate the DB
                              instance with a new name and also update the <code class="code">LaunchConfiguration</code>
                              resource.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>To check for syntax errors in your template, from the AWS CloudFormation Designer
                              toolbar, choose
                              <b>Validate template</b> (<span class="inlinemediaobject">
                                 
                                 <img src="../../..//img/designer-validate-icon.png">
                                 
                                 </span>).
                           </p>
                           
                           <p>View and fix any errors in the <b>Messages</b> pane, and then validate
                              the template again. If you don&apos;t see any errors, your template is syntactically
                              valid.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>From the AWS CloudFormation Designer toolbar, choose the <b>File</b> menu (<span class="inlinemediaobject">
                                 
                                 <img src="../../..//img/designer-file-menu.png">
                                 
                                 </span>) and then <b>Save</b> to save the
                              template in an S3 bucket or locally.
                           </p>
                           
                        </li>
                     </ol>
                     
                     <h2 id="using-cfn-updating-stacks-get-stack.CLI">Get and Update a Template for a Stack (CLI)</h2>
                     
                     
                     <ol>
                        <li>
                           
                           <p>To get the template for the stack you want to update, use the command <a href="./cli/latest/reference/cloudformation/get-template.html" target="_blank"><code class="code">aws cloudformation get-template</code></a>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Copy the template, paste it into a text file, modify it, and save it. Copy
                              <em>only</em> the template. The command encloses the template in
                              quotation marks, but do not copy the quotation marks surrounding the template. The
                              template itself starts with an open brace and ends with the final close brace.
                              Specify changes to the stack&apos;s resources in this file.
                           </p>
                           
                        </li>
                     </ol>
                     
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="using-cfn-updating-stacks-update-behaviors.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="using-cfn-updating-stacks-changesets.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Update a Stack&apos;s Template (Console)"><a class="pagetoc" href="#using-cfn-updating-stacks-get-stack.CON">Update a Stack&apos;s Template (Console)</a></li>
                        <li class="pagetoc" name="Get and Update a Template for a Stack (CLI)"><a class="pagetoc" href="#using-cfn-updating-stacks-get-stack.CLI">Get and Update a Template for a Stack (CLI)</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='AWS CloudFormation';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='User Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>