<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>AWS::Lambda::Permission - AWS CloudFormation</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="aws-template-resource-type-ref.html" title="AWS Resource Types Reference">
      <link rel="prev" href="aws-resource-lambda-function.html" title="AWS::Lambda::Function">
      <link rel="next" href="aws-resource-lambda-version.html" title="AWS::Lambda::Version">
      <meta name="description" content="Use the AWS::Lambda::Permission resource to add a statement to an AWS Lambda function&apos;s access policy.">
      <meta name="keywords" content="CloudFormation,AWSCloudFormation,resource provisioning,resource configuration,infrastructure management,CloudFormer,CloudFormation Designer,CloudFormation stack,CloudFormation stackset,CloudFormation template,change set">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="AWS CloudFormation">
      <meta name="guide" content="User Guide">
      <meta name="guide-locale" content="en_us">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-lambda-permission.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="http://aws.amazon.com/documentation">AWS Documentation</a> &#xBB; <a href="http://aws.amazon.com/documentation/cloudformation">AWS CloudFormation</a> &#xBB; <a href="index.html">User Guide</a> &#xBB; <a href="template-reference.html">Template Reference</a> &#xBB; <a href="aws-template-resource-type-ref.html">AWS Resource Types Reference</a> &#xBB; <span class="breadcrumb">AWS::Lambda::Permission</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div></div>
                     <div id="language-filter" class="page-header" style="display:none">
                        <form> Filter View: 
                           <select name="filter-select" id="filter-select">
                              <option selected="1">All</option>
                              <option value="JSON" selected>JSON</option>
                              <option value="YAML" selected>YAML</option></select></form>
                     </div>
                     <h1 class="topictitle" id="aws-resource-lambda-permission">AWS::Lambda::Permission</h1>
                     <p>The <code class="code">AWS::Lambda::Permission</code> resource associates a policy statement with a
                        specific AWS Lambda (Lambda) function&apos;s access policy. The function policy grants
                        a specific AWS
                        service or application permission to invoke the function. For more information, see
                        <a href="./lambda/latest/dg/API_AddPermission.html" target="_blank">AddPermission</a> in the
                        <em>AWS Lambda Developer Guide</em>.
                     </p>
                     <div class="highlights" id="inline-topiclist">
                        <p><strong>Topics</strong></p>
                        <ul>
                           <li><a href="#aws-resource-lambda-permission-syntax">Syntax</a></li>
                           <li><a href="#w2ab2c21c10d845b9">Properties</a></li>
                           <li><a href="#w2ab2c21c10d845c11">Example</a></li>
                        </ul>
                     </div>
                     <h2 id="aws-resource-lambda-permission-syntax">Syntax</h2>
                     
                     
                     <p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p>
                     
                     <div id="JSON" name="JSON" class="section langfilter">
                        <h3 id="aws-resource-lambda-permission-syntax.json">JSON</h3>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">{
  &quot;Type&quot; : &quot;AWS::Lambda::Permission&quot;,
  &quot;Properties&quot; : {
    &quot;<a href="aws-resource-lambda-permission.html#cfn-lambda-permission-action"><code class="code">Action</code></a>&quot; : <em class="replaceable"><code>String</code></em>,
    &quot;<a href="aws-resource-lambda-permission.html#cfn-lambda-permission-eventsourcetoken"><code class="code">EventSourceToken</code></a>&quot; : <em class="replaceable"><code>String</code></em>,
    &quot;<a href="aws-resource-lambda-permission.html#cfn-lambda-permission-functionname"><code class="code">FunctionName</code></a>&quot; : <em class="replaceable"><code>String</code></em>,
    &quot;<a href="aws-resource-lambda-permission.html#cfn-lambda-permission-principal"><code class="code">Principal</code></a>&quot; : <em class="replaceable"><code>String</code></em>,
    &quot;<a href="aws-resource-lambda-permission.html#cfn-lambda-permission-sourceaccount"><code class="code">SourceAccount</code></a>&quot; : <em class="replaceable"><code>String</code></em>,
    &quot;<a href="aws-resource-lambda-permission.html#cfn-lambda-permission-sourcearn"><code class="code">SourceArn</code></a>&quot; : <em class="replaceable"><code>String</code></em>
  }
}</code></pre>
                        </div>
                     
                     <div id="YAML" name="YAML" class="section langfilter">
                        <h3 id="aws-resource-lambda-permission-syntax.yaml">YAML</h3>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">Type: &quot;AWS::Lambda::Permission&quot;
Properties: 
  <a href="aws-resource-lambda-permission.html#cfn-lambda-permission-action"><code class="code">Action</code></a>: <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-lambda-permission.html#cfn-lambda-permission-eventsourcetoken"><code class="code">EventSourceToken</code></a>: <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-lambda-permission.html#cfn-lambda-permission-functionname"><code class="code">FunctionName</code></a>: <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-lambda-permission.html#cfn-lambda-permission-principal"><code class="code">Principal</code></a>: <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-lambda-permission.html#cfn-lambda-permission-sourceaccount"><code class="code">SourceAccount</code></a>: <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-lambda-permission.html#cfn-lambda-permission-sourcearn"><code class="code">SourceArn</code></a>: <em class="replaceable"><code>String</code></em>
</code></pre>
                        </div>
                     
                     <h2 id="w2ab2c21c10d845b9">Properties</h2>
                     
                     <p>For more information and current valid values, see <a href="./lambda/latest/dg/API_AddPermission.html" target="_blank">AddPermission</a> in the <em>AWS Lambda Developer Guide</em>.
                     </p>
                     
                     <div class="variablelist">
                        
                        
                        
                        
                        
                        
                        
                        <dl>
                           
                           <dt><a id="cfn-lambda-permission-action"></a><span class="term"><code class="code">Action</code></span></dt>
                           
                           <dd>
                              
                              <p>The Lambda actions that you want to allow in this statement. For example, you can
                                 specify <code class="code">lambda:CreateFunction</code> to specify a certain action, or use a wildcard (<code class="code">lambda:*</code>) to grant permission to all Lambda actions. For a list of actions, see <a href="./IAM/latest/UserGuide/list_lambda.html" target="_blank">Actions and Condition Context Keys for AWS Lambda</a> in the <em>IAM User Guide</em>.
                              </p>
                              
                              <p><em>Required</em>: Yes
                              </p>
                              
                              <p><em>Type</em>: String
                              </p>
                              
                              <p><em>Update requires</em>: <a href="using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-lambda-permission-eventsourcetoken"></a><span class="term"><code class="code">EventSourceToken</code></span></dt>
                           
                           <dd>
                              
                              <p>A unique token that must be supplied by the principal invoking the function.</p>
                              
                              <p><em>Required</em>: No
                              </p>
                              
                              <p><em>Type</em>: String
                              </p>
                              
                              <p><em>Update requires</em>: <a href="using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-lambda-permission-functionname"></a><span class="term"><code class="code">FunctionName</code></span></dt>
                           
                           <dd>
                              
                              <p>The name (physical ID), Amazon Resource Name (ARN), or alias ARN of the Lambda
                                 function that you want to associate with this statement. Lambda adds this statement
                                 to the function&apos;s access policy.
                              </p>
                              
                              <p><em>Required</em>: Yes
                              </p>
                              
                              <p><em>Type</em>: String
                              </p>
                              
                              <p><em>Update requires</em>: <a href="using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-lambda-permission-principal"></a><span class="term"><code class="code">Principal</code></span></dt>
                           
                           <dd>
                              
                              <p>The entity for which you are granting permission to invoke the Lambda function.
                                 This entity can be any valid AWS service principal, such as
                                 <code class="code">s3.amazonaws.com</code> or <code class="code">sns.amazonaws.com</code>, or, if you are
                                 granting cross-account permission, an AWS account ID. For example, you might want
                                 to allow a custom application in another AWS account to push events to Lambda by
                                 invoking your function.
                              </p>
                              
                              <p><em>Required</em>: Yes
                              </p>
                              
                              <p><em>Type</em>: String
                              </p>
                              
                              <p><em>Update requires</em>: <a href="using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-lambda-permission-sourceaccount"></a><span class="term"><code class="code">SourceAccount</code></span></dt>
                           
                           <dd>
                              
                              <p>The AWS account ID (without hyphens) of the source owner. For example, if you
                                 specify an S3 bucket in the <code class="code">SourceArn</code> property, this value is the
                                 bucket owner&apos;s account ID. You can use this property to ensure that all source
                                 principals are owned by a specific account.
                              </p>
                              
                              <div class="aws-note">
                                 <p class="aws-note">Important</p>
                                 <p>This property is not supported by all event sources. For more information, see the
                                    <code class="code">SourceAccount</code> parameter for the <a href="./lambda/latest/dg/API_AddPermission.html" target="_blank">AddPermission</a> action in the <em>AWS Lambda Developer Guide</em>.
                                 </p>
                              </div>
                              
                              <p><em>Required</em>: No
                              </p>
                              
                              <p><em>Type</em>: String
                              </p>
                              
                              <p><em>Update requires</em>: <a href="using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-lambda-permission-sourcearn"></a><span class="term"><code class="code">SourceArn</code></span></dt>
                           
                           <dd>
                              
                              <p>The ARN of a resource that is invoking your function. When granting Amazon Simple
                                 Storage Service
                                 (Amazon S3) permission to invoke your function, specify this property with the bucket
                                 ARN as its value. This ensures that events generated only from the specified
                                 bucket, not just any bucket from any AWS account that creates a mapping to your
                                 function, can invoke the function.
                              </p>
                              
                              <div class="aws-note">
                                 <p class="aws-note">Important</p>
                                 <p>This property is not supported by all event sources. For more information, see the
                                    <code class="code">SourceArn</code> parameter for the <a href="./lambda/latest/dg/API_AddPermission.html" target="_blank">AddPermission</a> action in the <em>AWS Lambda Developer Guide</em>.
                                 </p>
                              </div>
                              
                              <p><em>Required</em>: No
                              </p>
                              
                              <p><em>Type</em>: String
                              </p>
                              
                              <p><em>Update requires</em>: <a href="using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a></p>
                              
                           </dd>
                           
                        </dl>
                     </div>
                     
                     <h2 id="w2ab2c21c10d845c11">Example</h2>
                     
                     
                     <p>The following example grants an S3 bucket permission to invoke a Lambda function.</p>
                     
                     <div id="JSON" name="JSON" class="section langfilter">
                        <h3 id="aws-resource-lambda-permission-example.json">JSON</h3>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">&quot;LambdaInvokePermission&quot;: {
	&quot;Type&quot;: &quot;AWS::Lambda::Permission&quot;,
	&quot;Properties&quot;: {
		&quot;FunctionName&quot;: {
			&quot;Fn::GetAtt&quot;: [
				&quot;MyLambdaFunction&quot;,
				&quot;Arn&quot;
			]
		},
		&quot;Action&quot;: &quot;lambda:InvokeFunction&quot;,
		&quot;Principal&quot;: &quot;s3.amazonaws.com&quot;,
		&quot;SourceAccount&quot;: {
			&quot;Ref&quot;: &quot;AWS::AccountId&quot;
		},
		&quot;SourceArn&quot;: {
			&quot;Fn::GetAtt&quot;: [
				&quot;MyBucket&quot;,
				&quot;Arn&quot;
			]
		}
	}
}</code></pre>
                        </div>
                     
                     <div id="YAML" name="YAML" class="section langfilter">
                        <h3 id="aws-resource-lambda-permission-example.yaml">YAML</h3>
                        
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">LambdaInvokePermission:
  Type: &apos;AWS::Lambda::Permission&apos;
  Properties:
    FunctionName: !GetAtt 
      - MyLambdaFunction
      - Arn
    Action: &apos;lambda:InvokeFunction&apos;
    Principal: s3.amazonaws.com
    SourceAccount: !Ref &apos;AWS::AccountId&apos;
    SourceArn: !GetAtt 
      - MyBucket
      - Arn</code></pre>
                        </div>
                     
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="aws-resource-lambda-function.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="aws-resource-lambda-version.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Syntax"><a class="pagetoc" href="#aws-resource-lambda-permission-syntax">Syntax</a></li>
                        <li class="pagetoc" name="Properties"><a class="pagetoc" href="#w2ab2c21c10d845b9">Properties</a></li>
                        <li class="pagetoc" name="Example"><a class="pagetoc" href="#w2ab2c21c10d845c11">Example</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='AWS CloudFormation';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='User Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>