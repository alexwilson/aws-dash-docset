<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Create an API as an Amazon S3 Proxy - Amazon API Gateway</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="api-gateway-tutorials.html" title="Samples and Tutorials">
      <link rel="prev" href="api-as-lambda-proxy-export-swagger-with-extensions.html" title="">
      <link rel="next" href="api-as-s3-proxy-export-swagger-with-extensions.html" title="Swagger Definitions of
      the
      Sample
      API as an Amazon S3 Proxy">
      <meta name="description" content="Learn how to create and configure an API in API Gateway as an Amazon S3 proxy.">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="Amazon API Gateway">
      <meta name="guide" content="Developer Guide">
      <meta name="guide-locale" content="en_us">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/apigateway/latest/developerguide/integrating-api-with-aws-services-s3.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="http://aws.amazon.com/documentation">AWS Documentation</a> &#xBB; <a href="http://aws.amazon.com/documentation/apigateway">Amazon API Gateway</a> &#xBB; <a href="index.html">Developer Guide</a> &#xBB; <a href="api-gateway-tutorials.html">Samples and Tutorials</a> &#xBB; <span class="breadcrumb">Create an API as an Amazon S3 Proxy</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div></div>
                     <h1 class="topictitle" id="integrating-api-with-aws-services-s3">Create an API as an Amazon S3 Proxy</h1>
                     <p>As an example to showcase using an API in API Gateway to proxy Amazon S3, 
                        this section describes how to create and configure an API to expose the following
                        Amazon S3 operations: 
                     </p>
                     <div class="itemizedlist">
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p>Expose GET on the API&apos;s root resource to <a href="./AmazonS3/latest/API/RESTServiceGET.html" target="_blank">list all of the Amazon S3 buckets of a
                                    caller</a>.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>Expose GET on a Folder resource to <a href="./AmazonS3/latest/API/RESTBucketGET.html" target="_blank">view a list of all of the objects in an Amazon S3 bucket</a>.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>Expose PUT on a Folder resource to <a href="./AmazonS3/latest/API/RESTBucketPUT.html" target="_blank">add a bucket to Amazon S3</a>.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>Expose DELETE on a Folder resource to <a href="./AmazonS3/latest/API/RESTBucketDELETE.html" target="_blank">remove a bucket from
                                    Amazon S3</a>.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>Expose GET on a Folder/Item resource to <a href="./AmazonS3/latest/API/RESTObjectGET.html" target="_blank">view or download an object from an Amazon S3
                                    bucket</a>.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>Expose PUT on a Folder/Item resource to <a href="./AmazonS3/latest/API/RESTObjectPUT.html" target="_blank">upload an object to an Amazon S3
                                    bucket</a>.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>Expose HEAD on a Folder/Item resource to <a href="./AmazonS3/latest/API/RESTObjectHEAD.html" target="_blank">get object metadata in an Amazon S3
                                    bucket</a>.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>Expose DELETE on a Folder/Item resource to <a href="./AmazonS3/latest/API/RESTObjectDELETE.html" target="_blank">remove an object from an Amazon S3
                                    bucket</a>.
                              </p>
                              
                           </li>
                        </ul>
                     </div>
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>
                           To integrate your API Gateway API with Amazon S3, you must choose a region where both
                           the API Gateway and Amazon S3 services are available. For region availability, see
                           <a href="./general/latest/gr/rande.html#apigateway_region" target="_blank">Regions and Endpoints</a>.
                           
                        </p>
                     </div>
                     <p> 
                        You may want to import the sample API as an Amazon S3 proxy, as shown in <a href="api-as-s3-proxy-export-swagger-with-extensions.html">Swagger Definitions of
                           the
                           Sample
                           API as an Amazon S3 Proxy</a>. For instructions on
                        how to import an API using the Swagger definition, see <a href="api-gateway-import-api.html">Import an API into API Gateway</a>. 
                        
                     </p>
                     <p> 
                        To use the API Gateway console to create the API, you must first sign up for an AWS
                        account. 
                        
                     </p>
                     <p>If you do not have an AWS account, use the following procedure to create one.</p>
                     <p class="title"><b>To sign up for AWS</b></p>
                     <ol>
                        <li>
                           <p>Open <a href="https://aws.amazon.com/" target="_blank">https://aws.amazon.com/</a> and 
                              choose <b>Create an AWS Account</b>.
                           </p>
                        </li>
                        <li>
                           <p>Follow the online instructions.</p>
                        </li>
                     </ol>
                     <div class="highlights">
                        <p><strong>Topics</strong></p>
                        <ul>
                           <li><a href="#api-as-s3-proxy-iam-permissions">Set Up IAM Permissions for the API to Invoke Amazon S3 Actions</a></li>
                           <li><a href="#api-as-s3-proxy-create-resources">Create API Resources to Represent Amazon S3 Resources</a></li>
                           <li><a href="#api-root-get-as-s3-get-service">Expose an API Method to List the Caller&apos;s Amazon S3
                                 Buckets</a></li>
                           <li><a href="#api-folder-operations-as-s3-bucket-actions">Expose API Methods to Access an Amazon S3 Bucket</a></li>
                           <li><a href="#api-items-in-folder-as-s3-objects-in-bucket">Expose API Methods to Access an Amazon S3 Object in a Bucket</a></li>
                           <li><a href="#api-as-s3-proxy-test-using-postman">Call the API Using a REST API Client</a></li>
                           <li><a href="api-as-s3-proxy-export-swagger-with-extensions.html">Swagger Definitions of
                                 the
                                 Sample
                                 API as an Amazon S3 Proxy</a></li>
                        </ul>
                     </div>
                     <h2 id="api-as-s3-proxy-iam-permissions">Set Up IAM Permissions for the API to Invoke Amazon S3 Actions</h2>
                     
                     
                     <p>To allow the API to invoke required Amazon S3 actions, you must have appropriate IAM
                        policies attached to an IAM role. The next section describes how to verify and to
                        create,
                        if necessary, the required IAM role and policies. 
                     </p>
                     
                     <p> For your API to view or list Amazon S3 buckets and objects, you can use the IAM-provided
                        AmazonS3ReadOnlyAccess policy in the IAM role.  The ARN of this policy is
                        <code class="code">arn:aws:iam::aws:policy/AmazonS3ReadOnlyAccess</code>, which is as shown as
                        follows: 
                     </p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">{
    &quot;Version&quot;: &quot;2012-10-17&quot;,
    &quot;Statement&quot;: [
        {
            &quot;Effect&quot;: &quot;Allow&quot;,
            &quot;Action&quot;: [
                &quot;s3:Get*&quot;,
                &quot;s3:List*&quot;
            ],
            &quot;Resource&quot;: &quot;*&quot;
        }
    ]
}</code></pre>
                     <p> This policy document states that any of the Amazon S3 <code class="code">Get*</code> and
                        <code class="code">List*</code> actions can be invoked on any of the Amazon S3 resources. 
                     </p>
                     
                     <p> For your API to update Amazon S3 buckets and objects , you can use a custom policy
                        for any
                        of the Amazon S3 <code class="code">Put*</code> actions as shown as follows: 
                     </p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">{
    &quot;Version&quot;: &quot;2012-10-17&quot;,
    &quot;Statement&quot;: [
        {
            &quot;Effect&quot;: &quot;Allow&quot;,
            &quot;Action&quot;: &quot;s3:Put*&quot;,
            &quot;Resource&quot;: &quot;*&quot;
        }
    ]
}           </code></pre>
                     <p> For your API to work with Amazon S3 <code class="code">Get*</code>, <code class="code">List*</code> and
                        <code class="code">Put*</code> actions, you can add the above read-only and put-only policies to
                        the IAM role.
                     </p>
                     
                     <p> For your API to invoke the Amazon S3 <code class="code">Post*</code> actions, you must use an Allow
                        policy for the <code class="code">s3:Post*</code> actions in the IAM  role. For a complete list of
                        Amazon S3 actions, see <a href="./AmazonS3/latest/dev/using-with-s3-actions.html" target="_blank">Specifying Amazon S3 Permissions in a Policy</a>. 
                     </p>
                     
                     <p> For your API to create, view, update, and delete buckets and objects in Amazon S3,
                        you can
                        use the IAM -provided AmazonS3FullAccess policy in the IAM  role. The ARN is
                        <code class="code">arn:aws:iam::aws:policy/AmazonS3FullAccess</code>. 
                     </p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">{
    &quot;Version&quot;: &quot;2012-10-17&quot;,
    &quot;Statement&quot;: [
        {
            &quot;Effect&quot;: &quot;Allow&quot;,
            &quot;Action&quot;: &quot;s3:*&quot;,
            &quot;Resource&quot;: &quot;*&quot;
        }
    ]
}</code></pre>
                     <p>
                        
                     </p>
                     
                     <p> Having chosen the desired IAM policies to use, create an IAM role and attach to
                        it the policies. The resulting IAM role must contain the following trust policy for
                        API Gateway to assume this role at runtime. 
                     </p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">{
  &quot;Version&quot;: &quot;2012-10-17&quot;,
  &quot;Statement&quot;: [
    {
      &quot;Sid&quot;: &quot;&quot;,
      &quot;Effect&quot;: &quot;Allow&quot;,
      &quot;Principal&quot;: {
        &quot;Service&quot;: &quot;apigateway.amazonaws.com&quot;
      },
      &quot;Action&quot;: &quot;sts:AssumeRole&quot;
    }
  ]
} </code></pre>
                     <p> When using the IAM console to create the role, choose the
                        <b>Amazon API Gateway</b> role type to ensure that this trust policy is
                        automatically included. 
                     </p>
                     
                     <h2 id="api-as-s3-proxy-create-resources">Create API Resources to Represent Amazon S3 Resources</h2>
                     
                     
                     <p>We will use the API&apos;s root (<code class="code">/</code>) resource as the container of an authenticated caller&apos;s Amazon S3 buckets. 
                        We will also create a <code class="code">Folder</code> and <code class="code">Item</code> resources to represent a particular Amazon S3 bucket and 
                        a particular Amazon S3 object, respectively. The folder name and object key will be
                        specified, in the form of path parameters 
                        as part of a request URL, by the caller.
                        
                     </p>
                     
                     <p class="title"><b>To create an API resource that exposes the Amazon S3 service features</b></p>
                     <ol>
                        <li>
                           
                           <p> In the API Gateway console, create an API named <b>MyS3</b>. This
                              API&apos;s root resource (<b>/</b>) represents the Amazon S3 service.  
                           </p>
                           
                        </li>
                        <li>
                           
                           <p> Under the API&apos;s root resource, create a child resource named
                              <b>Folder</b> and set the required <b>Resource Path</b> as
                              <b>/{folder}</b>. 
                           </p>
                           
                        </li>
                        <li>
                           
                           <p> For the API&apos;s <b>Folder</b> resource, create an
                              <b>Item</b> child resource. Set the required <b>Resource
                                 Path</b> as <b>/{item}</b>.  
                           </p>
                           
                           <div class="mediaobject">
                              
                              <img src="../../..//img/aws_proxy_s3_create_api-resources.png" alt="
                                    Create an API in API Gateway as an Amazon S3 proxy
                                " style="max-width:100%">
                              
                              
                              
                           </div>
                           
                           
                        </li>
                     </ol>
                     
                     <h2 id="api-root-get-as-s3-get-service">Expose an API Method to List the Caller&apos;s Amazon S3
                        Buckets
                     </h2>
                     
                     
                     <p>Getting the list of Amazon S3 buckets of the caller involves invoking the <a href="./AmazonS3/latest/API/RESTServiceGET.html" target="_blank">GET Service</a>
                        action on Amazon S3. On the API&apos;s root resource, (<b>/</b>), create the GET method.
                        Configure the GET method to integrate with the Amazon S3, as follows. 
                     </p>
                     
                     <p class="title"><b>To create and initialize the API&apos;s <code class="code">GET /</code> method</b></p>
                     <ol>
                        <li>
                           
                           <p>Choose <b>Create method</b> on the root node (<code class="code">/</code>)
                              from the <b>Actions</b> drop-down menu at the top-right corner of
                              the <b>Resources</b> panel.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Choose the <code class="code">GET</code> from the drop-down list of HTTP verbs, and choose
                              the check-mark icon to start creating the method.
                           </p>
                           
                           
                           <div class="mediaobject">
                              
                              <img src="../../..//img/aws_proxy_apig_method_create.png" alt="
                        Create a method for integration with Amazon S3
                    " style="max-width:100%">
                              
                              
                              
                           </div>
                           
                        </li>
                        <li>
                           
                           <p>In the <b>/ - GET - Setup</b> pane, choose <b>AWS
                                 Service</b> for  <b>Integration type</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>From the list, choose a region (e.g., <code class="code">us-west-2</code>) for
                              <b>AWS Region</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>From <b>AWS Service</b>, choose <b>S3</b>.
                           </p>
                           
                        </li>
                        <li>
                           <p>For <b>AWS Subdomain</b>, leave it blank.
                           </p>
                        </li>
                        <li>
                           
                           <p>From <b>HTTP method</b>, choose <b>GET</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>For <b>Action Type</b>, choose <b>Use path
                                 override</b>. With path override, API Gateway forwards the client request
                              to Amazon S3 as the corresponding <a href="./AmazonS3/latest/dev/RESTAPI.html" target="_blank">Amazon S3 REST API
                                 path-style request</a>, in which a Amazon S3 resource is expressed by the
                              resource path of the <code class="code">s3-host-name/bucket/key</code> pattern. API Gateway sets
                              the <code class="code">s3-host-name</code> and passes the client specified
                              <code class="code">bucket</code> and <code class="code">key</code> from the client to Amazon S3.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>(Optional) In <b>Path override</b> type
                              <b>/</b>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Copy the previously created IAM role&apos;s ARN (from the IAM console) and
                              paste it into <b>Execution role</b>.
                           </p>
                           
                           
                        </li>
                        <li>
                           <p>Leave any other settings as default.</p>
                        </li>
                        <li>
                           
                           <p>Choose <b>Save</b> to finish setting up this method.
                           </p>
                           
                        </li>
                     </ol>
                     
                     <p>This setup integrates the frontend <code class="code">GET
                           https://<em class="replaceable"><code>your-api-host</code></em>/<em class="replaceable"><code>stage</code></em>/</code>
                        request with the backend <code class="code">GET
                           https://<em class="replaceable"><code>your-s3-host</code></em>/</code>.
                     </p>
                     
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p> After the initial setup, you can modify these settings in the <b>Integration
                              Request</b> page of the method. 
                        </p>
                     </div>
                     
                     <p>To control who can call this method of our API, we  turn on the method authorization
                        flag
                        and set it to <code class="literal">AWS_IAM</code>. 
                     </p>
                     
                     <p class="title"><b>To enable IAM to control access to the GET / method</b></p>
                     <ol>
                        <li>
                           <p>From the <b>Method Execution</b>, choose <b>Method Request</b>.
                           </p>
                        </li>
                        <li>
                           <p>Choose the pencil icon next to <b>Authorization</b></p>
                        </li>
                        <li>
                           <p>Choose <code class="literal">AWS_IAM</code> from the drop-down list.
                           </p>
                        </li>
                        <li>
                           
                           <p>Choose the check-mark icon to save the setting.</p>
                           
                           <div class="mediaobject">
                              
                              <img src="../../..//img/aws_proxy_s3_setup_method_request_authorization.png" alt="
                Declare method response types
              " style="max-width:100%">
                              
                              
                              
                           </div>
                           
                        </li>
                     </ol>
                     
                     <p>
                        For our API to return successful responses and exceptions properly to the caller,
                        let us declare the 200, 400 and 500 
                        responses in <b>Method Response</b>. We use the default mapping for 200 responses so that backend 
                        responses of the status code not declared here will be returned to the caller as 200
                        ones.
                        
                     </p>
                     
                     <p class="title"><b>To declare  response types for the GET / method</b></p>
                     <ol>
                        <li>
                           
                           <p>From the <b>Method Execution</b> pane, choose the <b>Method Response</b> box. 
                              The API Gateway declares the 200 response by default.
                           </p>
                           
                           
                        </li>
                        <li>
                           <p>Choose <b>Add response</b>, enter <strong class="userinput"><code>400</code></strong> in the input text box, 
                              and choose the check-mark to finish the declaration.
                           </p>
                        </li>
                        <li>
                           
                           <p>Repeat the above step to declare the 500 response type. The final setting is shown
                              as follows:
                           </p>
                           
                           <div class="mediaobject">
                              
                              <img src="../../..//img/aws_proxy_s3_setup_method_response_types.png" alt="
                Declare method response types
              " style="max-width:100%">
                              
                              
                              
                           </div>
                           
                        </li>
                     </ol>
                     
                     <p>Because the successful integration response from Amazon S3 returns the bucket list
                        as an XML
                        payload and the default method response from API Gateway returns a JSON payload, we
                        must map the
                        backend Content-Type header parameter value to the frontend counterpart. Otherwise,
                        the
                        client will receive <code class="literal">application/json</code> for the content type when the response
                        body is actually an XML string. The following procedure shows how to set this up.
                        In addition,
                        we also want to display to the client other header parameters, such as Date and
                        Content-Length. 
                     </p>
                     
                     <p class="title"><b>To set up response header mappings for the GET / method</b></p>
                     <ol>
                        <li>
                           
                           <p> In the API Gateway console, choose <b>Method Response</b>. Add the
                              <b>Content-Type</b> header for the 200 response type. 
                           </p>
                           
                           <div class="mediaobject">
                              
                              <img src="../../..//img/aws_proxy_s3_setup_method_response_headers.png" alt="
                Declare method response headers
              " style="max-width:100%">
                              
                              
                              
                           </div>
                           
                        </li>
                        <li>
                           
                           <p> In <b>Integration Response</b>, for <b>Content-Type</b>,
                              type <code class="code">integration.response.header.Content-Type</code> for the method response. 
                           </p>
                           
                           <div class="mediaobject">
                              
                              <img src="../../..//img/aws_proxy_s3_setup_integration_response_headers.png" alt="
                Map integration response headers to method response headers
              " style="max-width:100%">
                              
                              
                              
                           </div>
                           
                           <p>With the above header mappings, API Gateway will translate the <code class="literal">Date</code> header from the backend to the <code class="literal">Timestamp</code> header for the client. 
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Still in <b>Integration Response</b>, choose <b>Add integration response</b>,  type an appropriate regular expression in the <b>HTTP status regex</b> text box for a remaining method response status. Repeat until all the method response
                              status are covered.
                           </p>
                           
                           <div class="mediaobject">
                              
                              <img src="../../..//img/aws_proxy_s3_setup_integration_response_status.png" alt="
                Set up integration response status codes
              " style="max-width:100%">
                              
                              
                              
                           </div>
                           
                           
                        </li>
                     </ol>
                     
                     <p>As a good practice, let us test our API we have configured so far.</p>
                     
                     <p class="title"><b>Test the GET method on the API root resource</b></p>
                     <ol>
                        <li>
                           
                           <p>Go back to <b>Method Execution</b>, choose <b>Test</b>
                              from the <b>Client</b> box.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Choose <b>Test</b> in the <b>GET / - Method Test</b> pane.
                              An example result is shown as follows. 
                           </p>
                           
                           <div class="mediaobject">
                              
                              <img src="../../..//img/aws_proxy_s3_test_root_get_result.png" alt="
                Test API Root GET Bucket Result
              " style="max-width:100%">
                              
                              
                              
                           </div>
                           
                        </li>
                     </ol>
                     
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p> To use the API Gateway console to test the API as an Amazon S3 proxy, make sure that
                           the targeted S3
                           bucket is from a different region from the API&apos;s region. Otherwise, you may get a
                           500 Internal
                           Server Error response. This limitation does not apply to any deployed API. 
                        </p>
                     </div>
                     
                     <h2 id="api-folder-operations-as-s3-bucket-actions">Expose API Methods to Access an Amazon S3 Bucket</h2>
                     
                     
                     <p>To work with an Amazon S3 bucket, we expose the GET, PUT, and DELETE methods on the
                        /{folder} resource to list objects in a bucket, create a new bucket, and delete an
                        existing
                        bucket. The instructions are  similar  to those prescribed in <a href="integrating-api-with-aws-services-s3.html#api-root-get-as-s3-get-service">Expose an API Method to List the Caller&apos;s Amazon S3
                           Buckets</a>.
                        In the following discussions, we outline the general tasks and highlight  relevant
                        differences.
                     </p>
                     
                     
                     <p class="title"><b>To expose GET, PUT and DELETE methods on a folder resource</b></p>
                     <ol>
                        <li>
                           
                           <p> On the <b>/{folder}</b> node from the
                              <b>Resources</b> tree, create the DELETE, GET and PUT methods, one at a
                              time. 
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Set up the initial integration of each created method with its corresponding
                              Amazon S3 endpoints. The following screen shot illustrates this setting for the <code class="code">PUT
                                 /{folder}</code> method. For the <code class="code">DELETE /{folder}</code> and <code class="code">GET
                                 /{folder}</code> method, replace the <code class="literal">PUT</code> value of <b>HTTP
                                 method</b> by <code class="literal">DELETE</code> and <code class="literal">GET</code>,
                              respectively.
                           </p>
                           
                           <div class="mediaobject">
                              
                              <img src="../../..//img/aws_proxy_s3_create_methods_on_folder.png" alt="
                          Set up PUT /{folder} method
                        " style="max-width:100%">
                              
                              
                              
                           </div>
                           
                           
                           <p>Notice that we used the <code class="literal">{bucket}</code> path parameter in the Amazon S3 endpoint URLs to specify the bucket. We will need
                              to map the <code class="literal">{folder}</code> path parameter of the method requests to the <code class="literal">{bucket}</code> path parameter of the integration requests.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>To map <code class="literal">{folder}</code> to <code class="literal">{bucket}</code>:
                           </p>
                           
                           <ol>
                              <li>
                                 <p>Choose <b>Method Execution</b> and then <b>Integration Request</b>.
                                 </p>
                              </li>
                              <li>
                                 <p>Expand <b>URL Path Parameters</b> and choose <b>Add path</b></p>
                              </li>
                              <li>
                                 
                                 <p>Type <code class="literal">bucket</code> in the <b>Name</b> column and <code class="literal">method.request.path.folder</code> in the <b>Mapped from</b> column. Choose the check-mark icon to save the mapping.
                                 </p>
                                 
                                 <div class="mediaobject">
                                    
                                    <img src="../../..//img/aws_proxy_s3_create_methods_on_folder_map_path_parameter.png" alt="
                              Set up PUT /{folder} method
                            " style="max-width:100%">
                                    
                                    
                                    
                                 </div>
                                 
                              </li>
                           </ol>
                           
                           
                        </li>
                        <li>
                           
                           <p>In <b>Method Request</b>, add the <code class="literal">Content-Type</code> to the <b>HTTP Request Headers</b> section.
                           </p>
                           
                           <div class="mediaobject">
                              
                              <img src="../../..//img/aws_proxy_s3_create_methods_on_folder_setup_request_header.png" alt="
                          Set up PUT /{folder} method
                        " style="max-width:100%">
                              
                              
                              
                           </div>
                           
                           <p> This is mostly needed for testing, when using the API Gateway console, when you must
                              specify <strong class="userinput"><code>application/xml</code></strong> for an XML payload.
                           </p>
                        </li>
                        <li>
                           
                           <p>In <b>Integration Request</b>, set up the following header mappings, following the instructions described in <a href="integrating-api-with-aws-services-s3.html#api-root-get-as-s3-get-service">Expose an API Method to List the Caller&apos;s Amazon S3
                                 Buckets</a>.
                           </p>
                           
                           <div class="mediaobject">
                              
                              <img src="../../..//img/aws_proxy_s3_create_methods_on_folder_header_mappings.png" alt="
                        Set up header mappings for the PUT /{folder} method
                      " style="max-width:100%">
                              
                              
                              
                           </div>
                           
                           <p>
                              The <code class="literal">x-amz-acl</code> header is for specifying access control on the folder (or the corresponding Amazon
                              S3 bucket).  For more information, see <a href="./AmazonS3/latest/API/RESTBucketPUT.html#RESTBucketPUT-requests" target="_blank">Amazon S3 PUT Bucket Request</a>. 
                              
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>To test the <code class="literal">PUT</code> method, choose <b>Test</b> in the <b>Client</b> box from  <b>Method
                                 Execution</b>, and enter the following as input to the testing: 
                           </p>
                           
                           <ol>
                              <li>
                                 <p>In <b>folder</b>, type  a bucket name,
                                 </p>
                              </li>
                              <li>
                                 <p>For the <b>Content-Type</b> header, type <strong class="userinput"><code>application/xml</code></strong>.
                                 </p>
                              </li>
                              <li>
                                 
                                 <p>In <b>Request Body</b>, provide the bucket region as the location constraint, declared in an XML fragment
                                    as the request payload. For example,
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">&lt;CreateBucketConfiguration xmlns=&quot;http://s3.amazonaws.com/doc/2006-03-01/&quot;&gt; 
   &lt;LocationConstraint&gt;<em class="replaceable"><code>{region}</code></em>&lt;/LocationConstraint&gt; 
&lt;/CreateBucketConfiguration&gt;</code></pre>
                                 <div class="mediaobject">
                                    
                                    <img src="../../..//img/aws_proxy_s3_test_api_folder_put.png" alt="
                              Test the PUT method to create an Amazon S3 bucket.
                            " style="max-width:100%">
                                    
                                    
                                    
                                 </div>
                                 
                                 
                              </li>
                           </ol>
                           
                        </li>
                        <li>
                           
                           <p> Repeat the preceding steps to create and configure the GET and DELETE
                              method on the API&apos;s <b>/{folder}</b> resource. 
                           </p>
                           
                        </li>
                     </ol>
                     
                     <p>The above examples illustrate how to create a new bucket in the specified region,
                        to
                        view the list of objects in the bucket, and to delete the bucket. Other Amazon S3
                        bucket operations
                        allow you work with the metadata or properties of the bucket. For example, you can
                        set up your
                        API to call the Amazon S3&apos;s <a href="./AmazonS3/latest/API/RESTBucketPUTnotification.html#RESTBucketPUTnotification-requests" target="_blank">PUT /?notification</a> action to set up notifications on the bucket, to call <a href="./AmazonS3/latest/API/RESTBucketPUTacl.html#RESTBucketPUTacl-requests" target="_blank">PUT /?acl</a> to set an access control list on the bucket, etc. The API set up is
                        similar, except for that you must append appropriate query parameters to the Amazon
                        S3 endpoint
                        URLs. At run time, you must provide the appropriate XML payload to the method request.
                        The
                        same can be said about supporting the other GET and DELETE operations on a Amazon
                        S3 bucket. For
                        more information on possible &amp;S3; actions on a bucket, see <a href="./AmazonS3/latest/API/RESTBucketOps.html" target="_blank">Amazon S3 Operations on
                           Buckets</a>.
                     </p>
                     
                     <h2 id="api-items-in-folder-as-s3-objects-in-bucket">Expose API Methods to Access an Amazon S3 Object in a Bucket</h2>
                     
                     
                     
                     <p>Amazon S3 supports GET, DELETE, HEAD, OPTIONS, POST and PUT actions to access and
                        manage objects in a given bucket. For the complete list of supported actions, see
                        <a href="./AmazonS3/latest/API/RESTObjectOps.html" target="_blank">Amazon S3 Operations on Objects</a>.
                     </p>
                     
                     
                     <p>In this tutorial, we expose the <a href="./AmazonS3/latest/API/RESTObjectPUT.html" target="_blank">PUT
                           Object</a> operation,
                        the
                        <a href="./AmazonS3/latest/API/RESTObjectGET.html" target="_blank">GET Object</a>
                        operation, <a href="./AmazonS3/latest/API/RESTObjectHEAD.html" target="_blank">HEAD Object</a>
                        operation, and the <a href="./AmazonS3/latest/API/RESTObjectDELETE.html" target="_blank">DELETE Object</a>
                        operation through the API methods of <code class="literal">PUT /{folder}/{item}</code>, <code class="literal">GET
                           /{folder}/{item}</code>, <code class="literal">HEAD /{folder}/{item}</code> and <code class="literal">DELETE
                           /{folder}/{item}</code>, respectively.
                     </p>
                     
                     
                     <p>The API setups for the PUT, GET and DELETE methods on <code class="literal">/{folder}/{item}</code> are the similar to those on <code class="literal">/{folder}</code>, as prescribed in <a href="integrating-api-with-aws-services-s3.html#api-folder-operations-as-s3-bucket-actions">Expose API Methods to Access an Amazon S3 Bucket</a>. One major difference
                        is that the object-related request path has an additional path parameter of <code class="literal">{item}</code> and this path parameter must be mapped to the
                        integration request path parameter of <code class="code">{object}</code>.   
                     </p>
                     
                     
                     
                     
                     <div class="mediaobject">
                        
                        <img src="../../..//img/aws_proxy_s3_setup_object_integration_request.png" alt="
                  Integrate the PUT method request on /{folder}/{item} resource with Amazon S3
                " style="max-width:100%">
                        
                        
                        
                     </div>
                     
                     
                     
                     
                     <p>The same is true for the GET and DELETE methods.</p>
                     
                     
                     <p>As an illustration, the following screen shot shows the output when testing the GET
                        method on a <code class="literal">{folder}/{item}</code> resource using the API Gateway console. The request correctly returns the plain text
                        of (&quot;Welcome to README.txt&quot;) as the content of the specified file (README.txt) in
                        the given Amazon S3 bucket (apig-demo). 
                     </p>
                     
                     <div class="mediaobject">
                        
                        <img src="../../..//img/aws_proxy_s3_test_folder_item_get_result.png" alt="
                  Test API Folder/Item GET Bucket Result
                " style="max-width:100%">
                        
                        
                        
                     </div>
                     
                     
                     <p> To download or upload binary files, which in API Gateway is considered any thing
                        other
                        than utf-8 encoded JSON content, additional API settings are necessary. This is outlined
                        as follows: 
                     </p>
                     
                     <p class="title"><b>To download or upload binary files from S3</b></p>
                     <ol>
                        <li>
                           
                           <p>
                              Register the media types of the affected file to the API&apos;s binaryMediaTypes. You can
                              do this in the console:
                              
                           </p>
                           
                           <ol>
                              <li>
                                 <p>
                                    Choose <b>Binary Support</b> for the API (from the API Gateway primary navigation panel), 
                                 </p>
                              </li>
                              <li>
                                 <p>Choose <b>Edit</b>.
                                 </p>
                              </li>
                              <li>
                                 <p>Type the required media type (e.g., <code class="code">image/png</code> for <b>Binary media types</b>.
                                 </p>
                              </li>
                              <li>
                                 <p>Choose <b>Add binary media type</b> to save the setting.
                                 </p>
                              </li>
                           </ol>
                           
                        </li>
                        <li>
                           <p>Add the <code class="code">Content-Type</code> (for upload) and/or <code class="code">Accept</code> (for download) header to the method request to require the client to specify the
                              required binary media type and map them to the integration request.
                           </p>
                        </li>
                        <li>
                           <p>Set <b>Content Handling</b> to <code class="code">Passthrough</code> in the
                              integration request (for upload) and in a integration response (for download). Make
                              sure that no mapping template is defined for the affected content type. For more
                              information, see <a href="integration-passthrough-behaviors.html">Integration
                                 Passthrough Behaviors</a> and <a href="request-response-data-mappings.html#transforming-request-response-body">Select VTL Mapping
                                 Templates</a>.
                           </p>
                        </li>
                     </ol>
                     
                     <p>Make sure that files on Amazon S3 have the correct content types added as the files&apos;
                        metadata. For streamable media content, <code class="code">Content-Disposition:inline</code> may also need to be added to the metadata.
                     </p>
                     
                     <p>For more information about the binary support in API Gateway, see <a href="api-gateway-payload-encodings-workflow.html">Content Type Conversions in
                           API Gateway</a>.
                     </p>
                     
                     <h2 id="api-as-s3-proxy-test-using-postman">Call the API Using a REST API Client</h2>
                     
                     
                     <p>To provide an end-to-end tutorial, we now show how to call the API using <a href="https://www.getpostman.com/" target="_blank">Postman</a>, which supports the AWS IAM authorization.
                     </p>
                     <a id="api-as-s3-proxy-test-using-postman-steps"></a><p class="title"><b>To call our Amazon S3 proxy API using Postman</b></p>
                     <ol>
                        <li>
                           <p>Deploy or redeploy the API. Make a note of the base URL of the API that is displayed
                              next to <b>Invoke URL</b> at the top of the <b>Stage Editor</b>.
                           </p>
                        </li>
                        <li>
                           <p>Launch Postman.</p>
                        </li>
                        <li>
                           
                           <p>Choose <b>Authorization</b> and then choose <code class="literal">AWS Signature</code>. Type your IAM user&apos;s Access Key ID and Secret Access Key into the <b>AccessKey</b> and <b>SecretKey</b>input fields, respectively. Type the AWS region to which your API is deployed in the
                              <b>AWS Region</b> text box. Type <code class="literal">execute-api</code> in the <b>Service Name</b> input field.
                           </p>
                           
                           
                           <p>You can create a pair of the keys from the <b>Security Credentials</b> tab from your IAM user account in the IAM Management Console.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>To add a bucket named <code class="literal">apig-demo-5</code> to your Amazon S3 account in the <code class="literal"><em class="replaceable"><code>{region}</code></em></code> region:
                           </p>
                           
                           <div class="aws-note">
                              <p class="aws-note">Note</p>
                              <p>Be sure that the bucket name must be globally unique.</p>
                           </div>
                           
                           <ol>
                              <li>
                                 
                                 <p>Choose <b>PUT</b> from the drop-down method list and type the method URL (<code class="literal">https://<em class="replaceable"><code>api-id</code></em>.execute-api.<em class="replaceable"><code>aws-region</code></em>.amazonaws.com/<em class="replaceable"><code>stage</code></em>/<em class="replaceable"><code>folder-name</code></em></code></p>
                                 
                                 
                              </li>
                              <li>
                                 
                                 <p>Set the <code class="literal">Content-Type</code> header value as <code class="literal">application/xml</code>. You may need to delete any existing headers before setting the content type.
                                 </p>
                                 
                                 
                              </li>
                              <li>
                                 
                                 <p>Choose <b>Body</b> menu item and type the following XML fragment as the request body:
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">&lt;CreateBucketConfiguration&gt; 
  &lt;LocationConstraint&gt;<em class="replaceable"><code>{region}</code></em>&lt;/LocationConstraint&gt; 
&lt;/CreateBucketConfiguration&gt;</code></pre>
                                 
                                 </li>
                              <li>
                                 
                                 <p>Choose <b>Send</b> to submit the request. If successful, you should receive a <code class="literal">200 OK</code> response with an empty payload. 
                                 </p>
                                 
                              </li>
                           </ol>
                           
                        </li>
                        <li>
                           
                           <p>To add a text file to a bucket, follow the instructions above. If you specify a bucket
                              name of <strong class="userinput"><code>apig-demo-5</code></strong> for <code class="literal">{folder}</code> and a file name  of  <strong class="userinput"><code>Readme.txt</code></strong> for <code class="literal">{item}</code> in the URL and provide a text string of <strong class="userinput"><code>Hello, World!</code></strong> as the request payload, the request becomes
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">PUT /S3/apig-demo-5/Readme.txt HTTP/1.1
Host: 9gn28ca086.execute-api.<em class="replaceable"><code>{region}</code></em>.amazonaws.com
Content-Type: application/xml
X-Amz-Date: 20161015T062647Z
Authorization: AWS4-HMAC-SHA256 Credential=<em class="replaceable"><code>access-key-id</code></em>/20161015/<em class="replaceable"><code>{region}</code></em>/execute-api/aws4_request, SignedHeaders=content-length;content-type;host;x-amz-date, Signature=ccadb877bdb0d395ca38cc47e18a0d76bb5eaf17007d11e40bf6fb63d28c705b
Cache-Control: no-cache
Postman-Token: 6135d315-9cc4-8af8-1757-90871d00847e

Hello, World!</code></pre>
                           <p>If everything goes well, you should receive a <code class="literal">200 OK</code> response with an empty payload.
                           </p> 
                           
                        </li>
                        <li>
                           
                           <p>To get the content of the <code class="literal">Readme.txt</code> file we just added to the <code class="literal">apig-demo-5</code> bucket, do a GET request like the following one:
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">GET /S3/apig-demo-5/Readme.txt HTTP/1.1
Host: 9gn28ca086.execute-api.<em class="replaceable"><code>{region}</code></em>.amazonaws.com
Content-Type: application/xml
X-Amz-Date: 20161015T063759Z
Authorization: AWS4-HMAC-SHA256 Credential=<em class="replaceable"><code>access-key-id</code></em>/20161015/<em class="replaceable"><code>{region}</code></em>/execute-api/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=ba09b72b585acf0e578e6ad02555c00e24b420b59025bc7bb8d3f7aed1471339
Cache-Control: no-cache
Postman-Token: d60fcb59-d335-52f7-0025-5bd96928098a</code></pre>
                           <p>If successful, you should receive a <code class="literal">200 OK</code> response with the <code class="literal">Hello, World!</code> text string as the payload.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>To list items in the <code class="literal">apig-demo-5</code> bucket, submit the following request:
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">GET /S3/apig-demo-5 HTTP/1.1
Host: 9gn28ca086.execute-api.<em class="replaceable"><code>{region}</code></em>.amazonaws.com
Content-Type: application/xml
X-Amz-Date: 20161015T064324Z
Authorization: AWS4-HMAC-SHA256 Credential=<em class="replaceable"><code>access-key-id</code></em>/20161015/<em class="replaceable"><code>{region}</code></em>/execute-api/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=4ac9bd4574a14e01568134fd16814534d9951649d3a22b3b0db9f1f5cd4dd0ac
Cache-Control: no-cache
Postman-Token: 9c43020a-966f-61e1-81af-4c49ad8d1392
</code></pre>
                           <p>If successful, you should receive a <code class="literal">200 OK</code> response with an XML payload showing a single item in the specified bucket, unless
                              you added more files to the bucket before submitting this request.
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;ListBucketResult xmlns=&quot;http://s3.amazonaws.com/doc/2006-03-01/&quot;&gt;
    &lt;Name&gt;apig-demo-5&lt;/Name&gt;
    &lt;Prefix&gt;&lt;/Prefix&gt;
    &lt;Marker&gt;&lt;/Marker&gt;
    &lt;MaxKeys&gt;1000&lt;/MaxKeys&gt;
    &lt;IsTruncated&gt;false&lt;/IsTruncated&gt;
    &lt;Contents&gt;
        &lt;Key&gt;Readme.txt&lt;/Key&gt;
        &lt;LastModified&gt;2016-10-15T06:26:48.000Z&lt;/LastModified&gt;
        &lt;ETag&gt;&quot;65a8e27d8879283831b664bd8b7f0ad4&quot;&lt;/ETag&gt;
        &lt;Size&gt;13&lt;/Size&gt;
        &lt;Owner&gt;
            &lt;ID&gt;06e4b09e9d...603addd12ee&lt;/ID&gt;
            &lt;DisplayName&gt;<em class="replaceable"><code>user-name</code></em>&lt;/DisplayName&gt;
        &lt;/Owner&gt;
        &lt;StorageClass&gt;STANDARD&lt;/StorageClass&gt;
    &lt;/Contents&gt;
&lt;/ListBucketResult&gt;</code></pre>
                           </li>
                     </ol>
                     
                     
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>To upload or download an image, you need to set content handling to CONVERT_TO_BINARY.</p>
                     </div>
                     
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="api-as-lambda-proxy-export-swagger-with-extensions.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="api-as-s3-proxy-export-swagger-with-extensions.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Set Up IAM Permissions for the API to Invoke Amazon S3 Actions"><a class="pagetoc" href="#api-as-s3-proxy-iam-permissions">Set Up IAM Permissions for the API to Invoke Amazon S3 Actions</a></li>
                        <li class="pagetoc" name="Create API Resources to Represent Amazon S3 Resources"><a class="pagetoc" href="#api-as-s3-proxy-create-resources">Create API Resources to Represent Amazon S3 Resources</a></li>
                        <li class="pagetoc" name="Expose an API Method to List the Caller&apos;s Amazon S3
      Buckets"><a class="pagetoc" href="#api-root-get-as-s3-get-service">Expose an API Method to List the Caller&apos;s Amazon S3
                              Buckets</a></li>
                        <li class="pagetoc" name="Expose API Methods to Access an Amazon S3 Bucket"><a class="pagetoc" href="#api-folder-operations-as-s3-bucket-actions">Expose API Methods to Access an Amazon S3 Bucket</a></li>
                        <li class="pagetoc" name="Expose API Methods to Access an Amazon S3 Object in a Bucket"><a class="pagetoc" href="#api-items-in-folder-as-s3-objects-in-bucket">Expose API Methods to Access an Amazon S3 Object in a Bucket</a></li>
                        <li class="pagetoc" name="Call the API Using a REST API Client"><a class="pagetoc" href="#api-as-s3-proxy-test-using-postman">Call the API Using a REST API Client</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='Amazon API Gateway';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='Developer Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>