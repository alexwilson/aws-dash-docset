<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Set up a Method Using the API Gateway
         Console - Amazon API Gateway
      </title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="how-to-method-settings.html" title="Set up API Methods in API Gateway ">
      <link rel="prev" href="api-gateway-method-settings-method-response.html" title="Set up Method Responses in
                API Gateway">
      <link rel="next" href="how-to-integration-settings.html" title="Set up API Integrations in API Gateway">
      <meta name="description" content="Before setting up an API method, verify the following:">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="Amazon API Gateway">
      <meta name="guide" content="Developer Guide">
      <meta name="guide-locale" content="en_us">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/apigateway/latest/developerguide/how-to-set-up-method-using-console.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="http://aws.amazon.com/documentation">AWS Documentation</a> &#xBB; <a href="http://aws.amazon.com/documentation/apigateway">Amazon API Gateway</a> &#xBB; <a href="index.html">Developer Guide</a> &#xBB; <a href="how-to-create-api.html">Creating an API in Amazon API Gateway</a> &#xBB; <a href="how-to-method-settings.html">Set up API Methods in API Gateway </a> &#xBB; <span class="breadcrumb">Set up a Method Using the API Gateway
                                    Console</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div></div>
                     <h1 class="topictitle" id="how-to-set-up-method-using-console">Set up a Method Using the API Gateway
                        Console
                     </h1>
                     <p>Before setting up an API method, verify the following:</p>
                     <div class="itemizedlist">
                        
                        
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p>You must have the method available in API Gateway. Follow the instructions in <a href="api-gateway-create-api-step-by-step.html">Build an API with HTTP Custom
                                    Integration</a>.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>If you want the method to communicate with a Lambda function, you must have
                                 already created the Lambda invocation role and Lambda execution role in IAM. You
                                 must also have created the Lambda function with which your method will
                                 communicate in AWS Lambda. To create the roles and function, use the instructions
                                 in <a href="getting-started-lambda-non-proxy-integration.html#getting-started-new-lambda">Create a Lambda Function for the Lambda
                                    Custom Integration</a> of the <a href="getting-started-with-lambda-integration.html">Build an API Gateway API with Lambda Integration</a>.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>If you want the method to communicate with an HTTP or HTTP proxy integration,
                                 you must have already created, and have access to, the HTTP endpoint URL with
                                 which your method will communicate.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p> Verify that your certificates for HTTP and HTTP proxy endpoints are supported
                                 by API Gateway. For details see <a href="api-gateway-supported-certificate-authorities-for-http-endpoints.html">API Gateway-Supported Certificate Authorities for HTTP and HTTP Proxy Integrations</a>. 
                              </p>
                              
                           </li>
                        </ul>
                     </div>
                     <div class="highlights" id="inline-topiclist">
                        <p><strong>Topics</strong></p>
                        <ul>
                           <li><a href="#how-to-method-settings-callers-console"> Set up an API Gateway Method
                                 Request in the API Gateway Console </a></li>
                           <li><a href="#how-to-method-response-settings-console"> Set up an API Gateway Method
                                 Response Using the API Gateway Console </a></li>
                        </ul>
                     </div>
                     
                     <h2 id="how-to-method-settings-callers-console"> Set up an API Gateway Method
                        Request in the API Gateway Console 
                     </h2>
                     
                     <p> To use the API Gateway console to specify an API&apos;s method request/response, and to
                        configure how the method will authorize requests, follow these instructions.
                     </p>
                     
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p> These instructions assume you have already completed the steps in <a href="how-to-method-settings-console.html"> Set up an API Integration Request
                              Using the API Gateway Console </a>. They are best used to
                           supplement the discussions given in <a href="getting-started-with-lambda-integration.html">Build an API Gateway API with Lambda Integration</a>.
                           
                        </p>
                     </div>
                     
                     <ol>
                        <li>
                           
                           <p>With the method selected in the <b>Resources</b> pane,
                              choose <b>Method Request</b> from the <b>Method
                                 Execution</b> pane.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p> Under <b>Settings</b>, choose the pencil icon to open the
                              <b>Authorization</b> drop-down menu and choose one of the
                              available authorizers. 
                           </p>
                           
                           <ol>
                              <li>
                                 
                                 <p>To enable open access to the method for any user, choose
                                    <code class="code">NONE</code>. This step can be skipped if the default
                                    setting has not been changed.
                                 </p>
                                 
                              </li>
                              <li>
                                 
                                 <p>To use IAM permissions to control the client access to the
                                    method, choose <code class="code">AWS_IAM</code>. With this choice, only users of
                                    the IAM roles with the correct IAM policy attached are allowed
                                    to call this method. 
                                 </p>
                                 
                                 <p>To create the IAM role, specify an access policy with a format
                                    like the following: 
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">{
  &quot;Version&quot;: &quot;2012-10-17&quot;,
  &quot;Statement&quot;: [
    {
      &quot;Effect&quot;: &quot;Allow&quot;,
      &quot;Action&quot;: [
        &quot;execute-api:Invoke&quot;
      ],
      &quot;Resource&quot;: [
        &quot;<em class="replaceable"><code>resource-statement</code></em>&quot;
      ]
    }
  ]
}  </code></pre>
                                 <p>In this access policy,
                                    <em class="replaceable"><code>resource-statement</code></em> is the value of
                                    the <b>ARN</b> field in the <b>Authorization
                                       Settings</b> section. For more information about setting
                                    the IAM permissions, see <a href="permissions.html">Control Access to an API with IAM Permissions</a>. 
                                 </p>
                                 
                                 <p>To create the IAM role, you can adapt the instructions in &quot;To
                                    create the Lambda invocation role and its policy&quot; and &quot;To create the
                                    Lambda execution role and its policy&quot; in the <a href="getting-started-lambda-non-proxy-integration.html#getting-started-new-lambda">Create Lambda
                                       Functions</a> section of the <a href="getting-started-with-lambda-integration.html">Build an API Gateway API with Lambda Integration</a>.
                                 </p>
                                 
                                 <p>To save your choice, choose <b>Update</b>.
                                    Otherwise, choose <b>Cancel</b>.
                                 </p>
                                 
                              </li>
                              <li>
                                 
                                 <p> To use a Lambda authorizer, choose one under <b>Token
                                       authorizer</b>. You must have created a Lambda authorizer
                                    to have this choice displayed in the drop-down menu. For information
                                    on how to create a Lambda authorizer, see <a href="apigateway-use-lambda-authorizer.html">Use API Gateway Lambda Authorizers</a>. 
                                 </p>
                                 
                              </li>
                              <li>
                                 
                                 <p> To use an Amazon Cognito user pool, choose an available user pool under
                                    <b>Cognito user pool authorizers</b>. You must
                                    have created a user pool in Amazon Cognito and an Amazon Cognito user pool authorizer
                                    in API Gateway to have this choice displayed in the drop-down menu. For
                                    information on how to create an Amazon Cognito user pool authorizer, see
                                    <a href="apigateway-integrate-with-cognito.html">Use Amazon Cognito User Pools</a>. 
                                 </p>
                                 
                              </li>
                           </ol>
                           
                        </li>
                        <li>
                           
                           <p> To enable or disable request validation, choose the pencil icon from the
                              <b>Request Validator</b> drop-down menu and choose one of
                              the listed options. For more information about each option, see <a href="api-gateway-method-request-validation.html">Enable Request Validation in API Gateway</a>. 
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>To require an API key, choose the pencil icon to open the <b>API
                                 Key Required</b> drop-down menu and choose either
                              <code class="code">true</code> or <code class="code">false</code> according to your API
                              requirements. When enabled, API keys are used in <a href="api-gateway-api-usage-plans.html">usage plans</a> to throttle
                              client traffic. 
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>To add a query string parameter to the method, do the following:</p>
                           
                           <ol>
                              <li>
                                 
                                 <p>Choose the arrow next to <b>URL Query String
                                       Parameters</b>, and then choose <b>Add query
                                       string</b>.
                                 </p>
                                 
                              </li>
                              <li>
                                 
                                 <p>For <b>Name</b>, type the name of the query string
                                    parameter.
                                 </p>
                                 
                              </li>
                              <li>
                                 
                                 <p>Choose the check-mark icon to save the new query string parameter
                                    name.
                                 </p>
                                 
                              </li>
                              <li>
                                 
                                 <p>If the newly created query string parameter is to be used for
                                    request validation, choose the <b>Required</b> option.
                                    For more information about the request validation, see <a href="api-gateway-method-request-validation.html">Enable Request Validation in API Gateway</a>.
                                 </p>
                                 
                              </li>
                              <li>
                                 
                                 <p>If the newly created query string parameter is to be used as part
                                    of a caching key, check the <b>Caching</b> option.
                                    This is applicable only when caching is enabled. For more
                                    information about caching, see <a href="api-gateway-caching.html#enable-api-gateway-cache-keys">Use Method/Integration Parameters as Cache Keys</a>.
                                 </p>
                                 
                              </li>
                           </ol>
                           
                           <div class="aws-note">
                              <p class="aws-note">Tip</p>
                              <p>To remove the query string parameter, choose the
                                 <b>x</b>
                                 icon associated with it and then choose <b>Remove this parameter
                                    and any dependent parameters</b> to confirm the removal. 
                              </p>
                              <p>To change the name of the query string parameter, remove it and then
                                 create a new one.
                              </p>
                           </div>
                           
                        </li>
                        <li>
                           
                           <p>To add a header parameter to the method, do the following:</p>
                           
                           <ol>
                              <li>
                                 
                                 <p>Choose the arrow next to <b>HTTP Request
                                       Headers</b>, and then choose <b>Add
                                       header</b>.
                                 </p>
                                 
                              </li>
                              <li>
                                 
                                 <p>For <b>Name</b>, type the name of the header
                                    parameter and then choose the check-mark icon to save the
                                    settings.
                                 </p>
                                 
                              </li>
                              <li>
                                 
                                 <p>If the newly created header parameter is to be used for request
                                    validation, choose the <b>Required</b> option. For
                                    more information about request validation, see <a href="api-gateway-method-request-validation.html">Enable Request Validation in API Gateway</a>.
                                 </p>
                                 
                              </li>
                              <li>
                                 
                                 <p>If the newly created header parameter is to be used as part of a
                                    caching key, choose the <b>Caching</b> option. This is
                                    applicable only when caching is enabled. For more information about
                                    caching, see <a href="api-gateway-caching.html#enable-api-gateway-cache-keys">Use Method/Integration Parameters as Cache Keys</a>.
                                 </p>
                                 
                              </li>
                           </ol>
                           
                           <div class="aws-note">
                              <p class="aws-note">Tip</p>
                              <p>To remove the header parameter, choose the <b>x</b> icon
                                 associated with it and then choose <b>Remove this parameter and
                                    any dependent parameters</b> to confirm the removal. 
                              </p>
                              <p>To change the name of the header parameter, remove it and then create
                                 a new one.
                              </p>
                           </div>
                           
                        </li>
                        <li>
                           
                           <p> To declare the payload format of a method request with the
                              <code class="code">POST</code>, <code class="code">PUT</code>, or <code class="code">PATCH</code> HTTP verb,
                              expand <b>Request Body</b>, and do the following: 
                           </p>
                           
                           <ol>
                              <li>
                                 
                                 <p>Choose <b>Add model</b>.
                                 </p>
                                 
                              </li>
                              <li>
                                 
                                 <p>Type a MIME-type (for example, <code class="code">application/json</code>) for
                                    <b>Content type</b>.
                                 </p>
                                 
                              </li>
                              <li>
                                 
                                 <p>Open the <b>Model name</b> drop-down menu to choose
                                    an available model for the payload and choose the check-mark icon to
                                    save the settings.
                                 </p>
                                 
                                 <p>The currently available models for the API include the default
                                    <code class="code">Empty</code> and <code class="code">Error</code> models as well as any
                                    models you have created and added to the <a href="./apigateway/api-reference/resource/models/" target="_blank">Models</a> collection of
                                    the API. For more information about creating a model, see <a href="how-to-create-model.html">Create a Model</a>. 
                                 </p>
                                 
                                 <div class="aws-note">
                                    <p class="aws-note">Note</p>
                                    <p> The model is useful to inform the client of the expected data
                                       format of a payload. It is helpful to generate a skeletal
                                       mapping template. It is important to generate a strongly typed
                                       SDK of the API in such languages as Java, C#, Objective-C, and
                                       Swift. It is only required if request validation is enabled
                                       against the payload. 
                                    </p>
                                 </div>
                                 
                              </li>
                           </ol>
                           
                        </li>
                        <li>
                           
                           <p>To assign an operation name in a Java SDK of this API, generated by API Gateway,
                              expand <b>SDK Settings</b> and type a name in
                              <b>Operation name</b>. For example, for the method request
                              of <code class="code">GET /pets/{petId}</code>, the corresponding Java SDK operation name
                              is, by default ,<code class="code">GetPetsPetId</code>. This name is constructed from the
                              method&apos;s HTTP verb (<code class="code">GET</code>) and the resource path variable names
                              (<code class="code">Pets</code> and <code class="code">PetId</code>). If you set the operation
                              name as <code class="code">getPetById</code>, the SDK operation name becomes
                              <code class="code">GetPetById</code>.
                           </p>
                           
                        </li>
                     </ol>
                     
                     
                     <h2 id="how-to-method-response-settings-console"> Set up an API Gateway Method
                        Response Using the API Gateway Console 
                     </h2>
                     
                     <p> An API method can have one or more responses. Each response is indexed by its
                        HTTP status code. By default, the API Gateway console adds <code class="code">200</code> response to
                        the method responses. You can modify it, for example, to have the method return
                        <code class="code">201</code> instead. You can add other responses, for example,
                        <code class="code">409</code> for access denial and <code class="code">500</code> for uninitialized stage
                        variables used. 
                     </p>
                     
                     <p> To use the API Gateway console to modify, delete, or add a response to an API method,
                        follow these instructions.
                     </p>
                     
                     <ol>
                        <li>
                           
                           <p>Choose <b>Method Response</b> from <b>Method
                                 Execution</b> for a given method of an API resource.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>To add a new response, choose <b>Add Response</b>.
                           </p>
                           
                           <ol>
                              <li>
                                 
                                 <p> Type an HTTP status code; for example, <code class="code">200</code>,
                                    <code class="code">400</code>, or <code class="code">500</code>) for <b>HTTP
                                       Status</b>, and then choose the check-mark icon to save
                                    the choice. 
                                 </p>
                                 
                                 <p> When a backend-returned response does not have a corresponding
                                    method response defined, API Gateway fails to return the response to the
                                    client. Instead, it returns a <code class="code">500 Internal server error</code>
                                    error response. 
                                 </p>
                                 
                              </li>
                              <li>
                                 
                                 <p>Expand the response of the given status code.</p>
                                 
                              </li>
                              <li>
                                 
                                 <p>Choose <b>Add Header</b>.
                                 </p>
                                 
                              </li>
                              <li>
                                 
                                 <p> Type a name for <b>Name</b> under
                                    <b>Response Headers for
                                       <em class="replaceable"><code>{status}</code></em></b>, and then
                                    choose the check-mark icon to save the choice. 
                                 </p>
                                 
                                 <p> If you need to translate any backend-returned header to one
                                    defined in a method response, you must first add the method response
                                    header as described  in this step . 
                                 </p>
                                 
                              </li>
                              <li>
                                 
                                 <p> Choose <b>Add Response Model</b> under
                                    <b>Response Body for
                                       <em class="replaceable"><code>{status}</code></em></b>. 
                                 </p>
                                 
                              </li>
                              <li>
                                 
                                 <p>Type the media type of the response payload for <b>Content
                                       type</b> and choose a model from the
                                    <b>Models</b> drop-down menu.
                                 </p>
                                 
                              </li>
                              <li>
                                 
                                 <p>Choose the check-mark icon to save the settings.</p>
                                 
                              </li>
                           </ol>
                           
                        </li>
                        <li>
                           
                           <p>To modify an existing response, expand the response and follow Step 2
                              above.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>To remove a response, choose the <b>x</b> icon for the
                              response and confirm you want to delete the response.
                           </p>
                           
                        </li>
                     </ol>
                     
                     <p>For every response returned from the backend, you must have a compatible response
                        configured as the method response. However, the configuring method response headers
                        and payload model are optional unless you map the result from the backend to the
                        method response before returning to the client. Also, a method response payload
                        model is important if you are generating a strongly typed SDK for your API.
                     </p>
                     
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="api-gateway-method-settings-method-response.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="how-to-integration-settings.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name=" Set up an API Gateway Method
                    Request in the API Gateway Console "><a class="pagetoc" href="#how-to-method-settings-callers-console">Set up Method Request in the Console</a></li>
                        <li class="pagetoc" name=" Set up an API Gateway Method
                    Response Using the API Gateway Console "><a class="pagetoc" href="#how-to-method-response-settings-console">Set up Method Response Using the Console</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='Amazon API Gateway';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='Developer Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>