<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Get Certificates Ready in
         AWS Certificate Manager - Amazon API Gateway
      </title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="how-to-custom-domains.html" title="Set up Custom Domain Name for an API in
            API Gateway">
      <link rel="prev" href="how-to-custom-domains.html" title="Set up Custom Domain Name for an API in
            API Gateway">
      <link rel="next" href="how-to-edge-optimized-custom-domain-name.html" title="">
      <meta name="description" content="Before setting up a custom domain name for an API, you must have an SSL/TLS certificate ready in AWS Certificate Manager. The following steps describe how to get this done. For more information, see the AWS Certificate Manager User Guide .">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="Amazon API Gateway">
      <meta name="guide" content="Developer Guide">
      <meta name="guide-locale" content="en_us">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/apigateway/latest/developerguide/how-to-custom-domains-prerequisites.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="http://aws.amazon.com/documentation">AWS Documentation</a> &#xBB; <a href="http://aws.amazon.com/documentation/apigateway">Amazon API Gateway</a> &#xBB; <a href="index.html">Developer Guide</a> &#xBB; <a href="how-to-deploy-api.html">Deploying an API in Amazon API Gateway</a> &#xBB; <a href="how-to-custom-domains.html">Set up Custom Domain Name for an API in
                                    API Gateway</a> &#xBB; <span class="breadcrumb">Get Certificates Ready in
                                    AWS Certificate Manager</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div></div>
                     <h1 class="topictitle" id="how-to-custom-domains-prerequisites">Get Certificates Ready in
                        AWS Certificate Manager
                     </h1>
                     <p>Before setting up a custom domain name for an API, you must have an SSL/TLS
                        certificate ready in AWS Certificate Manager. The following steps describe how to
                        get this done. For
                        more information, see the <a href="./acm/latest/userguide/" target="_blank">AWS Certificate Manager User Guide</a>.
                     </p>
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>To use an ACM Certificate with an API Gateway edge-optimized custom domain name, you
                           must request or import the certificate in the US East (N. Virginia)
                           (<code class="code">us-east-1</code>) Region. For an API Gateway regional custom domain name, you
                           must request or import the certificate in the same region as your API.
                        </p>
                     </div>
                     <p class="title"><b>To get a certificate for a given domain name issued by or imported into
                           ACM</b></p>
                     <ol>
                        <li>
                           
                           <p>Register your Internet domain; e.g., <code class="literal"><em class="replaceable"><code>myDomain</code></em>.com</code>. You can use either
                              <a href="./Route53/latest/DeveloperGuide/" target="_blank">Amazon Route&#xA0;53</a> or a third-party accredited
                              domain registrar. For a list of such registrar, see <a href="http://www.internic.net/regist.html" target="_blank">Accredited Registrar
                                 Directory</a> at the ICANN website. 
                           </p>
                           
                        </li>
                        <li>
                           
                           <p> To create in or import into ACM an SSL/TLS certificate for a domain name,
                              do one of the following: 
                           </p>
                           <a id="request-acm-cert-for-custom-domain-name"></a><p class="title"><b>To request a
                                 certificate provided by ACM for a domain name</b></p>
                           <ol>
                              <li>
                                 
                                 <p>Sign in to the <a href="https://console.aws.amazon.com/acm" target="_blank">AWS Certificate Manager
                                       console</a>.
                                 </p>
                                 
                              </li>
                              <li>
                                 
                                 <p>Choose <b>Request a certificate</b>.
                                 </p>
                                 
                              </li>
                              <li>
                                 
                                 <p>Type a custom domain name for your API; e.g., <code class="literal">api.example.com</code>, in <b>Domain name</b>.
                                 </p>
                                 
                              </li>
                              <li>
                                 
                                 <p>Optionally, choose <b>Add another name to this
                                       certificate</b>.
                                 </p>
                                 
                              </li>
                              <li>
                                 
                                 <p>Choose <b>Review and request</b>.
                                 </p>
                                 
                              </li>
                              <li>
                                 
                                 <p>Choose <b>Confirm and request</b>.
                                 </p>
                                 
                              </li>
                              <li>
                                 
                                 <p>For a valid request, a registered owner of the Internet domain must
                                    consent to the request before ACM issues the certificate.
                                 </p>
                                 
                              </li>
                           </ol>
                           <a id="import-acm-cert-for-custom-domain-name"></a><p class="title"><b>To import into ACM a
                                 certificate for a domain name</b></p>
                           <ol>
                              <li>
                                 
                                 <p> Get a PEM-encoded SSL/TLS certificate for your custom domain name
                                    from a certificate authority. For a partial list of such CAs, see the
                                    <a href="https://ccadb-public.secure.force.com/mozilla/IncludedCACertificateReport" target="_blank">Mozilla Included CA List</a>
                                    
                                    
                                 </p>
                                 
                                 <ol>
                                    <li>
                                       
                                       <p>Generate a private key for the certificate and save the output
                                          to a file, using the <a href="http://www.openssl.org" target="_blank">OpenSSL</a> toolkit at the OpenSSL website:
                                       </p>
                                       <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">openssl genrsa -out <em class="replaceable"><code>private-key-file</code></em> 2048</code></pre>
                                       <div class="aws-note">
                                          <p class="aws-note">Note</p>
                                          <p>Amazon API Gateway leverages Amazon CloudFront to support certificates for
                                             custom domain names. As such, the requirements and
                                             constraints of a custom domain name SSL/TLS certificate are
                                             dictated by <a href="./AmazonCloudFront/latest/DeveloperGuide/using-https.html#cnames-and-https-requirements" target="_blank">CloudFront</a>. For example, the maximum size of the
                                             public key is 2048 and the private key size can be 1024,
                                             2048, and 4096. The public key size is determined by the
                                             certificate authority you use. Ask your certificate
                                             authority to return keys of a size different from the
                                             default length. For more information, see <a href="./AmazonCloudFront/latest/DeveloperGuide/SecureConnections.html" target="_blank">Secure access
                                                to your objects</a> and <a href="./AmazonCloudFront/latest/DeveloperGuide/private-content-trusted-signers.html" target="_blank">Create signed URLs and signed cookies</a>.
                                          </p>
                                       </div>
                                       
                                    </li>
                                    <li>
                                       
                                       <p>Generate a certificate signing request (CSR) with the
                                          previously generated private key, using OpenSSL:
                                       </p>
                                       <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">openssl req -new -sha256 -key <em class="replaceable"><code>private-key-file</code></em> -out <em class="replaceable"><code>CSR-file</code></em></code></pre>
                                       </li>
                                    <li>
                                       
                                       <p>Submit the CSR to the certificate authority and save the
                                          resulting certificate.
                                       </p>
                                       
                                    </li>
                                    <li>
                                       
                                       <p>Download the certificate chain from the certificate
                                          authority.
                                       </p>
                                       
                                    </li>
                                 </ol>
                                 
                                 <div class="aws-note">
                                    <p class="aws-note">Note</p>
                                    <p> If you obtain the private key in another way and the key is
                                       encrypted, you can use the following command to decrypt the key
                                       before submitting it to API Gateway for setting up a custom domain name. 
                                    </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">openssl pkcs8 -topk8 -inform pem -in <em class="replaceable"><code>MyEncryptedKey.pem</code></em> -outform pem -nocrypt -out <em class="replaceable"><code>MyDecryptedKey.pem</code></em></code></pre></div>
                                 
                              </li>
                              <li>
                                 
                                 <p>Upload the certificate to AWS Certificate Manager:</p>
                                 
                                 <ol>
                                    <li>
                                       
                                       <p>Sign in to the <a href="https://console.aws.amazon.com/acm" target="_blank">AWS Certificate Manager
                                             console</a>.
                                       </p>
                                       
                                    </li>
                                    <li>
                                       
                                       <p>Choose <b>Import a certificate</b>.
                                       </p>
                                       
                                    </li>
                                    <li>
                                       
                                       <p>For <b>Certificate body</b>, type or paste the
                                          body of the PEM-formatted server certificate from your
                                          certificate authority. The following shows an abbreviated
                                          example of such a certificate.
                                       </p>
                                       <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">-----BEGIN CERTIFICATE-----
EXAMPLECA+KgAwIBAgIQJ1XxJ8Pl++gOfQtj0IBoqDANBgkqhkiG9w0BAQUFADBB
...
az8Cg1aicxLBQ7EaWIhhgEXAMPLE
-----END CERTIFICATE-----</code></pre>
                                       </li>
                                    <li>
                                       
                                       <p>For <b>Certificate private key</b>, type or
                                          paste your PEM-formatted certificate&apos;s private key. The
                                          following shows an abbreviated example of such a key. 
                                       </p>
                                       <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">-----BEGIN RSA PRIVATE KEY-----
EXAMPLEBAAKCAQEA2Qb3LDHD7StY7Wj6U2/opV6Xu37qUCCkeDWhwpZMYJ9/nETO
...
1qGvJ3u04vdnzaYN5WoyN5LFckrlA71+CszD1CGSqbVDWEXAMPLE
-----END RSA PRIVATE KEY-----
</code></pre>
                                       </li>
                                    <li>
                                       
                                       <p>For <b>Certificate chain</b>, type or paste the
                                          PEM-formatted intermediate certificates and, optionally, the
                                          root certificate, one after the other without any blank lines.
                                          If you include the root certificate, your certificate chain must
                                          start with intermediate certificates and end with the root
                                          certificate. Use the intermediate certificates provided by your
                                          certificate authority. Do not include any intermediaries that
                                          are not in the chain of trust path. The following shows an
                                          abbreviated example. 
                                       </p>
                                       <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">-----BEGIN CERTIFICATE-----
EXAMPLECA4ugAwIBAgIQWrYdrB5NogYUx1U9Pamy3DANBgkqhkiG9w0BAQUFADCB
...
8/ifBlIK3se2e4/hEfcEejX/arxbx1BJCHBvlEPNnsdw8EXAMPLE
-----END CERTIFICATE-----</code></pre>
                                       <p>Here is another example.</p>
                                       <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">-----BEGIN CERTIFICATE-----
<em class="replaceable"><code>Intermediate certificate 2</code></em>
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
<em class="replaceable"><code>Intermediate certificate 1</code></em>
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
<em class="replaceable"><code>Optional: Root certificate</code></em>
-----END CERTIFICATE-----</code></pre>
                                       </li>
                                    <li>
                                       
                                       <p>Choose <b>Review and import</b>.
                                       </p>
                                       
                                    </li>
                                 </ol>
                                 
                              </li>
                           </ol>
                           
                        </li>
                        <li>
                           
                           <p>After the certificate is successfully created or imported, make note of the
                              certificate ARN. You need it when setting up the custom domain name,
                              next.
                           </p>
                           
                        </li>
                     </ol>
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="how-to-custom-domains.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="how-to-edge-optimized-custom-domain-name.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper"></div>
            </div>
         </div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='Amazon API Gateway';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='Developer Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>