<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Enable Binary Support
         Using the API Gateway Console - Amazon API Gateway
      </title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="api-gateway-payload-encodings.html" title="Support Binary Payloads in
        API Gateway">
      <link rel="prev" href="api-gateway-payload-encodings-workflow.html" title="Content Type Conversions in
            API Gateway">
      <link rel="next" href="api-gateway-payload-encodings-configure-with-control-service-api.html" title="Enable
            Binary Support Using API Gateway REST API">
      <meta name="description" content="Enable binary support in the API Gateway console.">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="Amazon API Gateway">
      <meta name="guide" content="Developer Guide">
      <meta name="guide-locale" content="en_us">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-payload-encodings-configure-with-console.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="http://aws.amazon.com/documentation">AWS Documentation</a> &#xBB; <a href="http://aws.amazon.com/documentation/apigateway">Amazon API Gateway</a> &#xBB; <a href="index.html">Developer Guide</a> &#xBB; <a href="how-to-create-api.html">Creating an API in Amazon API Gateway</a> &#xBB; <a href="api-gateway-payload-encodings.html">Support Binary Payloads in
                                    API Gateway</a> &#xBB; <span class="breadcrumb">Enable Binary Support
                                    Using the API Gateway Console</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div></div>
                     <h1 class="topictitle" id="api-gateway-payload-encodings-configure-with-console">Enable Binary Support
                        Using the API Gateway Console
                     </h1>
                     <p>The section explains how to enable binary support using the API Gateway console. As
                        an
                        example, we use an API integrated with Amazon S3. We focus on the tasks to set the
                        supported
                        media types and to specify how the payload should be handled. For detailed information
                        on how to create an API integrated with Amazon S3, see <a href="integrating-api-with-aws-services-s3.html">Create an API as an Amazon S3 Proxy</a>.
                     </p>
                     <p class="title"><b>To enable binary support using the API Gateway console</b></p>
                     <ol>
                        <li>
                           
                           <p>Set binary media types for the API:</p>
                           
                           <ol>
                              <li>
                                 <p>Create a new API or choose an existing API. For this example, we name the API
                                    <code class="literal">FileMan</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>Under the selected API
                                    in the primary navigation panel,
                                    choose
                                    <b>Settings</b>.
                                 </p>
                              </li>
                              <li>
                                 <p>In the
                                    <b>Settings</b>
                                    pane, choose
                                    <b>Add
                                       Binary Media
                                       Type</b>
                                    in the <b>Binary Media Types</b>
                                    section.
                                 </p>
                              </li>
                              <li>
                                 <p>Type a required media
                                    type, for example, <code class="code">image/png</code>, in the input text field.
                                    
                                    If needed, repeat this step to add more media types.
                                    
                                 </p>
                              </li>
                              <li>
                                 
                                 <p>Choose
                                    <b>Save
                                       Changes</b>.
                                 </p>
                                 
                                 <div class="mediaobject">
                                    
                                    <img src="../../..//img/binary-support-set-binary-media-types-on-api.png" alt="
                                        Add binary support in the API Gateway console.
                                    " style="max-width:100%">
                                    
                                    
                                    
                                 </div>
                                 
                              </li>
                           </ol>
                           
                        </li>
                        <li>
                           
                           <p>Set how message payloads are handled for the API method:</p>
                           
                           <ol>
                              <li>
                                 <p>Create a new or choose an existing resource in the API. For this example, we use the
                                    <code class="literal">/{folder}/{item}</code> resource.
                                 </p>
                              </li>
                              <li>
                                 <p>Create a new or choose an existing method on the resource. As an example, we use the
                                    <code class="literal">GET /{folder}/{item}</code> method integrated with the
                                    <code class="code">Object
                                       GET</code> action in Amazon S3. 
                                 </p>
                              </li>
                              <li>
                                 
                                 <p>In <b>Content Handling</b>, choose an option. 
                                 </p>
                                 
                                 <div class="mediaobject">
                                    
                                    <img src="../../..//img/binary-support-set-content-handling-on-method.png" alt="
                                        Set up the GET method in the API Gateway
                                            console.
                                    " style="max-width:100%">
                                    
                                    
                                    
                                 </div>
                                 
                                 <p>Choose <b>Passthrough</b> if you do not want to convert
                                    the body when the client and backend accepts the same binary format.
                                    Choose <b>Convert to text (if needed)</b> to convert the
                                    binary body to a Base64-encoded string when, for example, the backend
                                    requires that a binary request payload is passed in as a JSON property.
                                    And choose <b>Convert to binary (if needed)</b> when the
                                    client submits a Base64-encoded string and the backend requires the
                                    original binary format, or when the endpoint returns a Base64-encoded
                                    string and the client accepts only the binary output.
                                 </p>
                                 
                              </li>
                              <li>
                                 
                                 <p>Preserve the incoming request&apos;s <code class="literal">Accept</code> header in
                                    the integration request. You should do this if you&apos;ve set
                                    <code class="literal">contentHandling</code> to <code class="literal">passthrough</code>
                                    and want to override that setting at run time.
                                 </p>
                                 
                                 <div class="mediaobject">
                                    
                                    <img src="../../..//img/binary-support-preserve-incoming-accept-header.png" alt="
                                        Keep the Accept header in the
                                            integration request.
                                    " style="max-width:100%">
                                    
                                    
                                    
                                 </div>
                                 
                                 
                              </li>
                              <li>
                                 
                                 <p>Enable the passthrough behavior on the request body.</p>
                                 
                                 <div class="mediaobject">
                                    
                                    <img src="../../..//img/binary-support-ensure-payload-passthrough-on-method.png" alt="
                                        Enable passthrough behavior for the request
                                            body.
                                    " style="max-width:100%">
                                    
                                    
                                    
                                 </div>
                                 
                              </li>
                              <li>
                                 
                                 <p>For conversion to text, define a mapping template to put the Base64-encoded binary
                                    data into the required format.
                                 </p>
                                 
                                 <div class="mediaobject">
                                    
                                    <img src="../../..//img/binary-support-convert-to-text-mapping-template.png" alt="
                                            Mapping template for the convert-to-text option.
                                        " style="max-width:100%">
                                    
                                    
                                    
                                 </div>
                                 
                                 <p>The format of this mapping template depends on the endpoint
                                    requirements of the input.
                                 </p>
                                 
                              </li>
                           </ol>
                           
                        </li>
                     </ol>
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="api-gateway-payload-encodings-workflow.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="api-gateway-payload-encodings-configure-with-control-service-api.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper"></div>
            </div>
         </div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='Amazon API Gateway';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='Developer Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>