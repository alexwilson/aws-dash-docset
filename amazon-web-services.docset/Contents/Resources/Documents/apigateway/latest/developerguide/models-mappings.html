<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Create Models and Mapping Templates for Request and Response Mappings - Amazon API Gateway</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="mappings.html" title="Set up
            API Gateway
            Request and Response Data Mappings  ">
      <link rel="prev" href="how-to-method-settings-execution-console.html" title="Set up Request and Response Data Mappings Using the API Gateway Console ">
      <link rel="next" href="how-to-create-model.html" title="">
      <meta name="description" content="Learn how to pass API request response payload between your API methods and the backend HTTP, Lambda or AWS integrations in Amazon API Gateway.">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="Amazon API Gateway">
      <meta name="guide" content="Developer Guide">
      <meta name="guide-locale" content="en_us">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/apigateway/latest/developerguide/models-mappings.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="http://aws.amazon.com/documentation">AWS Documentation</a> &#xBB; <a href="http://aws.amazon.com/documentation/apigateway">Amazon API Gateway</a> &#xBB; <a href="index.html">Developer Guide</a> &#xBB; <a href="how-to-create-api.html">Creating an API in Amazon API Gateway</a> &#xBB; <a href="mappings.html">Set up
                                    API Gateway
                                    Request and Response Data Mappings  </a> &#xBB; <span class="breadcrumb">Create Models and Mapping Templates for Request and Response Mappings</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div></div>
                     <h1 class="topictitle" id="models-mappings">Create Models and Mapping Templates for Request and Response Mappings</h1>
                     <p>
                        In API Gateway, an API&apos;s method request can take a payload in a different format from
                        the corresponding integration 
                        request payload, as required in the backend. Similarly, the backend may return an
                        integration response payload different 
                        from the method response payload, as expected by the frontend. API Gateway lets you
                        use mapping templates to map the payload from a method request to the 
                        corresponding integration request and from an integration response to the corresponding
                        method response. 
                        
                     </p>
                     <p>
                        A mapping template is a script expressed in <a href="http://velocity.apache.org/engine/devel/vtl-reference-guide.html" target="_blank">Velocity Template Language (VTL)</a> 
                        and applied to the payload using <a href="http://goessner.net/articles/JsonPath/" target="_blank">JSONPath expressions</a>. The payload can have a data model according to the 
                        <a href="https://tools.ietf.org/html/draft-zyp-json-schema-04" target="_blank">JSON schema draft 4</a>. You must define the model in order to have API Gateway to generate a SDK or to enable
                        basic request 
                        validation for your API. You do not have to define any model to create a mapping template.
                        However, a model can help you create a template because API Gateway will generate
                        
                        a template blueprint based on a provided model.  
                        
                     </p>
                     <p>
                        The section explains how to map the API request and response payload using models
                        and mapping templates. 
                        
                     </p>
                     <div class="highlights">
                        <p><strong>Topics</strong></p>
                        <ul>
                           <li><a href="#models-mappings-models">Models</a></li>
                           <li><a href="#models-mappings-mappings">Mapping Templates</a></li>
                           <li><a href="#models-mappings-tasks">Tasks for Models and Mapping Templates</a></li>
                           <li><a href="how-to-create-model.html">Create a Model in API Gateway</a></li>
                           <li><a href="how-to-view-models-list.html">View a List of Models in API Gateway</a></li>
                           <li><a href="how-to-delete-model.html">Delete a Model in API Gateway</a></li>
                           <li><a href="example-photos.html">Photos Example (API Gateway Models and Mapping Templates)</a></li>
                           <li><a href="example-news-article.html">News Article Example (API Gateway Models and Mapping Templates)</a></li>
                           <li><a href="example-invoice.html">Sales Invoice Example (API Gateway Models and Mapping Templates)</a></li>
                           <li><a href="example-employee.html">Employee Record Example (API Gateway Models and Mapping Templates)</a></li>
                        </ul>
                     </div>
                     <h2 id="models-mappings-models">Models</h2>
                     
                     
                     <p>In API Gateway, a model defines the data structure of a payload.  In API Gateway models
                        are defined using the <a href="https://tools.ietf.org/html/draft-zyp-json-schema-04" target="_blank">JSON schema draft 4</a>. 
                     </p>
                     
                     
                     <p>The following JSON object describes a sample data describing the fruit or vegetable
                        inventory in the produce department of a likely supermarket:
                     </p>
                     
                     <p>
                        Suppose we have an API for managing fruit and vegetable inventory in the produce department
                        of a supermarket. When a manager queries the backend for the current inventory, the
                        server sends back the following response payload: 
                        
                     </p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">{
  &quot;department&quot;: &quot;produce&quot;,
  &quot;categories&quot;: [
    &quot;fruit&quot;,
    &quot;vegetables&quot;
  ],
  &quot;bins&quot;: [
    {
      &quot;category&quot;: &quot;fruit&quot;,
      &quot;type&quot;: &quot;apples&quot;,
      &quot;price&quot;: 1.99,
      &quot;unit&quot;: &quot;pound&quot;,
      &quot;quantity&quot;: 232
    },
    {
      &quot;category&quot;: &quot;fruit&quot;,
      &quot;type&quot;: &quot;bananas&quot;,
      &quot;price&quot;: 0.19,
      &quot;unit&quot;: &quot;each&quot;,
      &quot;quantity&quot;: 112
    },
    {
      &quot;category&quot;: &quot;vegetables&quot;,
      &quot;type&quot;: &quot;carrots&quot;,
      &quot;price&quot;: 1.29,
      &quot;unit&quot;: &quot;bag&quot;,
      &quot;quantity&quot;: 57
    }
  ]
}</code></pre>
                     <p>The JSON object has three properties</p>
                     
                     <div class="itemizedlist">
                        
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              <p>The <code class="literal">department</code> property has a string value (<code class="literal">produce</code>).
                              </p>
                           </li>
                           <li class="listitem">
                              <p>The <code class="literal">categories</code> property is an array of two strings: <code class="literal">fruit</code> and <code class="literal">vegetables</code>.
                              </p>
                           </li>
                           <li class="listitem">
                              <p>The <code class="literal">bins</code> property is an array of objects, each having the string- or number-valued properties
                                 of <code class="literal">category</code>, <code class="literal">type</code>, <code class="literal">price</code>, <code class="literal">unit</code> and <code class="literal">quantity</code>.
                              </p>
                           </li>
                        </ul>
                     </div>
                     
                     
                     
                     <p>We can use the following JSON Schema to define the model for the above data:</p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">{
  &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#&quot;,
  &quot;title&quot;: &quot;GroceryStoreInputModel&quot;,
  &quot;type&quot;: &quot;object&quot;,
  &quot;properties&quot;: {
    &quot;department&quot;: { &quot;type&quot;: &quot;string&quot; },
    &quot;categories&quot;: {
      &quot;type&quot;: &quot;array&quot;,
      &quot;items&quot;: { &quot;type&quot;: &quot;string&quot; }
    },
    &quot;bins&quot;: {
      &quot;type&quot;: &quot;array&quot;,
      &quot;items&quot;: {
        &quot;type&quot;: &quot;object&quot;,
        &quot;properties&quot;: {
          &quot;category&quot;: { &quot;type&quot;: &quot;string&quot; },
          &quot;type&quot;: { &quot;type&quot;: &quot;string&quot; },
          &quot;price&quot;: { &quot;type&quot;: &quot;number&quot; },
          &quot;unit&quot;: { &quot;type&quot;: &quot;string&quot; },
          &quot;quantity&quot;: { &quot;type&quot;: &quot;integer&quot; }
        }
      }
    }
  }
}</code></pre>
                     <p>In the preceding example model:</p>
                     
                     <div class="itemizedlist">
                        
                        
                        
                        
                        
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p>The <code class="literal">$schema</code> object represents a valid JSON Schema version
                                 identifier. In this example, it refers to JSON Schema, draft v4.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>The <code class="literal">title</code> object is a human-readable identifier for the
                                 model. In this example, it is <code class="literal">GroceryStoreInputModel</code>.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>The top-level, or root, construct in the JSON data is an object.</p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>The root object in the JSON data contains <code class="literal">department</code>,
                                 <code class="literal">categories</code>, and <code class="literal">bins</code>
                                 properties.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>The <code class="literal">department</code> property is a string object in the JSON
                                 data.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>The <code class="literal">categories</code> property is an array in the JSON data. The
                                 array contains string values in the JSON data.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>The <code class="literal">bins</code> property is an array in the JSON data. The array
                                 contains objects in the JSON data. Each of these objects in the JSON data
                                 contains a <code class="literal">category</code> string, a <code class="literal">type</code> string,
                                 a <code class="literal">price</code> number, a <code class="literal">unit</code> string, and a
                                 <code class="literal">quantity</code> integer (a number without a fraction or exponent
                                 part).
                              </p>
                              
                           </li>
                        </ul>
                     </div>
                     
                     <p>
                        Alternatively, you could include part of this schema, for example, the item definition
                        of the <code class="code">bins</code> array, in a separate section of the same file and use the <code class="code">$ref</code> primitive to reference this reusable definition in other parts of the schema. Using
                        <code class="code">$ref</code>, the above model definition file can be expressed as follows: 
                        
                     </p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">{
  &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#&quot;,
  &quot;title&quot;: &quot;GroceryStoreInputModel&quot;,
  &quot;type&quot;: &quot;object&quot;,
  &quot;properties&quot;: {
    &quot;department&quot;: { &quot;type&quot;: &quot;string&quot; },
    &quot;categories&quot;: {
      &quot;type&quot;: &quot;array&quot;,
      &quot;items&quot;: { &quot;type&quot;: &quot;string&quot; }
    },
    &quot;bins&quot;: {
      &quot;type&quot;: &quot;array&quot;,
      &quot;items&quot;: {
        &quot;$ref&quot;: &quot;#/definitions/Bin&quot;
      }
    }
  },
  &quot;definitions&quot;: { 
    &quot;Bin&quot; : {
      &quot;type&quot;: &quot;object&quot;,
      &quot;properties&quot;: {
        &quot;category&quot;: { &quot;type&quot;: &quot;string&quot; },
        &quot;type&quot;: { &quot;type&quot;: &quot;string&quot; },
        &quot;price&quot;: { &quot;type&quot;: &quot;number&quot; },
        &quot;unit&quot;: { &quot;type&quot;: &quot;string&quot; },
        &quot;quantity&quot;: { &quot;type&quot;: &quot;integer&quot; }
      }
    }
  }
}</code></pre>
                     <p>The <code class="code">definitions</code> section contains the schema definition of the <code class="code">Bin</code> item that is referenced in the <code class="code">bins</code> array with <code class="code">&quot;ref&quot;: &quot;#/definitions/Bin&quot;</code>. Using reusable definitions this way makes your model definition easier to read.
                     </p>
                     
                     
                     <p>
                        In addition, you can also reference another model schema defined in an external model
                        file by setting that model&apos;s URL as the value of the <code class="code">$ref</code> property: <code class="code">&quot;$ref&quot;: &quot;https://apigateway.amazonaws.com/restapis/{restapi_id}/models/{model_name}&quot;</code>. For example, supposed you have the following full-fledged model named <code class="code">Bin2</code> created under an API with an identifier of <code class="code">fugvjdxtri</code>:
                        
                     </p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">{
  &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#&quot;,
  &quot;title&quot;: &quot;GroceryStoreInputModel&quot;,
  &quot;type&quot;: &quot;object&quot;,
  &quot;properties&quot;: {
      &quot;Bin&quot; : {
        &quot;type&quot;: &quot;object&quot;,
        &quot;properties&quot;: {
            &quot;category&quot;: { &quot;type&quot;: &quot;string&quot; },
            &quot;type&quot;: { &quot;type&quot;: &quot;string&quot; },
            &quot;price&quot;: { &quot;type&quot;: &quot;number&quot; },
            &quot;unit&quot;: { &quot;type&quot;: &quot;string&quot; },
            &quot;quantity&quot;: { &quot;type&quot;: &quot;integer&quot; }
        }
      }
   }  
}</code></pre>
                     <p>You can then reference it from the <code class="code">GroceryStoreInputModel</code> from the same API, as shown as follows:
                     </p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">{
  &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#&quot;,
  &quot;title&quot;: &quot;GroceryStoreInputModel&quot;,
  &quot;type&quot;: &quot;object&quot;,
  &quot;properties&quot;: {
    &quot;department&quot;: { &quot;type&quot;: &quot;string&quot; },
    &quot;categories&quot;: {
      &quot;type&quot;: &quot;array&quot;,
      &quot;items&quot;: { &quot;type&quot;: &quot;string&quot; }
    },
    &quot;bins&quot;: {
      &quot;type&quot;: &quot;array&quot;,
      &quot;items&quot;: {
        &quot;$ref&quot;: &quot;https://apigateway.amazonaws.com/restapis/fugvjdxtri/models/Bin2&quot;
      }
    }
  }
}</code></pre>
                     <p>The referencing and referenced models must be from the same API.</p>
                     
                     
                     <p>The examples do not use advanced JSON Schema features, such as specifying required
                        items; minimum and maximum allowed string lengths, numeric values, and array item
                        lengths; regular expressions; and more. For more information, see <a href="http://json.org" target="_blank">Introducing JSON</a> and 
                        <a href="https://tools.ietf.org/html/draft-zyp-json-schema-04" target="_blank">JSON schema draft 4</a>.
                     </p>
                     
                     <p>For more complex JSON data formats and their models, see the following
                        examples:
                     </p>
                     
                     <div class="itemizedlist">
                        
                        
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p><a href="example-photos.html#example-photos-input-model">Input Model (Photos Example)</a> and 
                                 <a href="example-photos.html#example-photos-output-model">Output Model (Photos Example)</a>
                                 in the <a href="example-photos.html">Photos Example</a></p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p><a href="example-news-article.html#example-news-article-input-model">Input Model (News Article Example)</a>
                                 and <a href="example-news-article.html#example-news-article-output-model">Output Model (News Article Example)</a>
                                 in the <a href="example-news-article.html">News Article Example</a></p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p><a href="example-invoice.html#example-invoice-input-model">Input Model (Sales Invoice Example)</a> and 
                                 <a href="example-invoice.html#example-invoice-output-model">Output Model (Sales Invoice Example)</a> in the
                                 <a href="example-invoice.html">Sales Invoice Example</a></p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p><a href="example-employee.html#example-employee-input-model">Input Model (Employee Record Example)</a> and 
                                 <a href="example-employee.html#example-employee-output-model">Output Model (Employee Record Example)</a> in the
                                 <a href="example-employee.html">Employee Record Example</a></p>
                              
                           </li>
                        </ul>
                     </div>
                     
                     <p>To experiment with models in API Gateway, follow the instructions in <a href="api-gateway-create-api-step-by-step.html#getting-started-models">Map Response Payload</a>,
                        specifically <a href="api-gateway-create-api-step-by-step.html#getting-started-models-add-models">Step 1: Create Models</a>.
                     </p>            
                     
                     <h2 id="models-mappings-mappings">Mapping Templates</h2>
                     
                     
                     <p>
                        When the backend returns the query results (shown in the <a href="models-mappings.html#models-mappings-models">Models</a> section), 
                        the  manager of the produce department may be interested in reading them as follows:
                        
                     </p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">{
  &quot;choices&quot;: [
    {
      &quot;kind&quot;: &quot;apples&quot;,
      &quot;suggestedPrice&quot;: &quot;1.99 per pound&quot;,
      &quot;available&quot;: 232
    },
    {
      &quot;kind&quot;: &quot;bananas&quot;,
      &quot;suggestedPrice&quot;: &quot;0.19 per each&quot;,
      &quot;available&quot;: 112
    },
    {
      &quot;kind&quot;: &quot;carrots&quot;,
      &quot;suggestedPrice&quot;: &quot;1.29 per bag&quot;,
      &quot;available&quot;: 57
    }
  ]
}</code></pre>
                     <p>
                        To enable this, we need to provide API Gateway a mapping template to translate the
                        data from the backend format. The following mapping template will do just that.
                        
                     </p>
                     
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">#set($inputRoot = $input.path(&apos;$&apos;))
{
  &quot;choices&quot;: [
#foreach($elem in $inputRoot.bins)
    {
      &quot;kind&quot;: &quot;$elem.type&quot;,
      &quot;suggestedPrice&quot;: &quot;$elem.price per $elem.unit&quot;,
      &quot;available&quot;: $elem.quantity
    }#if($foreach.hasNext),#end
            
#end
  ]
}</code></pre>
                     <div class="itemizedlist">
                        
                        <p>Let us now examine some details of the preceding output mapping template:</p>
                        
                        
                        
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p>The <code class="literal">$inputRoot</code> variable 
                                 represents the root object in the original JSON data from the previous section.
                                 The variables in an output mapping template map to the original JSON data,
                                 not the desired transformed JSON data schema.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>The <code class="literal">choices</code> array in the output mapping template is mapped from 
                                 the <code class="literal">bins</code> array with the root object in the original JSON data
                                 (<code class="literal">$inputRoot.bins</code>).
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>In the output mapping template, each of the objects in the
                                 <code class="literal">choices</code> array (represented by <code class="literal">$elem</code>)
                                 are mapped from the corresponding objects in the <code class="literal">bins</code> array within the
                                 root object in the original JSON data.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>In the output mapping template, for each of objects in the
                                 <code class="literal">choices</code> object, the values of the <code class="literal">kind</code>
                                 and <code class="literal">available</code> objects (represented by
                                 <code class="literal">$elem.type</code> and <code class="literal">$elem.quantity</code>) are mapped from
                                 the corresponding values of the <code class="literal">type</code> and
                                 <code class="literal">value</code> objects in each of the objects in the original JSON
                                 data&apos;s <code class="literal">bins</code> array, respectively. 
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>In the output mapping template,  for each of objects in the
                                 <code class="literal">choices</code> object, the value of the
                                 <code class="literal">suggestedPrice</code> object is a concatenation of the
                                 corresponding value of the <code class="literal">price</code> and <code class="literal">unit</code>
                                 objects in each of the objects in the original JSON data, respectively, with
                                 each value separated by the word <code class="literal">per</code>. 
                              </p>
                              
                           </li>
                        </ul>
                     </div>
                     
                     <p>For more information about the Velocity Template Language, see <a href="http://velocity.apache.org/engine/devel/vtl-reference-guide.html" target="_blank">Apache
                           Velocity - VTL Reference</a>. For more information about JSONPath, see <a href="http://goessner.net/articles/JsonPath" target="_blank">JSONPath - XPath for
                           JSON</a>.
                     </p>
                     
                     
                     <p>
                        The mapping template assumes that the underlying data is of a JSON object. It does
                        not require that a model be defined for the data. As an API developer, 
                        you know the data formats at both the front and backends. That knowledge can guide
                        you to define the necessary mappings without ambiguity. 
                        
                     </p>
                     
                     
                     <p>
                        To have an SDK generated for the API, the above data will be returned as a language-specific
                        object. For strongly typed languages, such as Java, Objective-C or Swift, 
                        the object corresponds to a user-defined data type (UDT). API Gateway will create
                        such a UDT if you provide it with a data model. For the method response example above,
                        
                        you can define the following payload model in the integration response:
                        
                     </p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">{
  &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#&quot;,
  &quot;title&quot;: &quot;GroceryStoreOutputModel&quot;,
  &quot;type&quot;: &quot;object&quot;,
  &quot;properties&quot;: {
    &quot;choices&quot;: {
      &quot;type&quot;: &quot;array&quot;,
      &quot;items&quot;: {
        &quot;type&quot;: &quot;object&quot;,
        &quot;properties&quot;: {
          &quot;kind&quot;: { &quot;type&quot;: &quot;string&quot; },
          &quot;suggestedPrice&quot;: { &quot;type&quot;: &quot;string&quot; },
          &quot;available&quot;: { &quot;type&quot;: &quot;integer&quot; }
        }
      }
    }
  }
}</code></pre>
                     <p>In this model, the JSON schema is expressed as follows:</p>
                     
                     <div class="itemizedlist">
                        
                        
                        
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p>The <code class="literal">$schema</code> object represents a valid JSON Schema version
                                 identifier. In this example, it refers to JSON Schema, draft v4.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>The <code class="literal">title</code> object is a human-readable identifier for the
                                 model. In this example, it is <code class="literal">GroceryStoreOutputModel</code>.
                              </p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>The top-level, or root, construct in the JSON data is an object.</p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>The root object in the JSON data contains an array of objects.</p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p>Each object in the array of objects contains a <code class="literal">kind</code> string,
                                 a <code class="literal">suggestedPrice</code> string, and an <code class="literal">available</code>
                                 integer (a number without a fraction or exponent part).
                              </p>
                              
                           </li>
                        </ul>
                     </div>
                     
                     <p>With this model, you can call an SDK to retrieve the <code class="code">kind</code>, <code class="code">suggestedPrice</code> and <code class="code">available</code> property values by reading the <code class="code">GroceryStoreOutputModel.kind</code>, <code class="code">GroceryStoreOutputModel.suggestedPrice</code> and <code class="code">GroceryStoreOutputModel.available</code> properties, respectively. If no model is provided, API Gateway will use the Empty
                        model to create a default UDT. In this case, you will not be able to read these properties
                        using a strongly-typed SDK.
                     </p>
                     
                     
                     
                     <p>To explore more complex mapping templates, see the following examples:</p>
                     
                     <div class="itemizedlist">
                        
                        
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p><a href="example-photos.html#example-photos-input-mapping">Input Mapping Template (Photos Example)</a> and 
                                 <a href="example-photos.html#example-photos-output-mapping">Output Mapping Template (Photos Example)</a> in the 
                                 <a href="example-photos.html">Photos Example</a></p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p><a href="example-news-article.html#example-news-article-input-mapping">Input Mapping Template (News Article Example)</a> and 
                                 <a href="example-news-article.html#example-news-article-output-mapping">Output Mapping Template (News Article Example)</a> in the 
                                 <a href="example-news-article.html">News Article Example</a></p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p><a href="example-invoice.html#example-invoice-input-mapping">Input Mapping Template (Sales Invoice Example)</a> and 
                                 <a href="example-invoice.html#example-invoice-output-mapping">Output Mapping Template (Sales Invoice Example)</a> in the 
                                 <a href="example-invoice.html">Sales Invoice Example</a></p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p><a href="example-employee.html#example-employee-input-mapping">Input Mapping Template (Employee Record Example)</a> and 
                                 <a href="example-employee.html#example-employee-output-mapping">Output Mapping Template (Employee Record Example)</a> in the 
                                 <a href="example-employee.html">Employee Record Example</a></p>
                              
                           </li>
                        </ul>
                     </div>
                     
                     <p>To experiment with mapping templates in API Gateway, follow the instructions in <a href="api-gateway-create-api-step-by-step.html#getting-started-models">Map Response Payload</a>,
                        specifically <a href="api-gateway-create-api-step-by-step.html#getting-started-models-set-methods">Step 5: Set up and Test the Methods</a>.
                     </p>
                     
                     <h2 id="models-mappings-tasks">Tasks for Models and Mapping Templates</h2>
                     
                     
                     <p>For additional things you can do with models and mapping templates, see the
                        following:
                     </p>
                     
                     <div class="itemizedlist">
                        
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              
                              <p><a href="how-to-create-model.html">Create a Model</a></p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p><a href="how-to-view-models-list.html">View a List of Models</a></p>
                              
                           </li>
                           <li class="listitem">
                              
                              <p><a href="how-to-delete-model.html">Delete a Model</a></p>
                              
                           </li>
                        </ul>
                     </div>
                     
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="how-to-method-settings-execution-console.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="how-to-create-model.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Models"><a class="pagetoc" href="#models-mappings-models">Models</a></li>
                        <li class="pagetoc" name="Mapping Templates"><a class="pagetoc" href="#models-mappings-mappings">Mapping Templates</a></li>
                        <li class="pagetoc" name="Tasks for Models and Mapping Templates"><a class="pagetoc" href="#models-mappings-tasks">Tasks for Models and Mapping Templates</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='Amazon API Gateway';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='Developer Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>