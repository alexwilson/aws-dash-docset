<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title> Set up an Edge-Optimized API Using the
         AWS SDK for Node.js  - Amazon API Gateway
      </title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="create-api-resources-methods.html" title=" Initialize API Setup in API Gateway ">
      <link rel="prev" href="create-api-using-awscli.html" title="Set up an Edge-Optimized API Using AWS CLI
                    Commands">
      <link rel="next" href="create-api-using-restapi.html" title="Set up an Edge-Optimized API Using the
                    API Gateway REST API">
      <meta name="description" content="As an illustration, we use AWS SDK for Node.js to describe how you can use an AWS SDK to create an API Gateway API. For more information using an AWS SDK, including how to set up the development environment, see AWS SDKs .">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="Amazon API Gateway">
      <meta name="guide" content="Developer Guide">
      <meta name="guide-locale" content="en_us">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/apigateway/latest/developerguide/create-api-using-awssdk.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="http://aws.amazon.com/documentation">AWS Documentation</a> &#xBB; <a href="http://aws.amazon.com/documentation/apigateway">Amazon API Gateway</a> &#xBB; <a href="index.html">Developer Guide</a> &#xBB; <a href="how-to-create-api.html">Creating an API in Amazon API Gateway</a> &#xBB; <a href="create-api-resources-methods.html"> Initialize API Setup in API Gateway </a> &#xBB; <span class="breadcrumb"> Set up an Edge-Optimized API Using the
                                    AWS SDK for Node.js </span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div></div>
                     <h1 class="topictitle" id="create-api-using-awssdk"> Set up an Edge-Optimized API Using the
                        AWS SDK for Node.js 
                     </h1>
                     <p> As an illustration, we use AWS SDK for Node.js to describe how you can use an
                        AWS SDK to create an API Gateway API. For more information using an AWS SDK, including
                        how to set up the development environment, see <a href="https://aws.amazon.com/tools/" target="_blank">AWS SDKs</a>. 
                     </p>
                     <p> Setting up an API using the AWS SDK for Node.js involves calling the
                        <code class="code"><a href="./AWSJavaScriptSDK/latest/AWS/APIGateway.html#createRestApi-property" target="_blank">createRestApi</a></code>, <code class="code"><a href="./AWSJavaScriptSDK/latest/AWS/APIGateway.html#createResource-property" target="_blank">createResource</a></code> or <code class="code"><a href="./AWSJavaScriptSDK/latest/AWS/APIGateway.html#getResources-property" target="_blank">getResources</a></code>, <code class="code"><a href="./AWSJavaScriptSDK/latest/AWS/APIGateway.html#putMethod-property" target="_blank">putMethod</a></code>, <code class="code"><a href="./AWSJavaScriptSDK/latest/AWS/APIGateway.html#putMethodResponse-property" target="_blank">putMethodResponse</a></code>, <code class="code"><a href="./AWSJavaScriptSDK/latest/AWS/APIGateway.html#putIntegration-property" target="_blank">putIntegration</a></code>, and <code class="code"><a href="./AWSJavaScriptSDK/latest/AWS/APIGateway.html#putIntegrationResponse-property" target="_blank">putIntegrationResponse</a></code> functions. 
                     </p>
                     <p>The following procedures walk you through the essential steps to use these SDK
                        commands to set up a simple PetStore API supporting the <code class="code">GET /pets</code> and
                        <code class="code">GET /pets/{petId}</code> methods.
                     </p>
                     <p class="title"><b>To set up a simple PetStore API using the AWS SDK for Node.js</b></p>
                     <ol>
                        <li>
                           
                           <p>Instantiate the SDK:</p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">var AWS = require(&apos;aws-sdk&apos;);

AWS.config.region = &apos;us-west-2&apos;;
var apig = new AWS.APIGateway({apiVersion: &apos;2015/07/09&apos;});
</code></pre>
                           </li>
                        <li>
                           
                           <p> Call the <code class="code">createRestApi</code> function to set up the
                              <code class="code">RestApi</code> entity. 
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">apig.createRestApi({
	name: &quot;Simple PetStore (node.js SDK)&quot;,
	binaryMediaTypes: [
		&apos;*&apos;
	],
	description: &quot;Demo API created using the AWS SDK for node.js&quot;,
	version: &quot;0.00.001&quot;
}, function(err, data){
	if (!err) {
		console.log(data);
	} else {
		console.log(&apos;Create API failed:\n&apos;, err);
	}
});</code></pre>
                           <p>The function  returns an output similar to the following result:</p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">{
  id: &apos;iuo308uaq7&apos;,
  name: &apos;PetStore (node.js SDK)&apos;,
  description: &apos;Demo API created using the AWS SDK for node.js&apos;,
  createdDate: 2017-09-05T19:32:35.000Z,
  version: &apos;0.00.001&apos;,
  binaryMediaTypes: [ &apos;*&apos; ] 
}</code></pre>
                           <p>The resulting API&apos;s identifier is <code class="code">iuo308uaq7</code>. You need to
                              supply this to continue the setup of the API.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p> Call the <code class="code">getResources</code> function to retrieve the root resource
                              identifier of the <code class="code">RestApi</code>. 
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">apig.getResources({
	restApiId: &apos;iuo308uaq7&apos;
}, function(err, data){
	if (!err) {
		console.log(data);
	} else {
		console.log(&apos;Get the root resource failed:\n&apos;, err);
	}
})</code></pre>
                           <p>This function returns an output similar to the following result:</p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">{
    &quot;items&quot;: [
        {
            &quot;path&quot;: &quot;/&quot;, 
            &quot;id&quot;: &quot;s4fb0trnk0&quot;
        }
    ]
}</code></pre>
                           <p>The root resource identifier is <code class="code">s4fb0trnk0</code>. This is the
                              starting point for you to build the API resource tree, which you do
                              next.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p> Call the <code class="code">createResource</code> function to set up the
                              <code class="code">/pets</code> resource for the API, specifying the root resource
                              identifier (<code class="code">s4fb0trnk0</code>) on the <code class="code">parentId</code>
                              property.
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">apig.createResource({
	restApiId: &apos;iuo308uaq7&apos;,
	parentId: &apos;s4fb0trnk0&apos;,
	pathPart: &apos;pets&apos;
}, function(err, data){
	if (!err) {
		console.log(data);
	} else {
		console.log(&quot;The &apos;/pets&apos; resource setup failed:\n&quot;, err);
	}	
})</code></pre>
                           <p>The successful result is as follows:</p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">{
    &quot;path&quot;: &quot;/pets&quot;, 
    &quot;pathPart&quot;: &quot;pets&quot;, 
    &quot;id&quot;: &quot;8sxa2j&quot;, 
    &quot;parentId&quot;: &quot;s4fb0trnk0&apos;&quot;
}</code></pre>
                           <p>To set up the <code class="code">/pets/{petId}</code> resource, call the following
                              <code class="code">createResource</code> function, specifying the newly created
                              <code class="code">/pets</code> resource (<code class="code">8sxa2j</code>) on the
                              <code class="code">parentId</code> property. 
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">apig.createResource({
	restApiId: &apos;iuo308uaq7&apos;,
	parentId: &apos;8sxa2j&apos;,
	pathPart: &apos;{petId}&apos;
}, function(err, data){
	if (!err) {
		console.log(data);
	} else {
		console.log(&quot;The &apos;/pets/{petId}&apos; resource setup failed:\n&quot;, err);
	}	
})</code></pre>
                           <p>The successful result returns the newly created resource <code class="code">id</code>
                              value:
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">{
    &quot;path&quot;: &quot;/pets/{petId}&quot;, 
    &quot;pathPart&quot;: &quot;{petId}&quot;, 
    &quot;id&quot;: &quot;au5df2&quot;, 
    &quot;parentId&quot;: &quot;8sxa2j&quot;
}</code></pre>
                           <p>Throughout this procedure, you refer to the <code class="code">/pets</code> resource by
                              specifying its resource ID of <code class="code">8sxa2j</code>, and the
                              <code class="code">/pets/{petId}</code> resource by specifying its resource ID of
                              <code class="code">au5df2</code>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p> Call the <code class="code">putMethod</code> function to add the <code class="code">GET</code> HTTP
                              method on the <code class="code">/pets</code> resource (<code class="code">8sxa2j</code>). This sets
                              up the <code class="code">GET /pets</code>
                              <code class="code">Method</code> with open access. 
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">apig.putMethod({
	restApiId: &apos;iuo308uaq7&apos;,
	resourceId: &apos;8sxa2j,
	httpMethod: &apos;GET&apos;,
	authorizationType: &apos;NONE&apos;
}, function(err, data){
	if (!err) {
		console.log(data);
	} else {
		console.log(&quot;The &apos;GET /pets&apos; method setup failed:\n&quot;, err);
	}	
})</code></pre>
                           <p>This function returns an output similar to the following result:</p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">{
    &quot;apiKeyRequired&quot;: false, 
    &quot;httpMethod&quot;: &quot;GET&quot;, 
    &quot;authorizationType&quot;: &quot;NONE&quot;
}</code></pre>
                           <p>To add the <code class="code">GET</code> HTTP method on the <code class="code">/pets/{petId}</code>
                              resource (<code class="code">au5df2</code>), which sets up the API method of <code class="code">GET
                                 /pets/{petId}</code> with open access, call the <code class="code">putMethod</code>
                              function as follows. 
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">apig.putMethod({
	restApiId: &apos;iuo308uaq7&apos;,
	resourceId: &apos;au5df2&apos;,
	httpMethod: &apos;GET&apos;,
	authorizationType: &apos;NONE&apos;,
      requestParameters: {
        &quot;method.request.path.petId&quot; : true
      }
}, function(err, data){
	if (!err) {
		console.log(data);
	} else {
		console.log(&quot;The &apos;GET /pets/{petId}&apos; method setup failed:\n&quot;, err);
	}	
})</code></pre>
                           <p>This function returns an output similar to the following result:</p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">{
    &quot;apiKeyRequired&quot;: false, 
    &quot;httpMethod&quot;: &quot;GET&quot;, 
    &quot;authorizationType&quot;: &quot;NONE&quot;,
    &quot;requestParameters&quot;: {
       &quot;method.request.path.petId&quot;: true
    }
}</code></pre>
                           <p>You need to set the <code class="code">requestParameters</code> property as shown in
                              the preceding example to map and pass the client-supplied <code class="code">petId</code>
                              value to the backend.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p> Call the <code class="code">putMethodResponse</code> function to set up a method
                              response for the <code class="code">GET /pets</code> method. 
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">apig.putMethodResponse({
	restApiId: &apos;iuo308uaq7&apos;,
	resourceId: &quot;8sxa2j&quot;,
	httpMethod: &apos;GET&apos;,
	statusCode: &apos;200&apos;
}, function(err, data){
	if (!err) {
		console.log(data);
	} else {
		console.log(&quot;Set up the 200 OK response for the &apos;GET /pets&apos; method failed:\n&quot;, err);
	}

})
</code></pre>
                           <p>This function  returns an output similar to the following result:</p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">{
    &quot;statusCode&quot;: &quot;200&quot;
}</code></pre>
                           <p>To set the 200 OK response of the <code class="code">GET /pets/{petId}</code> method,
                              call the <code class="code">putMethodResponse</code> function, specifying the
                              <code class="code">/pets/{petId}</code> resource identifier (<code class="code">au5df2</code>) on
                              the <code class="code">resourceId</code> property. 
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">apig.putMethodResponse({
	restApiId: &apos;iuo308uaq7&apos;,
	resourceId: &quot;au5df2&quot;,
	httpMethod: &apos;GET&apos;,
	statusCode: &apos;200&apos;
}, function(err, data){
	if (!err) {
		console.log(data);
	} else {
		console.log(&quot;Set up the 200 OK response for the &apos;GET /pets/{petId}&apos; method failed:\n&quot;, err);
	}

})
</code></pre>
                           </li>
                        <li>
                           
                           <p> Call the <code class="code">putIntegration</code> function to set up the
                              <code class="code">Integration</code> with a specified HTTP endpoint for the
                              <code class="code">GET /pets</code> method, supplying the <code class="code">/pets</code> resource
                              identifier (<code class="code">8sxa2j</code>) on the <code class="code">parentId</code> property. 
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">apig.putIntegration({
	restApiId: &apos;iuo308uaq7&apos;,
	resourceId: &apos;8sxa2j&apos;,
	httpMethod: &apos;GET&apos;,
	type: &apos;HTTP&apos;,
	integrationHttpMethod: &apos;GET&apos;,
	uri: &apos;http://perstore-demo-endpoint.execute-api.com/pets&apos;
}, function(err, data){
	if (!err) {
		console.log(data);
	} else {
		console.log(&quot;Set up the integration of the &apos;GET /&apos; method of the API failed:\n&quot;, err);
	}

})</code></pre>
                           <p>This function  returns an output similar the following:</p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">{
    &quot;httpMethod&quot;: &quot;GET&quot;, 
    &quot;passthroughBehavior&quot;: &quot;WHEN_NO_MATCH&quot;, 
    &quot;cacheKeyParameters&quot;: [], 
    &quot;type&quot;: &quot;HTTP&quot;, 
    &quot;uri&quot;: &quot;http://petstore-demo-endpoint.execute-api.com/petstore/pets&quot;, 
    &quot;cacheNamespace&quot;: &quot;8sxa2j&quot;
}</code></pre>
                           <p>To set up the integration of the <code class="code">GET /pets/{petId}</code> method
                              with the HTTP endpoint of
                              <code class="code">http://perstore-demo-endpoint.execute-api.com/pets/{id}</code> of
                              the backend, call the following <code class="code">putIntegration</code> function,
                              supplying the API&apos;s <code class="code">/pets/{petId}</code> resource identifier
                              (<code class="code">au5df2</code>) on the <code class="code">parentId</code> property. 
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">apig.putIntegration({
	restApiId: &apos;iuo308uaq7&apos;,
	resourceId: &apos;au5df2&apos;,
	httpMethod: &apos;GET&apos;,
	type: &apos;HTTP&apos;,
	integrationHttpMethod: &apos;GET&apos;,
	uri: &apos;http://perstore-demo-endpoint.execute-api.com/pets/{id}&apos;,
       requestParameters: {
          &quot;integration.request.path.id&quot;: &quot;method.request.path.petId&quot;
       }
}, function(err, data){
	if (!err) {
		console.log(data);
	} else {
		console.log(&quot;The &apos;GET /pets/{petId}&apos; method integration setup failed:\n&quot;, err);
	}

})</code></pre>
                           <p>This function returns a successful output similar to the following:</p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">{
    &quot;httpMethod&quot;: &quot;GET&quot;, 
    &quot;passthroughBehavior&quot;: &quot;WHEN_NO_MATCH&quot;, 
    &quot;cacheKeyParameters&quot;: [], 
    &quot;type&quot;: &quot;HTTP&quot;, 
    &quot;uri&quot;: &quot;http://petstore-demo-endpoint.execute-api.com/petstore/pets/{id}&quot;, 
    &quot;cacheNamespace&quot;: &quot;au5df2&quot;,
    &quot;requestParameters&quot;: {
       &quot;integration.request.path.id&quot;: &quot;method.request.path.petId&quot;
    }
}</code></pre>
                           </li>
                        <li>
                           
                           <p> Call the <code class="code">putIntegrationResponse</code> function to set up the 200
                              OK integration response for the <code class="code">GET /pets</code> method, specifying
                              the API&apos;s <code class="code">/pets</code> resource identifier (<code class="code">8sxa2j</code>) on
                              the <code class="code">resourceId</code> property. 
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">apig.putIntegrationResponse({
	restApiId: &apos;iuo308uaq7&apos;,
	resourceId: &apos;8sxa2j&apos;,
	httpMethod: &apos;GET&apos;,
	statusCode: &apos;200&apos;,
	selectionPattern: &apos;&apos;
}, function(err, data){
	if (!err) {
		console.log(data);
	} else
		console.log(&quot;The &apos;GET /pets&apos; method integration response setup failed:\n&quot;, err);

})</code></pre>
                           <p>This function will return an output similar to the following
                              result:
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">{
    &quot;selectionPattern&quot;: &quot;&quot;, 
    &quot;statusCode&quot;: &quot;200&quot;
}</code></pre>
                           <p>To set up the 200 OK integration response of the <code class="code">GET
                                 /pets/{petId}</code> method, call the
                              <code class="code">putIntegrationResponse</code> function, specifying the API&apos;s
                              <code class="code">/pets/{petId}</code> resource identifier (<code class="code">au5df2</code>) on
                              the <code class="code">resourceId</code> property. 
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">apig.putIntegrationResponse({
	restApiId: &apos;iuo308uaq7&apos;,
	resourceId: &apos;au5df2&apos;,
	httpMethod: &apos;GET&apos;,
	statusCode: &apos;200&apos;,
	selectionPattern: &apos;&apos;
}, function(err, data){
	if (!err) {
		console.log(data);
	} else
		console.log(&quot;The &apos;GET /pets/{petId}&apos; method integration response setup failed:\n&quot;, err);

})</code></pre>
                           </li>
                        <li>
                           
                           <p>As a good practice, test invoking the API before deploying it. To test
                              invoking the <code class="code">GET /pets</code> method, call the
                              <code class="code">testInvokeMethod</code>, specifying the <code class="code">/pets</code>resource
                              identifier (<code class="code">8sxa2j</code>) on the <code class="code">resourceId</code>
                              property:
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">apig.testInvokeMethod({
	restApiId: &apos;iuo308uaq7&apos;,
	resourceId: &apos;8sxa2j&apos;,
	httpMethod: &quot;GET&quot;,
	pathWithQueryString: &apos;/&apos;
}, function(err, data){
	if (!err) {
		console.log(data)
	} else {
		console.log(&apos;Test-invoke-method on &apos;GET /pets&apos; failed:\n&apos;, err);
	}
})</code></pre>
                           <p>To test invoking the <code class="code">GET /pets/{petId}</code> method, call the
                              <code class="code">testInvokeMethod</code>, specifying the <code class="code">/pets/{petId}</code>
                              resource identifier (<code class="code">au5df2</code>) on the <code class="code">resourceId</code>
                              property:
                           </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">apig.testInvokeMethod({
	restApiId: &apos;iuo308uaq7&apos;,
	resourceId: &apos;au5df2&apos;,
	httpMethod: &quot;GET&quot;,
	pathWithQueryString: &apos;/&apos;
}, function(err, data){
	if (!err) {
		console.log(data)
	} else {
		console.log(&apos;Test-invoke-method on &apos;GET /pets/{petId}&apos; failed:\n&apos;, err);
	}
})</code></pre>
                           
                           </li>
                        <li>
                           
                           <p> Finally, you can deploy the API for your customers to call. </p>
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">apig.createDeployment({
	restApiId: &apos;iuo308uaq7&apos;,
	stageName: &apos;test&apos;,
	stageDescription: &apos;test deployment&apos;,
	description: &apos;API deployment&apos;
}, function(err, data){
	if (err) {
		console.log(&apos;Deploying API failed:\n&apos;, err);
	}	else {
		console.log(&quot;Deploying API succeeded\n&quot;, data);
	}
})</code></pre>
                           </li>
                     </ol>
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="create-api-using-awscli.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="create-api-using-restapi.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper"></div>
            </div>
         </div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='Amazon API Gateway';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='Developer Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>