<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Step 1: Prepare - AWS Lambda</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="with-cloudtrail-example.html" title="Tutorial: Using AWS Lambda with AWS CloudTrail">
      <link rel="prev" href="with-cloudtrail-example.html" title="Tutorial: Using AWS Lambda with AWS CloudTrail">
      <link rel="next" href="with-cloudtrail-example-create-test-manually.html" title="Step 2: Create a Lambda
				Function and Invoke It Manually (Using Sample Event Data)">
      <meta name="description" content="In this section you do the following:">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="AWS Lambda">
      <meta name="guide" content="Developer Guide">
      <meta name="guide-locale" content="en_us">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/lambda/latest/dg/with-cloudtrail-example-prepare.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="http://aws.amazon.com/documentation">AWS Documentation</a> &#xBB; <a href="http://aws.amazon.com/documentation/lambda">AWS Lambda</a> &#xBB; <a href="index.html">Developer Guide</a> &#xBB; <a href="use-cases.html">Examples of How to Use AWS Lambda</a> &#xBB; <a href="with-cloudtrail.html">Using AWS Lambda with AWS CloudTrail</a> &#xBB; <a href="with-cloudtrail-example.html">Tutorial: Using AWS Lambda with AWS CloudTrail</a> &#xBB; <span class="breadcrumb">Step 1: Prepare</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div></div>
                     <h1 class="topictitle" id="with-cloudtrail-example-prepare">Step 1: Prepare</h1>
                     <p>In this section you do the following:</p>
                     <div class="itemizedlist">
                        					
                        					
                        					
                        				
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              						
                              <p>Sign up for an AWS account and set up the AWS CLI. </p>
                              					
                           </li>
                           <li class="listitem">
                              						
                              <p>Turn on CloudTrail in your account. </p>
                              					
                           </li>
                           <li class="listitem">
                              						
                              <p>Create an SNS topic and subscribe to it.</p>
                              					
                           </li>
                        </ul>
                     </div>
                     <p>Follow the steps in the following sections to walk through the setup process.</p>
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>In this tutorial, we assume that you are setting the resources in the
                           							<code class="code">us-west-2</code> region.
                        </p>
                     </div>
                     <h2 id="with-cloudtrail-example-prepare-setup-cli">Step 1.1: Sign Up for AWS and
                        					Set Up the AWS CLI
                     </h2>
                     				
                     				
                     <p>Make sure you have completed the following steps:</p>
                     				
                     <div class="itemizedlist">
                        					
                        					
                        				
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              						
                              <p>Signed up for an AWS account and created an
                                 							administrator user in the account (called 
                                 							<b>adminuser</b>). For instructions, see <a href="setup.html">Set Up an AWS Account</a>. 
                              </p>
                              					
                           </li>
                           <li class="listitem">
                              						
                              <p>Installed and set up the AWS CLI. For instructions, see <a href="setup-awscli.html">Set Up the AWS Command Line Interface (AWS CLI)</a>.
                              </p>
                              					
                           </li>
                        </ul>
                     </div>
                     			
                     <h2 id="with-cloudtrail-example-prepare-create-buckets">Step 1.2: Turn on
                        					CloudTrail
                     </h2>
                     				
                     				
                     <p>In the AWS CloudTrail console, turn on the trail in your account by specifying
                        						<em class="replaceable"><code>examplebucket</code></em> in the <code class="code">us-west-2</code>
                        					region for CloudTrail to save logs. When configuring the trail, do not enable
                        SNS
                        					notification. 
                     </p>
                     				
                     <p>For instructions, see <a href="./awscloudtrail/latest/userguide/cloudtrail-create-and-update-a-trail.html" target="_blank">Creating and
                           						Updating Your Trail</a> in the
                        					<em>AWS CloudTrail User Guide</em>.
                     </p>
                     				
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>Although you turn CloudTrail on now, you do not perform any additional
                           							configuration for your Lambda function to process the real
                           							CloudTrail logs in the first half of this exercise. Instead, you will use
                           							sample CloudTrail log objects (that you will upload) and sample S3 events
                           							to manually invoke and test your Lambda function. In the second half of
                           							this tutorial, you perform additional configuration steps that enable your
                           Lambda
                           							function to process the CloudTrail logs. 
                        </p>
                     </div>
                     			
                     <h2 id="with-cloudtrail-example-prepare-create-sns-toppic">Step 1.3: Create
                        					an SNS Topic and Subscribe to the Topic
                     </h2>
                     				
                     				
                     <p>Follow the procedure to create an SNS topic in the <code class="code">us-west-2</code>
                        					region and subscribe to it by providing an email address as the endpoint.
                     </p>
                     				
                     <p class="title"><b>To create and subscribe to a topic</b></p>
                     <ol>
                        <li>
                           						
                           <p>Create an SNS topic. </p>
                           						
                           <p>For instructions, see <a href="./sns/latest/dg/CreateTopic.html" target="_blank">Create a Topic</a> in the
                              							<em>Amazon Simple Notification Service Developer Guide</em>.
                           </p>
                           					
                        </li>
                        <li>
                           						
                           <p>Subscribe to the topic by providing an email address as the endpoint. </p>
                           						
                           <p>For instructions, see <a href="./sns/latest/dg/SubscribeTopic.html" target="_blank">Subscribe to a Topic</a> in the
                              								<em>Amazon Simple Notification Service Developer Guide</em>.
                           </p>
                           					
                        </li>
                        <li>
                           						
                           <p>Note down the topic ARN. You will need the value in the following
                              							sections.
                           </p>
                           					
                        </li>
                     </ol>
                     			
                     <h2 id="with-cloudtrail-example-prepare-next-step">Next Step</h2>
                     				
                     				
                     <p><a href="with-cloudtrail-example-create-test-manually.html">Step 2: Create a Lambda
                           				Function and Invoke It Manually (Using Sample Event Data)</a></p>
                     			
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="with-cloudtrail-example.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="with-cloudtrail-example-create-test-manually.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Step 1.1: Sign Up for AWS and
					Set Up the AWS CLI"><a class="pagetoc" href="#with-cloudtrail-example-prepare-setup-cli">Step 1.1: Sign Up for AWS and
                              					Set Up the AWS CLI</a></li>
                        <li class="pagetoc" name="Step 1.2: Turn on
					CloudTrail"><a class="pagetoc" href="#with-cloudtrail-example-prepare-create-buckets">Step 1.2: Turn on
                              					CloudTrail</a></li>
                        <li class="pagetoc" name="Step 1.3: Create
					an SNS Topic and Subscribe to the Topic"><a class="pagetoc" href="#with-cloudtrail-example-prepare-create-sns-toppic">Step 1.3: Create
                              					an SNS Topic and Subscribe to the Topic</a></li>
                        <li class="pagetoc" name="Next Step"><a class="pagetoc" href="#with-cloudtrail-example-prepare-next-step">Next Step</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='AWS Lambda';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='Developer Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>