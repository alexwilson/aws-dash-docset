<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Step 2.1: Create
         					a Deployment Package - AWS Lambda
      </title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="with-on-demand-custom-android-example-create-test-manually.html" title="Step 2: Create the 
				Lambda Function and Invoke It Manually (Using Sample Event Data)">
      <link rel="prev" href="with-on-demand-custom-android-example-create-test-manually.html" title="Step 2: Create the 
				Lambda Function and Invoke It Manually (Using Sample Event Data)">
      <link rel="next" href="with-on-demand-custom-android-example-create-iam-role.html" title="Step 2.2: Create the 
					Execution Role (IAM Role)">
      <meta name="description" content="From the Filter View list, choose the language you want to use for your Lambda function. The appropriate section appears with code and specific instructions for creating a deployment package.">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="AWS Lambda">
      <meta name="guide" content="Developer Guide">
      <meta name="guide-locale" content="en_us">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/lambda/latest/dg/with-on-demand-custom-android-example-deployment-pkg.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="http://aws.amazon.com/documentation">AWS Documentation</a> &#xBB; <a href="http://aws.amazon.com/documentation/lambda">AWS Lambda</a> &#xBB; <a href="index.html">Developer Guide</a> &#xBB; <a href="use-cases.html">Examples of How to Use AWS Lambda</a> &#xBB; <a href="with-on-demand-custom-android.html">Using AWS Lambda as Mobile Application Backend
                                    		(Custom Event Source: Android)</a> &#xBB; <a href="with-on-demand-custom-android-example.html">Tutorial: Using AWS Lambda as Mobile Application Backend</a> &#xBB; <a href="with-on-demand-custom-android-example-create-test-manually.html">Step 2: Create the 
                                    				Lambda Function and Invoke It Manually (Using Sample Event Data)</a> &#xBB; <span class="breadcrumb">Step 2.1: Create
                                    					a Deployment Package</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div></div>
                     <div id="language-filter" class="page-header" style="display:none">
                        <form> Filter View: 
                           <select name="filter-select" id="filter-select">
                              <option selected="1">All</option>
                              <option value="Node.js" selected>Node.js</option>
                              <option value="Java" selected>Java</option></select></form>
                     </div>
                     <h1 class="topictitle" id="with-on-demand-custom-android-example-deployment-pkg">Step 2.1: Create
                        					a Deployment Package
                     </h1>
                     <p>From the <b>Filter View</b> list, choose the language you want to use for your Lambda
                        					function. The appropriate section appears with code and specific
                        					instructions for creating a deployment package.
                     </p>
                     <div id="Node.js" name="Node.js" class="section langfilter">
                        <h2 id="with-on-demand-custom-android-example-deployment-pkg-nodejs">Node.js</h2>
                        					
                        					
                        <p>Follow the instructions to create an AWS Lambda function deployment package. </p>
                        					
                        <ol>
                           <li>
                              							
                              <p>Open a text editor, and then copy the following code. </p>
                              							<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">exports.handler = function(event, context, callback) {
   console.log(&quot;Received event: &quot;, event);
   var data = {
       &quot;greetings&quot;: &quot;Hello, &quot; + event.firstName + &quot; &quot; + event.lastName + &quot;.&quot;
   };
   callback(null, data);
}</code></pre>
                              							<div class="aws-note">
                                 <p class="aws-note">Note</p>
                                 <p>The code sample is compliant with the Node.js runtimes v6.10 or v8.10. For more information,
                                    see <a href="programming-model.html">Programming Model(Node.js)</a></p>
                              </div>					
                              						
                           </li>
                           <li>
                              							
                              <p>Save the file as <code>AndroidBackendLambdaFunction.js</code>. 
                              </p>
                              						
                           </li>
                           <li>
                              							
                              <p>Zip the <code>AndroidBackendLambdaFunction.js</code> file as <code>AndroidBackendLambdaFunction.zip</code>. 
                              </p>
                              						
                           </li>
                        </ol>
                        					
                        					
                        <h3 id="with-on-demand-custom-android-example-deployment-pkg-nodejs-next-step">Next
                           							Step
                        </h3>
                        						
                        						
                        <p>
                           							<a href="with-on-demand-custom-android-example-create-iam-role.html">Step 2.2: Create the 
                              					Execution Role (IAM Role)</a>
                           						
                        </p>
                        					
                        				
                     </div>
                     <div id="Java" name="Java" class="section langfilter">
                        <h2 id="with-on-demand-custom-android-example-deployment-pkg-java">Java</h2>
                        					
                        					
                        					
                        <p>Use the following Java code to create your Lambda function
                           						(<code class="code">AndroidBackendLambdaFunction</code>). The code receives Android app event data as
                           						the first parameter to the handler. Then, the code processes event data (for
                           						illustration this code writes some of the event data to CloudWatch Logs and
                           						returns a string in response).
                        </p>
                        					
                        <p>In the code, the <code class="code">handler</code> (<code class="code">myHandler</code>) uses the
                           							<code class="code">RequestClass</code> and <code class="code">ResponseClass</code> types for the
                           						input and output. The code provides implementation for these types.
                        </p>
                        					
                        <div class="aws-note">
                           <p class="aws-note">Important</p>
                           <p>You use the same classes (POJOs) to handle the input and
                              								output data when you create the sample mobile application in the
                              								next section. 
                           </p>
                        </div>
                        					<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">package example;

import com.amazonaws.services.lambda.runtime.Context; 

public class HelloPojo {

    // Define two classes/POJOs for use with Lambda function.
    public static class RequestClass {
        String firstName;
        String lastName;

        public String getFirstName() {
            return firstName;
        }

        public void setFirstName(String firstName) {
            this.firstName = firstName;
        }

        public String getLastName() {
            return lastName;
        }

        public void setLastName(String lastName) {
            this.lastName = lastName;
        }

        public RequestClass(String firstName, String lastName) {
            this.firstName = firstName;
            this.lastName = lastName;
        }

        public RequestClass() {
        }
    }

    public static class ResponseClass {
        String greetings;

        public String getGreetings() {
            return greetings;
        }

        public void setGreetings(String greetings) {
            this.greetings = greetings;
        }

        public ResponseClass(String greetings) {
            this.greetings = greetings;
        }

        public ResponseClass() {
        }

    }

    public static ResponseClass myHandler(RequestClass request, Context context){
        String greetingString = String.format(&quot;Hello %s, %s.&quot;, request.firstName, request.lastName);
        context.getLogger().log(greetingString);
        return new ResponseClass(greetingString);
    }
}</code></pre>
                        					
                        					
                        					<p>Save the preceding code in a file (<code>HelloPojo.java</code>). Create a deployment
                           						package. You need to include the following dependency: 
                        </p>
                        					
                        <div class="itemizedlist">
                           							
                           						
                           <ul class="itemizedlist" type="disc">
                              <li class="listitem">
                                 								
                                 <p><code class="code">aws-lambda-java-core</code></p>
                                 							
                              </li>
                           </ul>
                        </div>
                        					
                        <p>Your deployment package can be a .zip file or a standalone .jar. You can
                           						use any build and packaging tool you are familiar with to create a
                           						deployment package. For examples of how to use
                           						the Maven build tool to create a standalone .jar, see <a href="java-create-jar-pkg-maven-no-ide.html">Creating a .jar Deployment Package Using Maven without any
                              IDE (Java)</a> and <a href="java-create-jar-pkg-maven-and-eclipse.html">Creating a .jar Deployment Package Using Maven and Eclipse IDE (Java)</a>. For an example of how to use the Gradle build
                           						tool to create a .zip file, see <a href="create-deployment-pkg-zip-java.html">Creating a .zip Deployment Package (Java)</a>.
                        </p>
                        					
                        <p>After you verify that your deployment package (<code>lambda-java-example-1.0-SNAPSHOT.jar</code>) is
                           						created, go to the next section to create an IAM role (execution role). You
                           						specify the role when you create your Lambda function. 
                        </p>
                        					
                        <h3 id="with-on-demand-custom-android-example-deployment-pkg-java-next-step">Next
                           							Step
                        </h3>
                        						
                        						
                        <p>
                           							<a href="with-on-demand-custom-android-example-create-iam-role.html">Step 2.2: Create the 
                              					Execution Role (IAM Role)</a>
                           						
                        </p>
                        					
                        				
                     </div>
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="with-on-demand-custom-android-example-create-test-manually.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="with-on-demand-custom-android-example-create-iam-role.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Node.js"><a class="pagetoc" href="#with-on-demand-custom-android-example-deployment-pkg-nodejs">Node.js</a></li>
                        <li class="pagetoc" name="Java"><a class="pagetoc" href="#with-on-demand-custom-android-example-deployment-pkg-java">Java</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='AWS Lambda';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='Developer Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>