<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Introduction to AWS Lambda Versioning - AWS Lambda</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="versioning-aliases.html" title="AWS Lambda Function Versioning and Aliases">
      <link rel="prev" href="versioning-aliases.html" title="AWS Lambda Function Versioning and Aliases">
      <link rel="next" href="aliases-intro.html" title="Introduction to AWS Lambda Aliases">
      <meta name="description" content="Following, you can find how to create a Lambda function and publish a version from it. You can also find how to update function code and configuration information when you have one or more published versions. In addition, you can find information on how to delete function versions, either specific versions or an entire Lambda function with all of its versions and associated aliases.">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="AWS Lambda">
      <meta name="guide" content="Developer Guide">
      <meta name="guide-locale" content="en_us">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/lambda/latest/dg/versioning-intro.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="http://aws.amazon.com/documentation">AWS Documentation</a> &#xBB; <a href="http://aws.amazon.com/documentation/lambda">AWS Lambda</a> &#xBB; <a href="index.html">Developer Guide</a> &#xBB; <a href="deploying-lambda-apps.html">Deploying Lambda-based Applications</a> &#xBB; <a href="versioning-aliases.html">AWS Lambda Function Versioning and Aliases</a> &#xBB; <span class="breadcrumb">Introduction to AWS Lambda Versioning</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div></div>
                     <h1 class="topictitle" id="versioning-intro">Introduction to AWS Lambda Versioning</h1>
                     <p>Following, you can find how to create a Lambda function and publish a version from
                        it. You
                        			can also find how to update function code and configuration information when you
                        have
                        			one or more published versions. In addition, you can find information on how to
                        delete
                        			function versions, either specific versions or an entire Lambda function with all
                        of its
                        			versions and associated aliases.
                     </p>
                     <h2 id="versioning-intro-create-function">Creating a Lambda Function (the $LATEST
                        					Version)
                     </h2>
                     			
                     			
                     <p>When you create a Lambda function, there is only one version&#x2014;the <code class="code">$LATEST</code>
                        				version. 
                     </p>
                     			
                     
                     				
                     <p><span class="inlinemediaobject"><img src="../../..//img/lambda-versioning-v2-latest1.png">
                           				
                           			</span></p>
                     			
                     			
                     		
                     			
                     <p>You can refer to this function using its Amazon Resource Name (ARN). There are two
                        ARNs
                        				associated with this initial version:
                     </p>
                     			
                     <div class="itemizedlist">
                        				
                        				
                        			
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              					
                              <p><b>Qualified ARN</b> &#x2013; The 
                                 						function ARN with the version suffix.
                              </p>
                              		<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">arn:aws:lambda:aws-region:acct-id:function:helloworld:$LATEST</code></pre>
                              				</li>
                           <li class="listitem">
                              					
                              <p><b>Unqualified ARN</b> &#x2013; The 
                                 						function ARN without the version suffix. 
                              </p>
                              					
                              <p>You can use this unqualified ARN in all relevant operations. However, you cannot use
                                 it
                                 						to create an alias. For more information, see <a href="aliases-intro.html">Introduction to AWS Lambda Aliases</a>.
                                 						
                              </p>
                              					
                              <p>The unqualified ARN has its own resource policies.</p>
                              			<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">arn:aws:lambda:aws-region:acct-id:function:helloworld</code></pre>
                              				</li>
                        </ul>
                     </div>
                     			
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>Unless you choose to publish versions, the $LATEST function version is the only Lambda
                           					function version that you have. You can use either the qualified or unqualified
                           					ARN in your event source mapping to invoke the <code class="code">$LATEST</code>
                           					version.
                        </p>
                     </div>
                     			
                     <p>The following is an example response for a <code class="code">CreateFunction</code> API call.
                     </p>
                     			<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">{
    &quot;CodeSize&quot;: 287,
    &quot;Description&quot;: &quot;test function.&quot;
    &quot;FunctionArn&quot;: &quot;arn:aws:lambda:<em class="replaceable"><code>aws-region</code></em>:<em class="replaceable"><code>acct-id</code></em>:function:helloworld&quot;,
    &quot;FunctionName&quot;: &quot;helloworld&quot;,
    &quot;Handler&quot;: &quot;helloworld.handler&quot;,
    &quot;LastModified&quot;: &quot;2015-07-16T00:34:31.322+0000&quot;,
    &quot;MemorySize&quot;: 128,
    &quot;Role&quot;: &quot;arn:aws:iam::acct-id:role/lambda_basic_execution&quot;,
    &quot;Runtime&quot;: &quot;nodejs6.10&quot;,
    &quot;Timeout&quot;: 3,
    &quot;CodeSHA256&quot;: &quot;OjRFuuHKizEE8tHFIMsI+iHR6BPAfJ5S0rW31Mh6jKg=&quot;,
    &quot;Version&quot;: &quot;$LATEST&quot; 
}</code></pre>
                     			<p>For more information, see
                        				<a href="API_CreateFunction.html">CreateFunction</a>.
                     </p>
                     			
                     <p>In this response, AWS Lambda returns the unqualified ARN of the newly created function
                        and
                        				also its version, <code class="code">$LATEST</code>. The response also shows that the
                        					<code class="code">Version</code>&#xA0;is <code class="code">$LATEST</code>. The <code class="code">CodeSha256</code>&#xA0;is the
                        				checksum of the deployment package that you uploaded.
                     </p>
                     		
                     <h2 id="versioning-intro-publish-version">Publishing an AWS Lambda
                        				Function Version
                     </h2>
                     			
                     			
                     <p>When you publish a version, AWS Lambda makes a snapshot copy of the Lambda function
                        code (and
                        				configuration) in the <code class="code">$LATEST</code> version. A published version is
                        				immutable. That is, you can&apos;t change the code or configuration information. The
                        new
                        				version has a unique ARN that includes a version number suffix as shown
                        				following.
                     </p>
                     		
                     		
                     			
                     			
                     <p><span class="inlinemediaobject"><img src="../../..//img/lambda-versioning-v2-latest+v1_1.png">
                           				
                           			</span></p>
                     			
                     			
                     			
                     			
                     		
                     			
                     <p>You can publish a version by using any of the following methods:</p>
                     			
                     <div class="itemizedlist">
                        				
                        				
                        			
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              					
                              <p><b>Publish a version explicitly</b> &#x2013; You can use
                                 							the&#xA0;<code class="code">PublishVersion</code>&#xA0;API operation to explicitly publish a
                                 						version. For more information, see <a href="API_PublishVersion.html">PublishVersion</a>. This operation creates a new
                                 						version using the code and configuration in the <code class="code">$LATEST</code>
                                 						version.
                              </p>
                              				
                           </li>
                           <li class="listitem">
                              					
                              <p><b>Publish a version at the time you create or update a Lambda
                                    							function</b> &#x2013; You can also use the
                                 							<code class="code">CreateFunction</code> or <code class="code">UpdateFunctionCode</code> requests
                                 						to publish a version by adding the optional <code class="code">publish</code> parameter
                                 						in the request:
                              </p>
                              					
                              <div class="itemizedlist">
                                 						
                                 						
                                 					
                                 <ul class="itemizedlist" type="disc">
                                    <li class="listitem">
                                       							
                                       <p>Specify the <code class="code">publish</code> parameter in your <code class="code">CreateFunction</code> request
                                          								to create a new Lambda function (the <code class="code">$LATEST</code> version).
                                          								You can then immediately publish the new function by creating a
                                          								snapshot and assigning it to be version 1. For more information
                                          								about <code class="code">CreateFunction</code>, see <a href="API_CreateFunction.html">CreateFunction</a>.
                                       </p>
                                       						
                                    </li>
                                    <li class="listitem">
                                       							
                                       <p>Specify the <code class="code">publish</code> parameter in your <code class="code">UpdateFunctionCode</code>
                                          								request to update the code in the <code class="code">$LATEST</code> version. You
                                          								can then publish a version from the <code class="code">$LATEST</code>. For more
                                          								information about <code class="code">UpdateFunctionCode</code>, see <a href="API_UpdateFunctionCode.html">UpdateFunctionCode</a>.
                                       </p>
                                       						
                                    </li>
                                 </ul>
                              </div>
                              					
                              <p>If you specify the <code class="code">publish</code> parameter at the time you create a Lambda
                                 						function, the function configuration information that AWS Lambda returns in
                                 						response shows the version number of the newly published version. In the
                                 						following example, the version is 1.
                              </p>
                              					<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">{
    &quot;CodeSize&quot;: 287,
    &quot;Description&quot;: &quot;test function.&quot;
    &quot;FunctionArn&quot;: &quot;arn:aws:lambda:<em class="replaceable"><code>aws-region</code></em>:<em class="replaceable"><code>acct-id</code></em>:function:helloworld&quot;,
    &quot;FunctionName&quot;: &quot;helloworld&quot;,
    &quot;Handler&quot;: &quot;helloworld.handler&quot;,
    &quot;LastModified&quot;: &quot;2015-07-16T00:34:31.322+0000&quot;,
    &quot;MemorySize&quot;: 128,
    &quot;Role&quot;: &quot;arn:aws:iam::acct-id:role/lambda_basic_execution&quot;,
    &quot;Runtime&quot;: &quot;nodejs6.10&quot;,
    &quot;Timeout&quot;: 3,
    &quot;CodeSHA256&quot;: &quot;OjRFuuHKizEE8tHFIMsI+iHR6BPAfJ5S0rW31Mh6jKg=&quot;,
    &quot;Version&quot;: &quot;1&quot; 
}</code></pre>
                              				</li>
                        </ul>
                     </div>
                     			
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>Lambda only publishes a new version if the code hasn&apos;t yet been published or if the
                           code has
                           					changed when compared against the $LATEST version. If there is no change, the
                           					$LATEST published version is returned.
                        </p>
                     </div>
                     					
                     <p>We recommend that you publish a version at the same time that you create your Lambda
                        				function or update your Lambda function code. This recommendation especially applies
                        				when multiple developers contribute to the same Lambda function development. You
                        can
                        				use the <code class="code">publish</code> parameter in your request to do this. 
                     </p>
                     			
                     <p>When you have multiple developers working on a project, you can have a scenario
                        				where developer A creates a Lambda function (<code class="code">$LATEST</code> version). Before
                        				developer A publishes this version, developer B might update the code (the
                        				deployment package) associated with the <code class="code">$LATEST</code> version. In this case,
                        				you lose the original code that developer A uploaded. When both developers add
                        the
                        					<code class="code">publish</code> parameter, it prevents the race condition described.
                     </p>
                     			
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>The published versions are immutable. That is, you can&apos;t change code or configuration
                           					information associated with a version.
                        </p>
                     </div>
                     			
                     <p>Each version of a Lambda function is a unique resource with a Amazon Resource Name
                        (ARN).
                        				The following example shows the ARN of version number 1 of the
                        					<code class="code">helloworld</code>&#xA0;Lambda function.
                     </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">arn:aws:lambda:aws-region:acct-id:function:helloworld:1</code></pre>
                     			<div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>This ARN is qualified, where the version number is a suffix. Published versions can
                           have
                           					only qualified ARN.
                        </p>
                     </div>
                     			
                     <p>You can publish multiple versions of a Lambda function. Each time you publish a version,
                        				AWS Lambda copies <code class="code">$LATEST</code> version (code and configuration information)
                        				to create a new version. When you publish additional versions, AWS Lambda assigns
                        a
                        				monotonically increasing sequence number for versioning, even if the function
                        was
                        				deleted and recreated. Version numbers are never reused, even for a function that
                        				has been deleted and recreated. This approach means that the consumer of a function
                        				version can depend on the executable of that version to never change (except if
                        it&apos;s
                        				deleted). 
                     </p>
                     			
                     <p>If you want to reuse a qualifier, use aliases with your versions. Aliases can be
                        				deleted and re-created with the same name. 
                     </p>
                     			
                     			
                     <p><span class="inlinemediaobject"><img src="../../..//img/lambda-versioning-v2-latest+v1+v2_1.png">
                           				
                           			</span></p>
                     			
                     			
                     			
                     			
                     			
                     		
                     <h2 id="versioning-intro-updating-function-code">Updating Lambda
                        				Function Code and Configuration
                     </h2>
                     			
                     			
                     <p>AWS Lambda maintains your latest function code in the&#xA0;<code class="code">$LATEST</code>&#xA0;version. When you
                        				update your function code, AWS Lambda replaces the code in
                        				the&#xA0;<code class="code">$LATEST</code>&#xA0;version of the Lambda function. For more information,
                        					see&#xA0;<a href="API_UpdateFunctionCode.html">UpdateFunctionCode</a>.
                     </p>
                     			
                     			
                     <p>Published versions are immutable. You can&apos;t update code or configuration information
                        				associated with a published version.
                     </p>
                     			
                     			
                     <p>You have the following options of publishing a new version as you update your
                        				Lambda function code:
                     </p>
                     <div class="itemizedlist">
                        					
                        					
                        				
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              						
                              <p><b>Publish a version in the same update code request</b>
                                 						&#x2013; Use the <code class="code">UpdateFunctionCode</code>&#xA0;API operation
                                 						(recommended).
                              </p>
                              					
                           </li>
                           <li class="listitem">
                              						
                              <p><b>First update the code, and then explicitly publish a
                                    							version</b> &#x2013; Use the <code class="code">PublishVersion</code>&#xA0;API
                                 						operation.
                              </p>
                              					
                           </li>
                        </ul>
                     </div>
                     			
                     <p>You can update code and configuration information (such as description, memory size,
                        and
                        				execution timeout) for the <code class="code">$LATEST</code> version of the Lambda function.
                        				However, published versions are immutable. That is, you can&apos;t change code or
                        				configuration information.
                     </p>
                     		
                     <h2 id="versioning-intro-deleting-function-versions">Deleting a
                        				Lambda Function and a Specific Version
                     </h2>
                     			
                     			
                     <p>With versioning, you have the following choices:</p>
                     <div class="itemizedlist">
                        					
                        					
                        				
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              						
                              <p><b>Delete a specific version</b> &#x2013; You can delete a
                                 						Lambda function version by specifying the version you want to delete in your
                                 							<code class="code">DeleteFunction</code>&#xA0;request. If there are aliases that depend on
                                 						this version, the request fails. AWS Lambda deletes the version only if there
                                 						are no aliases dependent on this version. For more information about
                                 						aliases, see <a href="aliases-intro.html">Introduction to AWS Lambda Aliases</a>.
                              </p>
                              					
                           </li>
                           <li class="listitem">
                              						
                              <p><b>Delete the entire Lambda function (all of its versions and
                                    							aliases)</b> &#x2013; To delete the Lambda function and all of its
                                 						versions, don&apos;t specify any version in
                                 						your&#xA0;<code class="code">DeleteFunction</code>&#xA0;request. Doing this deletes the entire
                                 						function including all of its versions and aliases.
                              </p>
                              					
                           </li>
                        </ul>
                     </div>
                     			
                     <div class="aws-note">
                        <p class="aws-note">Important</p>
                        <p>You can delete a specific function version, but you cannot delete
                           				the&#xA0;<code class="code">$LATEST</code>. 
                        </p>
                     </div>
                     		
                     <h2 id="versioning-intro-related-topic">Related Topics</h2>
                     			
                     			
                     <p><a href="aliases-intro.html">Introduction to AWS Lambda Aliases</a></p>
                     			
                     <p><a href="how-to-manage-versioning.html">Managing Versioning Using the AWS Management Console, the AWS CLI, or
                           				Lambda API Operations</a></p>
                     		
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="versioning-aliases.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="aliases-intro.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Creating a Lambda Function (the $LATEST
					Version)"><a class="pagetoc" href="#versioning-intro-create-function">Creating a Lambda Function (the $LATEST
                              					Version)</a></li>
                        <li class="pagetoc" name="Publishing an AWS Lambda
				Function Version"><a class="pagetoc" href="#versioning-intro-publish-version">Publishing an AWS Lambda
                              				Function Version</a></li>
                        <li class="pagetoc" name="Updating Lambda
				Function Code and Configuration"><a class="pagetoc" href="#versioning-intro-updating-function-code">Updating Lambda
                              				Function Code and Configuration</a></li>
                        <li class="pagetoc" name="Deleting a
				Lambda Function and a Specific Version"><a class="pagetoc" href="#versioning-intro-deleting-function-versions">Deleting a
                              				Lambda Function and a Specific Version</a></li>
                        <li class="pagetoc" name="Related Topics"><a class="pagetoc" href="#versioning-intro-related-topic">Related Topics</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='AWS Lambda';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='Developer Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>