<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Setting Signed Cookies Using a Canned Policy - Amazon CloudFront</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="private-content-signed-cookies.html" title="Using Signed Cookies">
      <link rel="prev" href="private-content-signed-cookies.html" title="Using Signed Cookies">
      <link rel="next" href="private-content-setting-signed-cookie-custom-policy.html" title="Setting Signed Cookies Using a Custom Policy">
      <meta name="description" content="Set signed cookies using a canned policy to control end-user access to your objects.">
      <meta name="keywords" content="Amazon CloudFront,CloudFront,cache,distribution,edge,geo,HTTP,HTTPS,media,origin,RTMP,streaming">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="Amazon CloudFront">
      <meta name="guide" content="Developer Guide">
      <meta name="guide-locale" content="en_us">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/private-content-setting-signed-cookie-canned-policy.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="http://aws.amazon.com/documentation">AWS Documentation</a> &#xBB; <a href="http://aws.amazon.com/documentation/cloudfront">Amazon CloudFront</a> &#xBB; <a href="index.html">Developer Guide</a> &#xBB; <a href="PrivateContent.html">Serving Private Content through CloudFront</a> &#xBB; <a href="private-content-signed-cookies.html">Using Signed Cookies</a> &#xBB; <span class="breadcrumb">Setting Signed Cookies Using a Canned Policy</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div></div>
                     <h1 class="topictitle" id="private-content-setting-signed-cookie-canned-policy">Setting Signed Cookies Using a Canned Policy</h1>
                     <p>To set a signed cookie by using a canned policy, complete the following steps. To
                        create the signature, see 
                        		<a href="./AmazonCloudFront/latest/DeveloperGuide/private-content-setting-signed-cookie-canned-policy.html#private-content-canned-policy-signature-cookies" target="_blank">
                           			Creating a Signature for a Signed Cookie That Uses a Canned Policy</a>.
                     </p><a id="private-content-setting-signed-cookie-canned-policy-procedure"></a><p class="title"><b>To set a
                           signed cookie using a canned policy</b></p>
                     <ol>
                        <li>
                           
                           <p>If you&apos;re using .NET or Java to create signed cookies, and if you haven&apos;t reformatted
                              the private key for your key pair from the default .pem format to a format compatible
                              with .NET or with Java, do so now. For more information, see <a href="private-content-trusted-signers.html#private-content-reformatting-private-key">Reformatting the CloudFront Private Key
                                 				(.NET and Java Only)</a>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Program your application to send three <code class="code">Set-Cookie</code> headers to approved
                              viewers. You need three <code class="code">Set-Cookie</code> headers because each
                              							<code class="code">Set-Cookie</code> header can contain only one name-value pair, and a CloudFront signed
                              cookie requires three name-value pairs. The name-value pairs are:
                              							<code class="code">CloudFront-Expires</code>, <code class="code">CloudFront-Signature</code>, and
                              							<code class="code">CloudFront-Key-Pair-Id</code>. The values must be present on the viewer before a
                              user makes the first request for an object that you want to control access to. 
                           </p>
                           
                           <div class="aws-note">
                              <p class="aws-note">Note</p>
                              <p>In general, we recommend that you exclude <code class="code">Expires</code> and
                                 								<code class="code">Max-Age</code> attributes. Excluding the attributes causes the browser to
                                 							delete the cookie when the user closes the browser, which reduces the possibility
                                 of
                                 							someone getting unauthorized access to your content. For more information,
                                 see <a href="private-content-signed-cookies.html#private-content-signed-cookie-misuse">Preventing Misuse of Signed Cookies</a>.
                              </p>
                           </div>
                           
                           <p><b>The names of cookie attributes are case sensitive</b>. 
                           </p>
                           
                           <p>Line breaks are included only to make the attributes more readable.</p>
                           
                           <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">Set-Cookie: 
Domain=<em class="replaceable"><code>optional domain name</code></em>; 
Path=/<em class="replaceable"><code>optional directory path</code></em>; 
Secure; 
HttpOnly; 
CloudFront-Expires=<em class="replaceable"><code>date and time in Unix time format (in seconds) and Coordinated Universal Time (UTC)</code></em>

Set-Cookie: 
Domain=<em class="replaceable"><code>optional domain name</code></em>; 
Path=/<em class="replaceable"><code>optional directory path</code></em>; 
Secure; 
HttpOnly; 
CloudFront-Signature=<em class="replaceable"><code>hashed and signed version of the policy statement</code></em>

Set-Cookie: 
Domain=<em class="replaceable"><code>optional domain name</code></em>; 
Path=/<em class="replaceable"><code>optional directory path</code></em>; 
Secure; 
HttpOnly; 
CloudFront-Key-Pair-Id=<em class="replaceable"><code>active CloudFront key pair Id for the key pair that you are using to generate the signature</code></em></code></pre>
                           
                           <div class="variablelist">
                              
                              
                              
                              
                              
                              
                              
                              
                              
                              
                              
                              
                              
                              
                              <dl>
                                 							
                                 <dt><b><span class="term">(Optional) <code class="code">Domain</code></span></b></dt>
                                 							
                                 <dd>
                                    								
                                    <p>The domain name for the requested object. If you don&apos;t specify a
                                       									  <code class="code">Domain</code> attribute, the default value is the domain name in the URL,
                                       									and it applies only to the specified domain name, not to subdomains. If you
                                       									specify a <code class="code">Domain</code> attribute, it also applies to subdomains. A leading
                                       									dot in the domain name (for example, <code class="code">Domain=.example.com</code>) is
                                       									optional. In addition, if you specify a <code class="code">Domain</code> attribute, the domain
                                       									name in the URL and the value of the <code class="code">Domain</code> attribute must
                                       									match.
                                    </p>
                                    								
                                    <p>You can specify the domain name that CloudFront assigned to your distribution, for
                                       									example, d111111abcdef8.cloudfront.net, but you can&apos;t specify *.cloudfront.net
                                       for
                                       									the domain name.
                                    </p>
                                    								
                                    <p>If you want to use an alternate domain name such as example.com in URLs, you
                                       									must add the alternate domain name to your distribution regardless of whether
                                       you
                                       									specify the <code class="code">Domain</code> attribute. For more information, see <a href="distribution-web-values-specify.html#DownloadDistValuesCNAME">Alternate Domain Names (CNAMEs)</a> in
                                       									the topic <a href="distribution-web-values-specify.html">Values That You Specify When You Create or Update a Web Distribution</a>.
                                    </p>
                                    							
                                 </dd>
                                 
                                 							
                                 <dt><b><span class="term">(Optional) <code class="code">Path</code></span></b></dt>
                                 							
                                 <dd>
                                    								
                                    <p>The path for the requested object. If you don&apos;t specify a <code class="code">Path</code>
                                       									attribute, the default value is the path in the URL.
                                    </p>
                                    							
                                 </dd>
                                 
                                 							
                                 <dt><b><span class="term"><code class="code">Secure</code></span></b></dt>
                                 							
                                 <dd>
                                    								
                                    <p>Requires that the viewer encrypt cookies before sending a request. We
                                       									recommend that you send the <code class="code">Set-Cookie</code> header over an HTTPS
                                       									connection to ensure that the cookie attributes are protected from
                                       									man-in-the-middle attacks.
                                    </p>
                                    							
                                 </dd>
                                 
                                 							
                                 <dt><b><span class="term"><code class="code">HttpOnly</code></span></b></dt>
                                 							
                                 <dd>
                                    								
                                    <p>Requires that the viewer send the cookie only in HTTP or HTTPS
                                       									requests.
                                    </p>
                                    							
                                 </dd>
                                 
                                 							
                                 <dt><b><span class="term"><code class="code">CloudFront-Expires</code></span></b></dt>
                                 							
                                 <dd>
                                    								
                                    <p>Specify the expiration date and time in Unix time format (in seconds) and Coordinated
                                       Universal Time (UTC).
                                       									For example, January 1, 2013 10:00 am UTC converts to 1357034400 in Unix
                                       time format. To use epoch time, use 
                                       									a 32-bit integer for a date which can be no later than 2147483647 (January
                                       19th, 2038 at 03:14:07 UTC). For 
                                       									information about UTC, see <em>RFC 3339, Date and Time on the Internet: Timestamps</em>, 
                                       									<a href="http://tools.ietf.org/html/rfc3339" target="_blank">http://tools.ietf.org/html/rfc3339</a>.
                                    </p>
                                    							
                                 </dd>
                                 
                                 							
                                 <dt><b><span class="term"><code class="code">CloudFront-Signature</code></span></b></dt>
                                 							
                                 <dd>
                                    								
                                    <p>A hashed, signed, and base64-encoded version of a JSON policy statement. For
                                       									more information, see <a href="private-content-setting-signed-cookie-canned-policy.html#private-content-canned-policy-signature-cookies">Creating a Signature for a Signed Cookie That Uses a Canned Policy</a>.
                                    </p>
                                    							
                                 </dd>
                                 
                                 							
                                 <dt><b><span class="term"><code class="code">CloudFront-Key-Pair-Id</code></span></b></dt>
                                 							
                                 <dd>
                                    								
                                    <p>The ID for an active CloudFront key pair, for example, APKA9ONS7QCOWEXAMPLE. The
                                       									CloudFront key pair ID tells CloudFront which public key to use to validate
                                       the signed cookie.
                                       									CloudFront compares the information in the signature with the information
                                       in the policy
                                       									statement to verify that the URL has not been tampered with.
                                    </p>
                                    								
                                    <p>The key pair ID that you include in CloudFront signed cookies must be associated
                                       									with an AWS account that is one of the trusted signers for the applicable
                                       cache
                                       									behavior.
                                    </p>
                                    								
                                    <p>For more information, see <a href="private-content-trusted-signers.html">Specifying the AWS Accounts That Can Create Signed URLs and Signed Cookies (Trusted
                                          Signers)</a>.
                                    </p>
                                    								
                                    <p>If you make a key pair inactive while rotating CloudFront key pairs, you must update
                                       									your application to use a new active key pair for one of your trusted signers.
                                       For
                                       									more information about rotating key pairs, see <a href="private-content-trusted-signers.html#private-content-rotating-key-pairs">Rotating CloudFront Key Pairs</a>.
                                    </p>
                                    							
                                 </dd>
                                 
                              </dl>
                           </div>
                           
                           
                        </li>
                     </ol>
                     <p>The following example shows <code class="code">Set-Cookie</code> headers for one signed cookie when you&apos;re using the
                        domain name that is associated with your distribution in the URLs for your objects:
                     </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">Set-Cookie: Domain=d111111abcdef8.cloudfront.net; Path=/images/*; Secure; HttpOnly; CloudFront-Expires=1426500000
Set-Cookie: Domain=d111111abcdef8.cloudfront.net; Path=/images/*; Secure; HttpOnly; CloudFront-Signature=yXrSIgyQoeE4FBI4eMKF6ho~CA8_
Set-Cookie: Domain=d111111abcdef8.cloudfront.net; Path=/images/*; Secure; HttpOnly; CloudFront-Key-Pair-Id=APKA9ONS7QCOWEXAMPLE</code></pre><p>The following example shows <code class="code">Set-Cookie</code> headers for one signed cookie when you&apos;re using the
                        alternate domain name example.org in the URLs for your objects:
                     </p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">Set-Cookie: Domain=example.org; Path=/images/*; Secure; HttpOnly; CloudFront-Expires=1426500000
Set-Cookie: Domain=example.org; Path=/images/*; Secure; HttpOnly; CloudFront-Signature=yXrSIgyQoeE4FBI4eMKF6ho~CA8_
Set-Cookie: Domain=example.org; Path=/images/*; Secure; HttpOnly; CloudFront-Key-Pair-Id=APKA9ONS7QCOWEXAMPLE</code></pre><p>If you want to use an alternate domain name such as example.com in URLs, you must
                        add
                        the alternate domain name to your distribution regardless of whether you specify the
                        <code class="code">Domain</code> attribute. For more information, see <a href="distribution-web-values-specify.html#DownloadDistValuesCNAME">Alternate Domain Names (CNAMEs)</a> in the topic
                        <a href="distribution-web-values-specify.html">Values That You Specify When You Create or Update a Web Distribution</a>.
                     </p>
                     
                     <h2 id="private-content-canned-policy-signature-cookies">Creating a Signature for a Signed Cookie That Uses a Canned Policy</h2>
                     
                     
                     <p>To create the signature for a signed cookie that uses a canned policy, do the
                        following:
                     </p>
                     
                     
                     <ol>
                        <li>
                           
                           <p>Create a policy statement. See <a href="private-content-setting-signed-cookie-canned-policy.html#private-content-canned-policy-statement-cookies">Creating a Policy
                                 Statement for a Signed Cookie That Uses a Canned Policy</a>.
                           </p>
                           
                        </li>
                        <li>
                           
                           <p>Sign the policy statement to create a signature. See <a href="private-content-setting-signed-cookie-canned-policy.html#private-content-canned-policy-cookies-signing-policy-statement">Signing
                                 the Policy Statement to Create a Signature for a Signed Cookie That Uses a Canned
                                 Policy</a>.
                           </p>
                           
                        </li>
                     </ol>
                     
                     
                     
                     <h3 id="private-content-canned-policy-statement-cookies">Creating a Policy
                        Statement for a Signed Cookie That Uses a Canned Policy
                     </h3>
                     
                     
                     <p>When you set a signed cookie that uses a canned policy, the
                        							<code class="code">CloudFront-Signature</code> attribute is a hashed and signed version of a policy
                        statement. For signed cookies that use a canned policy, you don&apos;t include the policy
                        statement in the <code class="code">Set-Cookie</code> header, as you do for signed cookies that use a
                        custom policy. To create the policy statement, perform the following procedure.
                     </p>
                     
                     <a id="private-content-canned-policy-statement-cookies-procedure"></a><p class="title"><b>To create a
                           							policy statement for a signed cookie that uses a canned policy</b></p>
                     <ol>
                        <li>
                           							
                           <p>Construct the policy statement using the following JSON format and using UTF-8
                              								character encoding. Include all punctuation and other literal values exactly
                              as
                              								specified. For information about the <code class="code">Resource</code> and
                              									<code class="code">DateLessThan</code> parameters, see <a href="private-content-setting-signed-cookie-canned-policy.html#private-content-canned-policy-statement-cookies-values">Values That You
                                 							Specify in the Policy Statement for a Canned Policy for Signed Cookies</a>.
                           </p>
                           							<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">{
   &quot;Statement&quot;:[
      {
         &quot;Resource&quot;:&quot;<em class="replaceable"><code>base URL or stream name</code></em>&quot;,
         &quot;Condition&quot;:{
            &quot;DateLessThan&quot;:{
               &quot;AWS:EpochTime&quot;:<em class="replaceable"><code>ending date and time in Unix time format and UTC</code></em>
            }
         }
      }
   ]
}</code></pre>
                           
                           </li>
                        <li>
                           							
                           <p>Remove all whitespace (including tabs and newline characters) from the policy
                              								statement. You might have to include escape characters in the string in application
                              								code.
                           </p>
                           
                        </li>
                     </ol>
                     
                     
                     <h4 id="private-content-canned-policy-statement-cookies-values">Values That You
                        							Specify in the Policy Statement for a Canned Policy for Signed Cookies
                     </h4>
                     
                     
                     <p>When you create a policy statement for a canned policy, you specify the following
                        							values:
                     </p>
                     
                     
                     <div class="variablelist">
                        							
                        
                        							
                        
                        <dl>
                           								
                           <dt><b><span class="term">Resource</span></b></dt>
                           								
                           <dd>
                              									
                              <p>The base URL including your query strings, if any, for example:</p>
                              									
                              <p><code class="code">http://d111111abcdef8.cloudfront.net/images/horizon.jpg?size=large&amp;license=yes</code></p>
                              									
                              <p>You can specify only one value for <code class="code">Resource</code>.
                              </p>
                              									
                              <p>Note the following:</p>
                              									
                              <div class="itemizedlist">
                                 									  
                                 									  
                                 									  
                                 									
                                 <ul class="itemizedlist" type="disc">
                                    <li class="listitem">
                                       									    
                                       <p><b>Protocol</b> &#x2013; The value must begin
                                          									      with <code class="code">http://</code> or <code class="code">https://</code>.
                                       </p>
                                       									  
                                    </li>
                                    <li class="listitem">
                                       									    
                                       <p><b>Query string parameters</b> &#x2013; If you
                                          									      have no query string parameters, omit the question mark.
                                       </p>
                                       									  
                                    </li>
                                    <li class="listitem">
                                       									    
                                       <p><b>Alternate domain names</b> &#x2013; If you
                                          									      specify an alternate domain name (CNAME) in the URL, you must specify
                                          the
                                          									      alternate domain name when referencing the object in your web page
                                          or
                                          									      application. Do not specify the Amazon S3 URL for the object.
                                       </p>
                                       									  
                                    </li>
                                 </ul>
                              </div>
                              								
                           </dd>
                           							
                           								
                           <dt><b><span class="term">DateLessThan</span></b></dt>
                           								
                           <dd>
                              									
                              <p>The expiration date and time for the URL in Unix time format (in seconds)
                                 									  and Coordinated Universal Time (UTC). Do not enclose the value in quotation
                                 									  marks.
                              </p>
                              									
                              <p>For example, March 16, 2015 10:00 am UTC converts to 1426500000 in Unix time
                                 									  format.
                              </p>
                              									
                              <p>This value must match the value of the <code class="code">CloudFront-Expires</code>
                                 									  attribute in the <code class="code">Set-Cookie</code> header. Do not enclose the value in
                                 									  quotation marks.
                              </p>
                              									
                              <p>For more information, see <a href="private-content-signed-cookies.html#private-content-check-expiration-cookie">When Does CloudFront Check the Expiration
                                    Date and Time in a Signed Cookie?</a>.
                              </p>
                              								
                           </dd>
                           							
                        </dl>
                     </div>
                     
                     
                     
                     
                     <h4 id="private-content-canned-policy-cookies-sample-policy-statement">Example
                        							Policy Statement for a Canned Policy
                     </h4>
                     
                     
                     <p>When you use the following example policy statement in a signed cookie, a user can
                        							access the object <code class="code">http://d111111abcdef8.cloudfront.net/horizon.jpg</code> until
                        							March 16, 2015 10:00 am UTC:
                     </p>
                     <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">{
   &quot;Statement&quot;:[
      {
         &quot;Resource&quot;:&quot;http://d111111abcdef8.cloudfront.net/horizon.jpg?size=large&amp;license=yes&quot;,
         &quot;Condition&quot;:{
            &quot;DateLessThan&quot;:{
               &quot;AWS:EpochTime&quot;:1426500000
            }
         }
      }
   ]
}</code></pre>
                     
                     
                     
                     <h3 id="private-content-canned-policy-cookies-signing-policy-statement">Signing
                        the Policy Statement to Create a Signature for a Signed Cookie That Uses a Canned
                        Policy
                     </h3>
                     
                     
                     
                     <p>To create the value for the <code class="code">CloudFront-Signature</code> attribute in a
                        							<code class="code">Set-Cookie</code> header, you hash and sign the policy statement that you
                        created in <a href="private-content-setting-signed-cookie-canned-policy.html#private-content-canned-policy-statement-cookies-procedure">To create a
                           							policy statement for a signed cookie that uses a canned policy</a>. 
                     </p>
                     
                     
                     <p>For additional information and examples of how to hash, sign, and encode the policy
                        statement, see the following topics:
                     </p>
                     
                     <div class="itemizedlist">
                        
                        
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              							
                              <p><a href="private-content-linux-openssl.html">Using a Linux Command and OpenSSL for Base64-Encoding and Encryption</a></p>
                              
                           </li>
                           <li class="listitem">
                              							
                              <p><a href="PrivateCFSignatureCodeAndExamples.html">Code Examples for Creating a Signature for a Signed URL</a></p>
                              
                           </li>
                           <li class="listitem">
                              							
                              <p><a href="Resources.html#resources-distributing-private-content">Tools and Code Examples for Configuring
                                    Private Content</a></p>
                              
                           </li>
                        </ul>
                     </div>
                     
                     
                     <a id="private-content-canned-policy-cookie-creating-signature-procedure"></a><p class="title"><b>To
                           							create a signature for a signed cookie using a canned policy</b></p>
                     <ol>
                        <li>
                           							
                           <p>Use the SHA-1 hash function and RSA to hash and sign the policy statement that
                              								you created in the procedure <a href="private-content-setting-signed-cookie-canned-policy.html#private-content-canned-policy-statement-cookies-procedure">To create a
                                 							policy statement for a signed cookie that uses a canned policy</a>. Use
                              								the version of the policy statement that no longer includes whitespace.
                           </p>
                           
                           							
                           <p>For the private key that is required by the hash function, use the private key
                              								that is associated with the applicable active trusted signer.
                           </p>
                           							
                           <div class="aws-note">
                              <p class="aws-note">Note</p>
                              <p>The method that you use to hash and sign the policy statement depends on your
                                 									programming language and platform. For sample code, see <a href="PrivateCFSignatureCodeAndExamples.html">Code Examples for Creating a Signature for a Signed URL</a>.
                              </p>
                           </div>
                           
                        </li>
                        <li>
                           							
                           <p>Remove whitespace (including tabs and newline characters) from the hashed and
                              								signed string.
                           </p>
                           
                        </li>
                        <li>
                           							
                           <p>Base64-encode the string using MIME base64 encoding. For more information, see
                              									<a href="http://tools.ietf.org/html/rfc2045#section-6.8" target="_blank">Section 6.8, Base64
                                 									Content-Transfer-Encoding</a> in <em>RFC 2045, MIME (Multipurpose
                                 									Internet Mail Extensions) Part One: Format of Internet Message
                                 								Bodies</em>.
                           </p>
                           
                        </li>
                        <li>
                           							
                           <p>Replace characters that are invalid in a URL query string with characters that
                              								are valid. The following table lists invalid and valid characters.
                           </p>
                           							
                           <div class="table">
                              <p class="title"><b></b></p>
                              <div class="table-contents">
                                 <table id="w313aac27c51c17c17b9b8c16b3">
                                    									  
                                    <tbody><tr>
                                       									    
                                       <th>Replace these invalid characters</th>
                                       									    
                                       <th>With these valid characters</th>
                                       									  
                                    </tr>
                                    									
                                    									  
                                    <tr>
                                       									    
                                       <td>
                                          <p>+</p>
                                       </td>
                                       									    
                                       <td>
                                          <p>- (hyphen)</p>
                                       </td>
                                       									  
                                    </tr>
                                    									  
                                    <tr>
                                       									    
                                       <td>
                                          <p>=</p>
                                       </td>
                                       									    
                                       <td>
                                          <p>_ (underscore)</p>
                                       </td>
                                       									  
                                    </tr>
                                    									  
                                    <tr>
                                       									    
                                       <td>
                                          <p>/</p>
                                       </td>
                                       									    
                                       <td>
                                          <p>~ (tilde)</p>
                                       </td>
                                       									  
                                    </tr>
                                    									
                                 </tbody></table>
                              </div>
                           </div>
                           
                        </li>
                        <li>
                           							
                           <p>Include the resulting value in the <code class="code">Set-Cookie</code> header for the
                              									<code class="code">CloudFront-Signature</code> name-value pair. Then return to <a href="private-content-setting-signed-cookie-canned-policy.html#private-content-setting-signed-cookie-canned-policy-procedure">To set a
                                 signed cookie using a canned policy</a>
                              								add the <code class="code">Set-Cookie</code> header for
                              								<code class="code">CloudFront-Key-Pair-Id</code>.
                           </p>
                           
                        </li>
                     </ol>
                     
                     
                     
                     
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="private-content-signed-cookies.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="private-content-setting-signed-cookie-custom-policy.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Creating a Signature for a Signed Cookie That Uses a Canned Policy"><a class="pagetoc" href="#private-content-canned-policy-signature-cookies">Creating a Signature for a Signed Cookie That Uses a Canned Policy</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='Amazon CloudFront';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='Developer Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>