<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Configuring Alternate Domain Names and 
         				HTTPS - Amazon CloudFront
      </title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="using-https-alternate-domain-names.html" title="Using Alternate Domain Names and HTTPS">
      <link rel="prev" href="cnames-and-https-limits.html" title="Limits on Using SSL/TLS Certificates with CloudFront (HTTPS Between Viewers and CloudFront Only)">
      <link rel="next" href="cnames-and-https-size-of-public-key.html" title="Determining the Size of the Public Key in an SSL/TLS Certificate">
      <meta name="description" content="To use alternate domain names in the URLs for your objects and to use HTTPS between viewers and CloudFront, perform the applicable procedures.">
      <meta name="keywords" content="Amazon CloudFront,CloudFront,cache,distribution,edge,geo,HTTP,HTTPS,media,origin,RTMP,streaming">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="Amazon CloudFront">
      <meta name="guide" content="Developer Guide">
      <meta name="guide-locale" content="en_us">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/cnames-and-https-procedures.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="http://aws.amazon.com/documentation">AWS Documentation</a> &#xBB; <a href="http://aws.amazon.com/documentation/cloudfront">Amazon CloudFront</a> &#xBB; <a href="index.html">Developer Guide</a> &#xBB; <a href="using-https.html">Using HTTPS with CloudFront</a> &#xBB; <a href="using-https-alternate-domain-names.html">Using Alternate Domain Names and HTTPS</a> &#xBB; <span class="breadcrumb">Configuring Alternate Domain Names and 
                                    				HTTPS</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div></div>
                     <h1 class="topictitle" id="cnames-and-https-procedures">Configuring Alternate Domain Names and 
                        				HTTPS
                     </h1>
                     <p>To use alternate domain names in the URLs for your objects and to use HTTPS between
                        
                        				viewers and CloudFront, perform the applicable procedures.
                     </p>
                     <div class="highlights" id="inline-topiclist">
                        <p><strong>Topics</strong></p>
                        <ul>
                           <li><a href="#cnames-and-https-multiple-certificates">Requesting Permission to Use Three 
                                 					or More SSL/TLS Certificates</a></li>
                           <li><a href="#cnames-and-https-getting-certificates">Getting an SSL/TLS Certificate</a></li>
                           <li><a href="#cnames-and-https-uploading-certificates">Importing an SSL/TLS Certificate</a></li>
                           <li><a href="#cnames-and-https-updating-cloudfront">Updating Your CloudFront 
                                 					Distribution</a></li>
                        </ul>
                     </div>
                     <h2 id="cnames-and-https-multiple-certificates">Requesting Permission to Use Three 
                        					or More SSL/TLS Certificates
                     </h2> 
                     				 
                     				
                     <p>If you need permission to permanently associate three or more SSL/TLS Dedicated IP
                        
                        					certificates with CloudFront, perform the following procedure. For more details
                        about HTTPS 
                        					requests, see <a href="cnames-https-dedicated-ip-or-sni.html">Choosing How CloudFront Serves HTTPS Requests</a></p> 
                     				
                     <div class="aws-note">
                        <p class="aws-note">Note</p>
                        <p>This procedure is for using 3 or more DedicatedIP certificates across your CloudFront
                           
                           						distributions. The default value is 2. Keep in mind you cannot bind more than
                           1 SSL 
                           						certificate to a distribution.
                        </p>
                        <p>You can only associate a single SSL/TLS certificate to a CloudFront distribution at
                           a 
                           						time. This number is for the total number of Dedicated IP SSL certificates you
                           can use 
                           						across all of your CloudFront distributions.
                        </p>
                     </div> 
                     
                     				<a id="cnames-and-https-multiple-certificates-procedure"></a><p class="title"><b>To request permission 
                           						to use three or more certificates with a CloudFront distribution</b></p>
                     <ol>
                        <li> 
                           						
                           <p>Go to the <a href="https://console.aws.amazon.com/support/home#/case/create?issueType=service-limit-increase&amp;limitType=service-code-cloudfront-distributions" target="_blank">Support Center</a> and create a case. 
                           </p> 
                           					
                        </li>
                        <li> 
                           						
                           <p>Indicate how many certificates you need permission to use, and describe the 
                              							circumstances in your request. We&apos;ll update your account as soon as possible.
                              
                           </p> 
                           					
                        </li>
                        <li> 
                           						
                           <p>Continue with the next procedure.</p> 
                           					
                        </li>
                     </ol> 
                     			
                     <h2 id="cnames-and-https-getting-certificates">Getting an SSL/TLS Certificate</h2> 
                     				 
                     				
                     <p>Get an SSL/TLS certificate if you don&apos;t already have one. For more information, see
                        the applicable documentation:
                     </p> 
                     				
                     <div class="itemizedlist"> 
                        					 
                        					 
                        					 
                        				
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem"> 
                              						
                              <p>To use a certificate provided by AWS Certificate Manager (ACM), see the <a href="./acm/latest/userguide/" target="_blank">AWS Certificate Manager User Guide</a>. Then 
                                 							skip to <a href="cnames-and-https-procedures.html#cnames-and-https-updating-cloudfront">Updating Your CloudFront 
                                    					Distribution</a>.
                              </p>
                              						
                              <div class="aws-note">
                                 <p class="aws-note">Note</p>
                                 <p>We recommend that you use ACM to provision, manage, and deploy SSL/TLS certificates
                                    on AWS managed resources. 
                                 </p>
                              </div>
                              					
                           </li>
                           <li class="listitem"> 
                              						
                              <p>To get a certificate from a third-party certificate authority (CA), see the documentation
                                 provided by the certificate authority. 
                                 							When you have the certificate, continue with the next procedure.
                              </p> 
                              					
                           </li>
                           <li class="listitem"> 
                              						
                              <p>To create a self-signed certificate, see the documentation for the application that
                                 you&apos;re using to create and sign the certificate. 
                                 							Then continue with the next procedure.
                              </p> 
                              					
                           </li>
                        </ul>
                     </div> 
                     			
                     <h2 id="cnames-and-https-uploading-certificates">Importing an SSL/TLS Certificate</h2> 
                     				 
                     				
                     <p>If you got your certificate from a third-party CA, import the certificate into ACM
                        or upload it to the IAM certificate store:
                     </p> 
                     				
                     <div class="variablelist"> 
                        					 
                        					 
                        				
                        <dl> 
                           						
                           <dt><b><span class="term">ACM (Recommended)</span></b></dt> 
                           						
                           <dd> 
                              							
                              <p>ACM lets you import third-party certificates from the ACM console, as well as programmatically.
                                 For information about 
                                 								importing a certificate to ACM, see <a href="./acm/latest/userguide/import-certificate.html" target="_blank">Importing Certificates into AWS Certificate Manager</a> 
                                 								in the <em>AWS Certificate Manager User Guide</em>.
                              </p> 
                              						
                           </dd> 
                           					 
                           						
                           <dt><b><span class="term">IAM certificate store</span></b></dt> 
                           						
                           <dd> 
                              							
                              <p>If ACM is not available in your region, use the following AWS CLI command to upload
                                 your third-party certificate to the IAM 
                                 								certificate store. (For a list of the regions where ACM is available, see
                                 
                                 								<a href="./general/latest/gr/rande.html#acm_region" target="_blank">AWS Certificate Manager</a> in the &quot;AWS Regions and Endpoints&quot; chapter of the 
                                 								<em>Amazon Web Services General Reference</em>.)
                              </p> 
                              							<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">aws iam upload-server-certificate --server-certificate-name <em class="replaceable"><code>CertificateName</code></em> --certificate-body file://<em class="replaceable"><code>public_key_certificate_file</code></em> --private-key file://<em class="replaceable"><code>privatekey.pem</code></em> --certificate-chain file://<em class="replaceable"><code>certificate_chain_file</code></em> --path /cloudfront/<em class="replaceable"><code>path</code></em>/</code></pre> 
                              							<p>Note the following:</p> 
                              							
                              <div class="itemizedlist"> 
                                 								 
                                 								 
                                 								 
                                 								 
                                 								 
                                 							
                                 <ul class="itemizedlist" type="disc">
                                    <li class="listitem"> 
                                       									
                                       <p><b>AWS Account</b> &#x2013; You must upload the certificate to the IAM certificate store 
                                          										using the same AWS account that you used to create your CloudFront distribution.
                                       </p> 
                                       								
                                    </li>
                                    <li class="listitem"> 
                                       									
                                       <p><b>--path Parameter</b> &#x2013; When you upload the certificate to IAM, the value of the 
                                          										<code class="code">-path</code> parameter (certificate path) must start with <code class="code">/cloudfront/</code>, for example, 
                                          										<code class="code">/cloudfront/production/</code> or <code class="code">/cloudfront/test/</code>. The path must end with a /.
                                       </p>
                                       								
                                    </li>
                                    <li class="listitem"> 
                                       									
                                       <p><b>Existing certificates</b> &#x2013; You must specify values for the 
                                          										<code class="code">--server-certificate-name</code> and <code class="code">--path</code> parameters that are different from the values that are 
                                          										associated with existing certificates.
                                       </p> 
                                       								
                                    </li>
                                    <li class="listitem"> 
                                       									
                                       <p><b>Using the CloudFront Console</b> &#x2013; The value that you specify for the 
                                          										<code class="code">--server-certificate-name</code> parameter in the AWS CLI, for example, <code class="code">myServerCertificate</code>, 
                                          										appears in the <b>SSL Certificate</b> list in the CloudFront console.
                                       </p> 
                                       								
                                    </li>
                                    <li class="listitem"> 
                                       									
                                       <p><b>Using the CloudFront API</b> &#x2013; Make note of the alphanumeric string that the AWS CLI returns, 
                                          										for example, <code class="code">AS1A2M3P4L5E67SIIXR3J</code>. This is the value that you will specify in the <code class="code">IAMCertificateId</code> 
                                          										element. You don&apos;t need the IAM ARN, which is also returned by the CLI.
                                       </p> 
                                       								
                                    </li>
                                 </ul>
                              </div> 
                              							
                              <p>For more information about the AWS CLI, see the <a href="./cli/latest/userguide/cli-chap-welcome.html" target="_blank">AWS Command Line Interface User Guide</a> and the 
                                 								<a href="./cli/latest/reference/" target="_blank">AWS CLI Command Reference</a>.
                              </p> 
                              						
                           </dd> 
                           					
                        </dl>
                     </div> 
                     			
                     <h2 id="cnames-and-https-updating-cloudfront">Updating Your CloudFront 
                        					Distribution
                     </h2> 
                     				 
                     				
                     <p>To update settings for your distribution, perform the following procedure:</p> 
                     
                     				<a id="cnames-and-https-updating-cloudfront-procedure"></a><p class="title"><b>To configure your CloudFront 
                           						distribution for alternate domain names</b></p>
                     <ol>
                        <li>
                           <p>Sign in to the AWS Management Console and open the CloudFront console at
                              <a href="https://console.aws.amazon.com/cloudfront/" target="_blank">https://console.aws.amazon.com/cloudfront/</a>.
                           </p>
                        </li>
                        <li> 
                           						
                           <p>Choose the ID for the distribution that you want to update.</p> 
                           					
                        </li>
                        <li> 
                           						
                           <p>On the <b>General</b> tab, choose <b>Edit</b>.
                           </p> 
                           					
                        </li>
                        <li> 
                           						
                           <p>Update the following values:</p> 
                           						
                           <div class="variablelist"> 
                              							 
                              							 
                              							 
                              						
                              <dl> 
                                 								
                                 <dt><b><span class="term">Alternate Domain Names (CNAMEs)</span></b></dt> 
                                 								
                                 <dd> 
                                    									
                                    <p>Add the applicable alternate domain names. Separate domain names with 
                                       										commas, or type each domain name on a new line.
                                    </p> 
                                    								
                                 </dd> 
                                 							 
                                 								
                                 <dt><b><span class="term">SSL Certificate (Web Distributions Only)</span></b></dt> 
                                 								
                                 <dd> 
                                    									
                                    <p>Choose <b>Custom SSL Certificate</b>, and choose a certificate 
                                       										from the list.
                                    </p>
                                    									
                                    <p>Up to 100 certificates are listed here. If you have more than 100 certificates and
                                       you don&apos;t see 
                                       										the certificate that you want to add, you can type a certificate ARN in
                                       the field to choose it.
                                    </p>
                                    									
                                    <p>If you uploaded a certificate to the IAM certificate store but it&apos;s not listed, and
                                       you can&apos;t 
                                       										choose it by typing the name in the field, review the procedure 
                                       										<a href="cnames-and-https-procedures.html#cnames-and-https-uploading-certificates">Importing an SSL/TLS Certificate</a> 
                                       										to confirm that you correctly uploaded the certificate. 
                                    </p> 
                                    									
                                    <div class="aws-note">
                                       <p class="aws-note">Important</p>
                                       <p>After you associate your SSL/TLS certificate with your CloudFront distribution, 
                                          											do not delete the certificate from ACM or the IAM certificate store until
                                          
                                          											you remove the certificate from all distributions and until the status
                                          of the 
                                          											distributions has changed to <b>Deployed</b>.
                                       </p>
                                    </div> 
                                    								
                                 </dd> 
                                 							 
                                 								
                                 <dt><b><span class="term">Clients Supported (Web Distributions Only)</span></b></dt> 
                                 								
                                 <dd> 
                                    									
                                    <p>Choose the applicable option:</p> 
                                    									
                                    <div class="itemizedlist"> 
                                       										 
                                       										 
                                       									
                                       <ul class="itemizedlist" type="disc">
                                          <li class="listitem"> 
                                             											
                                             <p><b>All Clients</b>: CloudFront serves your HTTPS 
                                                												content using dedicated IP addresses. If you select this option, you incur
                                                
                                                												additional charges when you associate your SSL/TLS certificate with a
                                                
                                                												distribution that is enabled. For more information, see <a href="http://aws.amazon.com/cloudfront/pricing" target="_blank">Amazon CloudFront 
                                                   												Pricing</a>.
                                             </p> 
                                             										
                                          </li>
                                          <li class="listitem"> 
                                             											
                                             <p><b>Only Clients that Support Server Name Indication 
                                                   													(SNI)</b>: Older browsers or other clients that don&apos;t support SNI 
                                                												must use another method to access your content.
                                             </p> 
                                             										
                                          </li>
                                       </ul>
                                    </div> 
                                    									
                                    <p>For more information, see <a href="cnames-https-dedicated-ip-or-sni.html">Choosing How CloudFront Serves HTTPS Requests</a>.
                                    </p> 
                                    								
                                 </dd> 
                                 							
                              </dl>
                           </div> 
                           					
                        </li>
                        <li> 
                           						
                           <p>Choose <b>Yes, Edit</b>.
                           </p> 
                           					
                        </li>
                        <li> 
                           						
                           <p>Configure CloudFront to require HTTPS between viewers and CloudFront:</p> 
                           						
                           <ol>
                              <li> 
                                 								
                                 <p>On the <b>Behaviors</b> tab, choose the cache behavior that you 
                                    									want to update, and choose <b>Edit</b>.
                                 </p> 
                                 							
                              </li>
                              <li> 
                                 								
                                 <p>Specify one of the following values for <b>Viewer Protocol 
                                       										Policy</b>:
                                 </p> 
                                 								
                                 <div class="variablelist"> 
                                    									 
                                    									 
                                    								
                                    <dl> 
                                       										
                                       <dt><b><span class="term">Redirect HTTP to HTTPS</span></b></dt> 
                                       										
                                       <dd> 
                                          											
                                          <p>Viewers can use both protocols, but HTTP requests are automatically 
                                             												redirected to HTTPS requests. CloudFront returns HTTP status code 301
                                             (Moved 
                                             												Permanently) along with the new HTTPS URL. The viewer then resubmits the
                                             
                                             												request to CloudFront using the HTTPS URL.
                                          </p> 
                                          											
                                          <div class="aws-note">
                                             <p class="aws-note">Important</p>
                                             <p>CloudFront doesn&apos;t redirect <code class="code">DELETE</code>, <code class="code">OPTIONS</code>, 
                                                														<code class="code">PATCH</code>, <code class="code">POST</code>, or <code class="code">PUT</code> requests from 
                                                													HTTP to HTTPS. If you configure a cache behavior to redirect to HTTPS,
                                                
                                                													CloudFront responds to HTTP <code class="code">DELETE</code>, <code class="code">OPTIONS</code>, 
                                                														<code class="code">PATCH</code>, <code class="code">POST</code>, or <code class="code">PUT</code> requests for 
                                                													that cache behavior with HTTP status code 403 (Forbidden).
                                             </p>
                                          </div> 
                                          											
                                          <p>When a viewer makes an HTTP request that is redirected to an HTTPS 
                                             												request, CloudFront charges for both requests. For the HTTP request, the
                                             charge is 
                                             												only for the request and for the headers that CloudFront returns to the
                                             viewer. 
                                             												For the HTTPS request, the charge is for the request, and for the headers
                                             
                                             												and the object returned by your origin.
                                          </p> 
                                          										
                                       </dd> 
                                       									 
                                       										
                                       <dt><b><span class="term">HTTPS Only</span></b></dt> 
                                       										
                                       <dd> 
                                          											
                                          <p>Viewers can access your content only if they&apos;re using HTTPS. If a viewer 
                                             												sends an HTTP request instead of an HTTPS request, CloudFront returns
                                             HTTP status 
                                             												code 403 (Forbidden) and does not return the object.
                                          </p> 
                                          										
                                       </dd> 
                                       									
                                    </dl>
                                 </div> 
                                 							
                              </li>
                              <li> 
                                 								
                                 <p>Choose <b>Yes, Edit</b>.
                                 </p> 
                                 							
                              </li>
                              <li> 
                                 								
                                 <p>Repeat steps a through c for each additional cache behavior that you want to 
                                    									require HTTPS for between viewers and CloudFront.
                                 </p> 
                                 							
                              </li>
                           </ol> 
                           					
                        </li>
                        <li> 
                           						
                           <p>Confirm the following before you use the updated configuration in a production 
                              							environment:
                           </p> 
                           						
                           <div class="itemizedlist"> 
                              							 
                              							 
                              							 
                              						
                              <ul class="itemizedlist" type="disc">
                                 <li class="listitem"> 
                                    								
                                    <p>The path pattern in each cache behavior applies only to the requests that you 
                                       									want viewers to use HTTPS for.
                                    </p> 
                                    							
                                 </li>
                                 <li class="listitem"> 
                                    								
                                    <p>The cache behaviors are listed in the order that you want CloudFront to evaluate 
                                       									them in. For more information, see <a href="distribution-web-values-specify.html#DownloadDistValuesPathPattern">Path Pattern</a>.
                                    </p> 
                                    							
                                 </li>
                                 <li class="listitem"> 
                                    								
                                    <p>The cache behaviors are routing requests to the correct origins. </p> 
                                    							
                                 </li>
                              </ul>
                           </div> 
                           					
                        </li>
                     </ol> 
                     			
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="cnames-and-https-limits.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="cnames-and-https-size-of-public-key.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Requesting Permission to Use Three 
					or More SSL/TLS Certificates"><a class="pagetoc" href="#cnames-and-https-multiple-certificates">Requesting Permission to Use Three 
                              					or More SSL/TLS Certificates</a></li>
                        <li class="pagetoc" name="Getting an SSL/TLS Certificate"><a class="pagetoc" href="#cnames-and-https-getting-certificates">Getting an SSL/TLS Certificate</a></li>
                        <li class="pagetoc" name="Importing an SSL/TLS Certificate"><a class="pagetoc" href="#cnames-and-https-uploading-certificates">Importing an SSL/TLS Certificate</a></li>
                        <li class="pagetoc" name="Updating Your CloudFront 
					Distribution"><a class="pagetoc" href="#cnames-and-https-updating-cloudfront">Updating Your CloudFront 
                              					Distribution</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='Amazon CloudFront';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='Developer Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>