<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Creating a Signed URL Using a Canned Policy - Amazon CloudFront</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="private-content-signed-urls.html" title="Using Signed URLs">
      <link rel="prev" href="private-content-signed-urls.html" title="Using Signed URLs">
      <link rel="next" href="private-content-creating-signed-url-custom-policy.html" title="Creating a Signed URL Using a Custom Policy">
      <meta name="description" content="Create a signed URL using a canned policy to control end-user access to your objects.">
      <meta name="keywords" content="Amazon CloudFront,CloudFront,cache,distribution,edge,geo,HTTP,HTTPS,media,origin,RTMP,streaming">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="Amazon CloudFront">
      <meta name="guide" content="Developer Guide">
      <meta name="guide-locale" content="en_us">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/private-content-creating-signed-url-canned-policy.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="http://aws.amazon.com/documentation">AWS Documentation</a> &#xBB; <a href="http://aws.amazon.com/documentation/cloudfront">Amazon CloudFront</a> &#xBB; <a href="index.html">Developer Guide</a> &#xBB; <a href="PrivateContent.html">Serving Private Content through CloudFront</a> &#xBB; <a href="private-content-signed-urls.html">Using Signed URLs</a> &#xBB; <span class="breadcrumb">Creating a Signed URL Using a Canned Policy</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div></div>
                     <h1 class="topictitle" id="private-content-creating-signed-url-canned-policy">Creating a Signed URL Using a Canned Policy</h1>
                     <p>To create a signed URL using a canned policy, perform the following procedure.</p><a id="private-content-creating-signed-url-canned-policy-procedure"></a><p class="title"><b>To create a
                           					signed URL using a canned policy</b></p>
                     <ol>
                        <li>
                           					
                           <p>If you&apos;re using .NET or Java to create signed URLs, and if you haven&apos;t reformatted
                              						the private key for your key pair from the default .pem format to a format compatible
                              						with .NET or with Java, do so now. For more information, see <a href="private-content-trusted-signers.html#private-content-reformatting-private-key">Reformatting the CloudFront Private Key
                                 				(.NET and Java Only)</a>.
                           </p>
                           				
                        </li>
                        <li>
                           					
                           <p>Concatenate the following values in the specified order, and remove the whitespace
                              						(including tabs and newline characters) between the parts. You might have to
                              include
                              						escape characters in the string in application code. All values have a type
                              of String.
                              						Each part is keyed by number (<span class="inlinemediaobject">
                                 								
                                 									<img src="../../..//img/1.png" alt="
									1
								">
                                 								
                                 								
                                 						</span>) to the two examples that follow.
                           </p>
                           
                           
                           					
                           <div class="variablelist">
                              						
                              						
                              						
                              						
                              						
                              						
                              					
                              <dl>
                                 							
                                 <dt><b><span class="term"><span class="inlinemediaobject">
                                             									
                                             									  <img src="../../..//img/1.png" alt="
									  1
									">
                                             									
                                             									
                                             								</span>
                                          								<em class="replaceable"><code>Base URL for the object</code></em></span></b></dt>
                                 							
                                 <dd>
                                    								
                                    <p>The base URL is the CloudFront URL that you would use to access the object if you
                                       									were not using signed URLs, including your own query string parameters, if
                                       any.
                                       									For more information about the format of URLs for web distributions, see
                                       <a href="LinkFormat.html">Format of URLs for Objects</a>.
                                    </p>
                                    
                                    								
                                    <p>The following examples show values that you specify for web
                                       									distributions.
                                    </p>
                                    								
                                    <div class="itemizedlist">
                                       									
                                       									
                                       									
                                       									
                                       								
                                       <ul class="itemizedlist" type="disc">
                                          <li class="listitem">
                                             										
                                             <p>The following CloudFront URL is for an object in a web distribution (using the
                                                											CloudFront domain name). Note that <code class="code">image.jpg</code> is in an
                                                												<code class="code">images</code> directory. The path to the object in the URL must match
                                                											the path to the object on your HTTP server or in your Amazon S3 bucket.
                                             </p>
                                             										
                                             <p><code class="code">http://d111111abcdef8.cloudfront.net/images/image.jpg</code></p>
                                             									
                                          </li>
                                          <li class="listitem">
                                             										
                                             <p>The following CloudFront URL includes a query string:</p>
                                             										
                                             <p><code class="code">http://d111111abcdef8.cloudfront.net/images/image.jpg?size=large</code></p>
                                             									
                                          </li>
                                          <li class="listitem">
                                             										
                                             <p>The following CloudFront URLs are for objects in a web distribution. Both use an
                                                											alternate domain name; the second one includes a query string:
                                             </p>
                                             										
                                             <p><code class="code">http://www.example.com/images/image.jpg</code></p>
                                             										
                                             <p><code class="code">http://www.example.com/images/image.jpg?color=red</code></p>
                                             									
                                          </li>
                                          <li class="listitem">
                                             										
                                             <p>The following CloudFront URL is for an objects in a web distribution that uses
                                                											an alternate domain name and the HTTPS protocol:
                                             </p>
                                             										
                                             <p><code class="code">https://www.example.com/images/image.jpg</code></p>
                                             									
                                          </li>
                                       </ul>
                                    </div>
                                    								
                                    <p>For RTMP distributions, the following examples are for objects in two
                                       									different video formats, MP4 and FLV:
                                    </p>
                                    								
                                    <div class="itemizedlist">
                                       									
                                       									
                                       									
                                       								
                                       <ul class="itemizedlist" type="disc">
                                          <li class="listitem">
                                             										
                                             <p><b>MP4</b> &#x2013;
                                                												<code class="code">mp4:sydney-vacation.mp4</code></p>
                                             									
                                          </li>
                                          <li class="listitem">
                                             										
                                             <p><b>FLV</b> &#x2013;
                                                											<code class="code">sydney-vacation</code></p>
                                             									
                                          </li>
                                          <li class="listitem">
                                             										
                                             <p><b>FLV</b> &#x2013;
                                                												<code class="code">sydney-vacation.flv</code></p>
                                             									
                                          </li>
                                       </ul>
                                    </div>
                                    								
                                    <div class="aws-note">
                                       <p class="aws-note">Note</p>
                                       <p>For .flv files, whether you include the <code class="code">.flv</code> filename extension
                                          										depends on your player. To serve MP3 audio files or H.264/MPEG-4 video files,
                                          										you might need to prefix the file name with <code class="code">mp3:</code> or
                                          											<code class="code">mp4:</code>. Some media players can be configured to add the prefix
                                          										automatically. The media player might also require you to specify the file
                                          name
                                          										without the file extension (for example, sydney-vacation instead of
                                          										sydney-vacation.mp4).
                                       </p>
                                    </div>
                                    							
                                 </dd>
                                 						
                                 							
                                 <dt><b><span class="term"><span class="inlinemediaobject">
                                             										
                                             											<img src="../../..//img/2.png" alt="
											2
										">
                                             										
                                             										
                                             								</span>
                                          								<b>?</b></span></b></dt>
                                 							
                                 <dd>
                                    								
                                    <p>The <b>?</b> indicates that query string parameters
                                       									follow the base URL. Include the <b>?</b> even if you
                                       									don&apos;t have any query string parameters of your own.
                                    </p>
                                    							
                                 </dd>
                                 						
                                 							
                                 <dt><b><span class="term"><span class="inlinemediaobject">
                                             									
                                             										<img src="../../..//img/3.png" alt="
										3
									">
                                             									
                                             									
                                             								</span>
                                          								<em class="replaceable"><code>Your query string parameters, if any</code></em><b>&amp;</b></span></b></dt>
                                 							
                                 <dd>
                                    								
                                    <p>This value is optional. If you want to add your own query string parameters,
                                       									for example:
                                    </p>
                                    								
                                    <p><code class="code">color=red&amp;size=medium</code></p>
                                    								
                                    <p>then add the parameters after the <b>?</b> (see <span class="inlinemediaobject">
                                          										
                                          											<img src="../../..//img/2.png" alt="
											2
										">
                                          										
                                          										
                                          									</span>) and before the <code class="code">Expires</code> parameter. In certain
                                       									rare circumstances, you might need to put your query string parameters after
                                       										<code class="code">Key-Pair-Id</code>.
                                    </p>
                                    								
                                    <div class="aws-note">
                                       <p class="aws-note">Important</p>
                                       <p>Your parameters cannot be named <code class="code">Expires</code>,
                                          										<code class="code">Signature</code>, or <code class="code">Key-Pair-Id</code>.
                                       </p>
                                    </div>
                                    								
                                    <p>If you add your own parameters, append an <b>&amp;</b> after each one, including the last one.
                                    </p>
                                    							
                                 </dd>
                                 						
                                 							
                                 <dt><b><span class="term"><span class="inlinemediaobject">
                                             									
                                             										<img src="../../..//img/4.png" alt="
										4
									">
                                             									
                                             									
                                             								</span>
                                          								<code class="code">Expires=</code><em class="replaceable"><code>date and time in Unix time
                                                									format (in seconds) and Coordinated Universal Time (UTC)</code></em></span></b></dt>
                                 							
                                 <dd>
                                    								
                                    <p>The date and time that you want the URL to stop allowing access to the object.</p>
                                    								
                                    <p>Specify the expiration date and time in Unix time format (in seconds) and Coordinated
                                       Universal Time (UTC).
                                       									For example, January 1, 2013 10:00 am UTC converts to 1357034400 in Unix
                                       time format. To use epoch time, use 
                                       									a 32-bit integer for a date which can be no later than 2147483647 (January
                                       19th, 2038 at 03:14:07 UTC). For 
                                       									information about UTC, see <em>RFC 3339, Date and Time on the Internet: Timestamps</em>, 
                                       									<a href="http://tools.ietf.org/html/rfc3339" target="_blank">http://tools.ietf.org/html/rfc3339</a>.
                                    </p>
                                    							
                                 </dd>
                                 						
                                 							
                                 <dt><b><span class="term"><span class="inlinemediaobject">
                                             									
                                             										<img src="../../..//img/5.png" alt="
										5
									">
                                             									
                                             									
                                             								</span>
                                          								<code class="code">&amp;Signature=</code><em class="replaceable"><code>hashed and signed
                                                									version of the policy statement</code></em></span></b></dt>
                                 							
                                 <dd>
                                    								
                                    <p>A hashed, signed, and base64-encoded version of the JSON policy statement. For
                                       									more information, see <a href="private-content-creating-signed-url-canned-policy.html#private-content-canned-policy-creating-signature">Creating a Signature for a Signed URL That Uses a Canned Policy</a>.
                                    </p>
                                    							
                                 </dd>
                                 						
                                 							
                                 <dt><b><span class="term"><span class="inlinemediaobject">
                                             									
                                             										<img src="../../..//img/6.png" alt="
										6
									">
                                             									
                                             									
                                             								</span>
                                          								<code class="code">&amp;Key-Pair-Id=</code><em class="replaceable"><code>active CloudFront key pair
                                                									Id for the key pair that you&apos;re using to generate the
                                                								signature</code></em></span></b></dt>
                                 							
                                 <dd>
                                    								
                                    <p>The ID for an active CloudFront key pair, for example, APKA9ONS7QCOWEXAMPLE.
                                       									The CloudFront key pair ID tells CloudFront which public key to use to validate
                                       the signed
                                       									URL. CloudFront compares the information in the signature with the information
                                       in the
                                       									policy statement to verify that the URL has not been tampered with.
                                    </p>
                                    								
                                    <p>The key pair ID that you include in CloudFront signed URLs must be the ID of an
                                       									active key pair for one of your trusted signers:
                                    </p>
                                    								
                                    <div class="itemizedlist">
                                       									
                                       									
                                       								
                                       <ul class="itemizedlist" type="disc">
                                          <li class="listitem">
                                             										
                                             <p><b>Web distributions</b> &#x2013; The key pair
                                                											must be associated with an AWS account that is one of the trusted signers
                                                for
                                                											the applicable cache behavior.
                                             </p>
                                             									
                                          </li>
                                          <li class="listitem">
                                             										
                                             <p><b>RTMP distributions</b> &#x2013; The key pair
                                                											must be associated with an AWS account that is one of the trusted signers
                                                for
                                                											the distribution.
                                             </p>
                                             									
                                          </li>
                                       </ul>
                                    </div>
                                    								
                                    <p>For more information, see <a href="private-content-trusted-signers.html">Specifying the AWS Accounts That Can Create Signed URLs and Signed Cookies (Trusted
                                          Signers)</a>.
                                    </p>
                                    								
                                    <p>If you make a key pair inactive while rotating CloudFront key pairs, and if you&apos;re
                                       									generating signed URLs programmatically, you must update your application
                                       to use a
                                       									new active key pair for one of your trusted signers. If you&apos;re generating
                                       signed
                                       									URLs manually, you must create new signed URLs. For more information about
                                       									rotating key pairs, see <a href="private-content-trusted-signers.html#private-content-rotating-key-pairs">Rotating CloudFront Key Pairs</a>.
                                    </p>
                                    							
                                 </dd>
                                 						
                              </dl>
                           </div>
                           				
                        </li>
                     </ol>
                     <p>Example signed URL for a web distribution:</p>
                     <p><b>
                           				<span class="inlinemediaobject">
                              					<img src="../../..//img/1.png" alt="1">
                              					
                              				</span>
                           				<code class="code">http://d111111abcdef8.cloudfront.net/image.jpg </code>
                           				<span class="inlinemediaobject">
                              					<img src="../../..//img/2.png" alt="2">
                              					
                              				</span>
                           				<code class="code">? </code>
                           				<span class="inlinemediaobject">
                              					<img src="../../..//img/3.png" alt="3">
                              					
                              				</span>
                           				<code class="code">color=red&amp;size=medium&amp; </code>
                           				<span class="inlinemediaobject">
                              					<img src="../../..//img/4.png" alt="4">
                              					
                              				</span>
                           				<code class="code">Expires=1357034400 </code>
                           				<span class="inlinemediaobject">
                              					<img src="../../..//img/5.png" alt="5">
                              					
                              				</span>
                           				<code class="code">&amp;Signature=nitfHRCrtziwO2HwPfWw~yYDhUF5EwRunQA-j19DzZrvDh6hQ73lDx~-ar3UocvvRQVw6EkC~GdpGQyyOSKQim-TxAnW7d8F5Kkai9HVx0FIu-5jcQb0UEmatEXAMPLE3ReXySpLSMj0yCd3ZAB4UcBCAqEijkytL6f3fVYNGQI6
                              </code>
                           				<span class="inlinemediaobject">
                              					<img src="../../..//img/6.png" alt="6">
                              					
                              				</span>
                           				<code class="code">&amp;Key-Pair-Id=APKA9ONS7QCOWEXAMPLE</code>
                           			</b></p>
                     <p>Example signed URL for an RTMP distribution:</p>
                     <p><b>
                           				<span class="inlinemediaobject">
                              					<img src="../../..//img/1.png" alt="1">
                              						
                              				</span>
                           				<code class="code">videos/mediafile.flv </code>
                           				<span class="inlinemediaobject">
                              					<img src="../../..//img/2.png" alt="2">
                              					
                              				</span>
                           				<code class="code">? </code>
                           				<span class="inlinemediaobject">
                              					<img src="../../..//img/3.png" alt="3">
                              					
                              				</span>
                           				<code class="code">color=red&amp;size=medium&amp; </code>
                           				<span class="inlinemediaobject">
                              					<img src="../../..//img/4.png" alt="4">
                              					
                              				</span>
                           				<code class="code">Expires=1357034400 </code>
                           				<span class="inlinemediaobject">
                              					<img src="../../..//img/5.png" alt="5">
                              					
                              				</span>
                           				<code class="code">&amp;Signature=nitfHRCrtziwO2HwPfWw~yYDhUF5EwRunQA-j19DzZrvDh6hQ73lDx~-ar3UocvvRQVw6EkC~GdpGQyyOSKQim-TxAnW7d8F5Kkai9HVx0FIu-5jcQb0UEmatEXAMPLE3ReXySpLSMj0yCd3ZAB4UcBCAqEijkytL6f3fVYNGQI6
                              </code>
                           				<span class="inlinemediaobject">
                              					<img src="../../..//img/6.png" alt="6">
                              					
                              				</span>
                           				<code class="code">&amp;Key-Pair-Id=APKA9ONS7QCOWEXAMPLE</code>
                           			</b></p>
                     <h2 id="private-content-canned-policy-creating-signature">Creating a Signature for a Signed URL That Uses a Canned Policy</h2>
                     				
                     				
                     <p>To create the signature for a signed URL that uses a canned policy, you perform the
                        following procedures:
                     </p>
                     
                     				
                     <ol>
                        <li>
                           						
                           <p>Create a policy statement. See <a href="private-content-creating-signed-url-canned-policy.html#private-content-canned-policy-creating-policy-statement">Creating a Policy Statement for a Signed URL That Uses a Canned Policy</a>.
                           </p>
                           					
                        </li>
                        <li>
                           						
                           <p>Sign the policy statement to create a signature. See <a href="private-content-creating-signed-url-canned-policy.html#private-content-canned-policy-signing-policy-statement">Creating a
                                 						Signature for a Signed URL That Uses a Canned Policy</a>.
                           </p>
                           					
                        </li>
                     </ol>
                     
                     				
                     <h3 id="private-content-canned-policy-creating-policy-statement">Creating a Policy Statement for a Signed URL That Uses a Canned Policy</h3>
                     					
                     
                     					
                     <p>When you create a signed URL using a canned policy, the <code class="code">Signature</code>
                        						parameter is a hashed and signed version of a policy statement. For signed URLs
                        that use
                        						a canned policy, you don&apos;t include the policy statement in the URL, as you do
                        for signed
                        						URLs that use a custom policy. To create the policy statement, perform the following
                        						procedure.
                     </p>
                     
                     					<a id="private-content-canned-policy-creating-policy-statement-procedure"></a><p class="title"><b>To create the policy statement for a signed URL that uses a canned policy</b></p>
                     <ol>
                        <li>
                           							
                           <p>Construct the policy statement using the following JSON format and using UTF-8
                              								character encoding. Include all punctuation and other literal values exactly
                              as
                              								specified. For information about the <code class="code">Resource</code> and
                              									<code class="code">DateLessThan</code> parameters, see <a href="private-content-creating-signed-url-canned-policy.html#private-content-canned-policy-statement-values">Values that You Specify
                                 							in the Policy Statement for a Signed URL That Uses a Canned Policy</a>.
                           </p>
                           							<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">{
   &quot;Statement&quot;:[
      {
         &quot;Resource&quot;:&quot;<em class="replaceable"><code>base URL or stream name</code></em>&quot;,
         &quot;Condition&quot;:{
            &quot;DateLessThan&quot;:{
               &quot;AWS:EpochTime&quot;:<em class="replaceable"><code>ending date and time in Unix time format and UTC</code></em>
            }
         }
      }
   ]
}</code></pre>
                           </li>
                        <li>
                           							
                           <p>Remove all whitespace (including tabs and newline characters) from the policy
                              								statement. You might have to include escape characters in the string in application
                              								code.
                           </p>
                           						
                        </li>
                     </ol>
                     
                     					
                     <h4 id="private-content-canned-policy-statement-values">Values that You Specify
                        							in the Policy Statement for a Signed URL That Uses a Canned Policy
                     </h4>
                     						
                     
                     						
                     <p>When you create a policy statement for a canned policy, you specify the following
                        							values.
                     </p>
                     
                     						
                     <div class="variablelist">
                        							
                        							
                        						
                        <dl>
                           								
                           <dt><b><span class="term">Resource</span></b></dt>
                           								
                           <dd>
                              									
                              <p>The value that you specify depends on whether you&apos;re creating the signed URL
                                 										for a web distribution or an RTMP distribution.
                              </p>
                              									
                              <div class="aws-note">
                                 <p class="aws-note">Note</p>
                                 <p>You can specify only one value for <code class="code">Resource</code>.
                                 </p>
                              </div>
                              									
                              <div class="variablelist">
                                 										
                                 										
                                 									
                                 <dl>
                                    											
                                    <dt><b><span class="term">Web distributions</span></b></dt>
                                    											
                                    <dd>
                                       												
                                       <p>The base URL including your query strings, if any, but excluding the
                                          													CloudFront <code class="code">Expires</code>, <code class="code">Signature</code>, and
                                          														<code class="code">Key-Pair-Id</code> parameters, for example:
                                       </p>
                                       												
                                       <p><code class="code">http://d111111abcdef8.cloudfront.net/images/horizon.jpg?size=large&amp;license=yes</code></p>
                                       												
                                       <p>Note the following:</p>
                                       												
                                       <div class="itemizedlist">
                                          													
                                          													
                                          													
                                          												
                                          <ul class="itemizedlist" type="disc">
                                             <li class="listitem">
                                                														
                                                <p><b>Protocol</b> &#x2013; The value must
                                                   															begin with <code class="code">http://</code> or <code class="code">https://</code>. 
                                                </p>
                                                													
                                             </li>
                                             <li class="listitem">
                                                														
                                                <p><b>Query string parameters</b> &#x2013;
                                                   															If you have no query string parameters, omit the question mark.
                                                </p>
                                                													
                                             </li>
                                             <li class="listitem">
                                                														
                                                <p><b>Alternate domain names</b> &#x2013;
                                                   															If you specify an alternate domain name (CNAME) in the URL, you must
                                                   															specify the alternate domain name when referencing the object in your
                                                   															web page or application. Do not specify the Amazon S3 URL for the
                                                   															object.
                                                </p>
                                                													
                                             </li>
                                          </ul>
                                       </div>
                                       											
                                    </dd>
                                    										
                                    											
                                    <dt><b><span class="term">RTMP distributions</span></b></dt>
                                    											
                                    <dd>
                                       												
                                       <p>Include only the stream name. For example, if the full URL for a
                                          													streaming video is:
                                       </p>
                                       												
                                       <p><code class="code">rtmp://s5c39gqb8ow64r.cloudfront.net/videos/cfx/st/mp3_name.mp3</code></p>
                                       												
                                       <p>then use the following value for <code class="code">Resource</code>:
                                       </p>
                                       												
                                       <p><code class="code">videos/mp3_name</code></p>
                                       												
                                       <p>Do not include a prefix such as <code class="code">mp3:</code> or
                                          													<code class="code">mp4:</code>. Also, depending on the player you&apos;re using, you might
                                          													have to omit the file extension from the value of <code class="code">Resource</code>.
                                          													For example, you might need to use <code class="code">sydney-vacation</code> instead of
                                          														<code class="code">sydney-vacation.flv</code>.
                                       </p>
                                       											
                                    </dd>
                                    										
                                 </dl>
                              </div>
                              								
                           </dd>
                           							
                           								
                           <dt><b><span class="term">DateLessThan</span></b></dt>
                           								
                           <dd>
                              									
                              <p>The expiration date and time for the URL in Unix time format (in seconds)
                                 										and Coordinated Universal Time (UTC). For example, January 1, 2013 10:00
                                 am UTC
                                 										converts to 1357034400 in Unix time format.
                              </p>
                              									
                              <p>This value must match the value of the <code class="code">Expires</code> query string
                                 										parameter in the signed URL. Do not enclose the value in quotation marks.
                              </p>
                              									
                              <p>For more information, see <a href="private-content-signed-urls.html#private-content-check-expiration">When Does CloudFront Check the Expiration Date
                                    				and Time in a Signed URL?</a>.
                              </p>
                              								
                           </dd>
                           							
                        </dl>
                     </div>
                     
                     					
                     
                     					
                     <h4 id="private-content-canned-policy-creating-policy-statement-example">Example Policy Statement for a Signed URL That Uses a Canned Policy</h4>
                     						
                     						
                     <p>When you use the following example policy statement in a signed URL, a user can
                        							access the object <code class="code">http://d111111abcdef8.cloudfront.net/horizon.jpg</code> until January
                        							1, 2013 10:00 am UTC:
                     </p>
                     						<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">{
   &quot;Statement&quot;:[
      {
         &quot;Resource&quot;:&quot;http://d111111abcdef8.cloudfront.net/horizon.jpg?size=large&amp;license=yes&quot;,
         &quot;Condition&quot;:{
            &quot;DateLessThan&quot;:{
               &quot;AWS:EpochTime&quot;:1357034400
            }
         }
      }
   ]
}</code></pre>
                     
                     					
                     
                     				
                     
                     				<h3 id="private-content-canned-policy-signing-policy-statement">Creating a
                        						Signature for a Signed URL That Uses a Canned Policy
                     </h3>
                     					
                     
                     					
                     <p>To create the value for the <code class="code">Signature</code> parameter in a signed URL, you
                        						hash and sign the policy statement that you created in <a href="private-content-creating-signed-url-canned-policy.html#private-content-canned-policy-creating-policy-statement">Creating a Policy Statement for a Signed URL That Uses a Canned Policy</a>. There are
                        						two versions of this procedure. Perform the applicable procedure:
                     </p>
                     					
                     <div class="itemizedlist">
                        						
                        						
                        					
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              							
                              <p><a href="private-content-creating-signed-url-canned-policy.html#private-content-canned-policy-creating-signature-download-procedure">Option 1: To create a signature for a web distribution or for an RTMP distribution
                                    							(without Adobe Flash Player) by using a canned policy</a></p>
                              						
                           </li>
                           <li class="listitem">
                              							
                              <p><a href="private-content-creating-signed-url-canned-policy.html#private-content-canned-policy-creating-signature-streaming-flash-procedure">Option 2: To create a signature for an RTMP distribution by using a canned policy
                                    							(Adobe Flash Player)</a></p>
                              						
                           </li>
                        </ul>
                     </div>
                     
                     					
                     <p>For additional information and examples of how to hash, sign, and encode the policy
                        statement, see:
                     </p>
                     					
                     <div class="itemizedlist">
                        						
                        						
                        						
                        					
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              <p><a href="private-content-linux-openssl.html">Using a Linux Command and OpenSSL for Base64-Encoding and Encryption</a></p>
                           </li>
                           <li class="listitem">
                              <p><a href="PrivateCFSignatureCodeAndExamples.html">Code Examples for Creating a Signature for a Signed URL</a></p>
                           </li>
                           <li class="listitem">
                              <p><a href="Resources.html#resources-distributing-private-content">Tools and Code Examples for Configuring
                                    Private Content</a></p>
                           </li>
                        </ul>
                     </div>
                     
                     
                     					<a id="private-content-canned-policy-creating-signature-download-procedure"></a><p class="title"><b>Option 1: To create a signature for a web distribution or for an RTMP distribution
                           							(without Adobe Flash Player) by using a canned policy</b></p>
                     <ol>
                        <li>
                           							
                           <p>Use the SHA-1 hash function and RSA to hash and sign the policy statement that
                              								you created in the procedure <a href="private-content-creating-signed-url-canned-policy.html#private-content-canned-policy-creating-policy-statement-procedure">To create the policy statement for a signed URL that uses a canned policy</a>. Use the version of the policy statement that no longer includes
                              								whitespace.
                           </p>
                           
                           							
                           <p>For the private key that is required by the hash function, use the private key
                              								that is associated with the applicable active trusted signer.
                           </p>
                           
                           							
                           <div class="aws-note">
                              <p class="aws-note">Note</p>
                              <p>The method that you use to hash and sign the policy statement depends on your
                                 									programming language and platform. For sample code, see <a href="PrivateCFSignatureCodeAndExamples.html">Code Examples for Creating a Signature for a Signed URL</a>.
                              </p>
                           </div>
                           						
                        </li>
                        <li>
                           							
                           <p>Remove whitespace (including tabs and newline characters) from the hashed and
                              								signed string.
                           </p>
                           						
                        </li>
                        <li>
                           							
                           <p>Base64-encode the string using MIME base64 encoding. For more information, see
                              									<a href="http://tools.ietf.org/html/rfc2045#section-6.8" target="_blank">Section 6.8, Base64
                                 									Content-Transfer-Encoding</a> in <em>RFC 2045, MIME (Multipurpose
                                 									Internet Mail Extensions) Part One: Format of Internet Message
                                 								Bodies</em>.
                           </p>
                           
                        </li>
                        <li>
                           							
                           <p>Replace characters that are invalid in a URL query string with characters that
                              								are valid. The following table lists invalid and valid characters.
                           </p>
                           							
                           <div class="table">
                              <p class="title"><b></b></p>
                              <div class="table-contents">
                                 <table id="w313aac27c45c21c15b8c10c16b3">
                                    									  
                                    <tbody><tr>
                                       									    
                                       <th>Replace these invalid characters</th>
                                       									    
                                       <th>With these valid characters</th>
                                       									  
                                    </tr>
                                    									
                                    									  
                                    <tr>
                                       									    
                                       <td>
                                          <p>+</p>
                                       </td>
                                       									    
                                       <td>
                                          <p>- (hyphen)</p>
                                       </td>
                                       									  
                                    </tr>
                                    									  
                                    <tr>
                                       									    
                                       <td>
                                          <p>=</p>
                                       </td>
                                       									    
                                       <td>
                                          <p>_ (underscore)</p>
                                       </td>
                                       									  
                                    </tr>
                                    									  
                                    <tr>
                                       									    
                                       <td>
                                          <p>/</p>
                                       </td>
                                       									    
                                       <td>
                                          <p>~ (tilde)</p>
                                       </td>
                                       									  
                                    </tr>
                                    									
                                 </tbody></table>
                              </div>
                           </div>
                           
                        </li>
                        <li>
                           							
                           <p>Append the resulting value to your signed URL after <code class="code">&amp;Signature=</code>, and return to <a href="private-content-creating-signed-url-canned-policy.html#private-content-creating-signed-url-canned-policy-procedure">To create a
                                 					signed URL using a canned policy</a> to
                              								finish concatenating the parts of your signed URL.
                           </p>
                           
                        </li>
                     </ol>
                     
                     <a id="private-content-canned-policy-creating-signature-streaming-flash-procedure"></a><p class="title"><b>Option 2: To create a signature for an RTMP distribution by using a canned policy
                           							(Adobe Flash Player)</b></p>
                     <ol>
                        <li>
                           							
                           <p>Use the SHA-1 hash function and RSA to hash and sign the policy statement that
                              								you created in the <a href="private-content-creating-signed-url-canned-policy.html#private-content-canned-policy-creating-policy-statement-procedure">To create the policy statement for a signed URL that uses a canned policy</a> procedure. Use the version of the policy statement that no longer includes
                              								whitespace.
                           </p>
                           
                           							
                           <p>For the private key that is required by the hash function, use the private key
                              								that is associated with the applicable active trusted signer.
                           </p>
                           
                           							
                           <div class="aws-note">
                              <p class="aws-note">Note</p>
                              <p>The method that you use to hash and sign the policy statement depends on your
                                 									programming language and platform. For sample code, see <a href="PrivateCFSignatureCodeAndExamples.html">Code Examples for Creating a Signature for a Signed URL</a>.
                              </p>
                           </div>
                           
                        </li>
                        <li>
                           							
                           <p>Remove whitespace (including tabs and newline characters) from the hashed and
                              								signed string.
                           </p>
                           							
                           <p>Continue on to Step 3 if you&apos;re using Adobe Flash Player and the stream name is
                              								passed in from a web page.
                           </p>
                           							
                           <p>If you&apos;re using Adobe Flash Player and if the stream name is not passed in from
                              								a web page, skip the rest of this procedure. For example, if you wrote your
                              own
                              								player that fetches stream names from within the Adobe Flash .swf file, skip
                              the
                              								rest of this procedure.
                           </p>
                           
                        </li>
                        <li>
                           							
                           <p>Base64-encode the string using MIME base64 encoding. For more information, see
                              									<a href="http://tools.ietf.org/html/rfc2045#section-6.8" target="_blank">Section 6.8, Base64
                                 									Content-Transfer-Encoding</a> in <em>RFC 2045, MIME (Multipurpose
                                 									Internet Mail Extensions) Part One: Format of Internet Message
                                 								Bodies</em>.
                           </p>
                           
                        </li>
                        <li>
                           							
                           <p>Replace characters that are invalid in a URL query string with characters that
                              								are valid. The following table lists invalid and valid characters.
                           </p>
                           							
                           <div class="table">
                              <p class="title"><b></b></p>
                              <div class="table-contents">
                                 <table id="w313aac27c45c21c15b8c12c16b3">
                                    									  
                                    <tbody><tr>
                                       									    
                                       <th>Replace these invalid characters</th>
                                       									    
                                       <th>With these valid characters</th>
                                       									  
                                    </tr>
                                    									
                                    									  
                                    <tr>
                                       									    
                                       <td>
                                          <p>+</p>
                                       </td>
                                       									    
                                       <td>
                                          <p>- (hyphen)</p>
                                       </td>
                                       									  
                                    </tr>
                                    									  
                                    <tr>
                                       									    
                                       <td>
                                          <p>=</p>
                                       </td>
                                       									    
                                       <td>
                                          <p>_ (underscore)</p>
                                       </td>
                                       									  
                                    </tr>
                                    									  
                                    <tr>
                                       									    
                                       <td>
                                          <p>/</p>
                                       </td>
                                       									    
                                       <td>
                                          <p>~ (tilde)</p>
                                       </td>
                                       									  
                                    </tr>
                                    									
                                 </tbody></table>
                              </div>
                           </div>
                           
                        </li>
                        <li>
                           							
                           <p>Some versions of Adobe Flash Player require that you URL-encode the characters
                              								?, =, and &amp;. For information about whether your version of Adobe Flash Player
                              								requires this character substitution, refer to the Adobe website.
                           </p>
                           							
                           <p>If your version of Flash does not require URL-encoding those character, skip to
                              								Step 6.
                           </p>
                           							
                           <p>If your version of Flash requires URL-encoding those characters, replace them as
                              								indicated in the following table. (You already replaced = in the previous
                              								step.)
                           </p>
                           							
                           <div class="table">
                              <p class="title"><b></b></p>
                              <div class="table-contents">
                                 <table id="w313aac27c45c21c15b8c12c20b7">
                                    									  
                                    <tbody><tr>
                                       									    
                                       <th>Replace these invalid characters</th>
                                       									    
                                       <th>With this URL encoding</th>
                                       									  
                                    </tr>
                                    									
                                    									  
                                    <tr>
                                       									    
                                       <td>
                                          <p>?</p>
                                       </td>
                                       									    
                                       <td>
                                          <p>%3F</p>
                                       </td>
                                       									  
                                    </tr>
                                    									  
                                    <tr>
                                       									    
                                       <td>
                                          <p>&amp;</p>
                                       </td>
                                       									    
                                       <td>
                                          <p>%26</p>
                                       </td>
                                       									  
                                    </tr>
                                    									
                                 </tbody></table>
                              </div>
                           </div>
                           
                        </li>
                        <li>
                           							
                           <p>Append the resulting value to your signed URL after <code class="code">&amp;Signature=</code>, and return to <a href="private-content-creating-signed-url-canned-policy.html#private-content-creating-signed-url-canned-policy-procedure">To create a
                                 					signed URL using a canned policy</a> to
                              								finish concatenating the parts of your signed URL.
                           </p>
                           
                        </li>
                     </ol>
                     
                     
                     
                     
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="private-content-signed-urls.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="private-content-creating-signed-url-custom-policy.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Creating a Signature for a Signed URL That Uses a Canned Policy"><a class="pagetoc" href="#private-content-canned-policy-creating-signature">Creating a Signature for a Signed URL That Uses a Canned Policy</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='Amazon CloudFront';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='Developer Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>