<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>Troubleshooting Distribution Issues - Amazon CloudFront</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="Troubleshooting.html" title="Troubleshooting">
      <link rel="prev" href="Troubleshooting.html" title="Troubleshooting">
      <link rel="next" href="troubleshooting-response-errors.html" title="Troubleshooting Error Responses from Your Origin">
      <meta name="description" content="General issues you might experience using CloudFront.">
      <meta name="keywords" content="Amazon CloudFront,CloudFront,cache,distribution,edge,geo,HTTP,HTTPS,media,origin,RTMP,streaming">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="Amazon CloudFront">
      <meta name="guide" content="Developer Guide">
      <meta name="guide-locale" content="en_us">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/troubleshooting-distributions.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="http://aws.amazon.com/documentation">AWS Documentation</a> &#xBB; <a href="http://aws.amazon.com/documentation/cloudfront">Amazon CloudFront</a> &#xBB; <a href="index.html">Developer Guide</a> &#xBB; <a href="Troubleshooting.html">Troubleshooting</a> &#xBB; <span class="breadcrumb">Troubleshooting Distribution Issues</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div></div>
                     <h1 class="topictitle" id="troubleshooting-distributions">Troubleshooting Distribution Issues</h1>
                     <p>Use the information here to help you diagnose and fix access-denied issues or other
                        common
                        			issues that you might encounter when working with Amazon CloudFront distributions.
                     </p>
                     <h2 id="troubleshooting-web-distribution">I Can&apos;t View the Files in My Web
                        				Distribution
                     </h2>
                     			
                     			
                     <p>If you can&apos;t view the files in your CloudFront web distribution, see the following
                        topics for
                        				some common solutions.
                     </p>
                     			
                     <h3 id="Troubleshooting.SigningUp">Did You Sign Up for Both CloudFront and Amazon S3?</h3>
                     				
                     				
                     <p>To use Amazon CloudFront with an Amazon S3 origin, you must sign up for both CloudFront
                        and Amazon S3,
                        					separately. For more information about signing up for CloudFront and Amazon S3,
                        see <a href="GettingStarted.html">Getting Started with CloudFront</a>.
                     </p>
                     			
                     			
                     <h3 id="Troubleshooting.Permissions">Are Your Amazon S3 Bucket and Object Permissions
                        					Set Correctly?
                     </h3>
                     				
                     				
                     <p>If you are using CloudFront with an Amazon S3 origin, the original versions of your
                        content are
                        					stored in an Amazon S3 bucket. The easiest way to use CloudFront with Amazon
                        S3 is to make all your
                        					objects publicly readable in Amazon S3. To do this, you must explicitly enable
                        public read
                        					privileges for each object that you upload to Amazon S3.
                     </p>
                     				
                     <p>If your content is not publicly readable, you must create a CloudFront origin access
                        					identity so that CloudFront can access it. For more information about CloudFront
                        origin access
                        					identities, see <a href="private-content-restricting-access-to-s3.html">Using an Origin Access Identity to Restrict Access to Your Amazon S3 Content</a>.
                     </p>
                     				
                     <p>Object properties and bucket properties are independent. You must explicitly grant
                        					privileges to each object in Amazon S3. Objects do not inherit properties from
                        buckets, and
                        					object properties must be set independently of the bucket.
                     </p>
                     			
                     			
                     <h3 id="Troubleshooting.CNAME">Is Your Alternate Domain Name (CNAME) Correctly
                        					Configured?
                     </h3>
                     				
                     				
                     <p>If you already have an existing CNAME record for your domain name, update that record
                        					or replace it with a new one that points to your distribution&apos;s domain name.
                     </p>
                     				
                     <p>Also, make sure that your CNAME record points to your distribution&apos;s domain name,
                        not
                        					your Amazon S3 bucket. You can confirm that the CNAME record in your DNS system
                        points to your
                        					distribution&apos;s domain name. To do so, use a DNS tool like dig. For information
                        about dig,
                        					see <a href="http://www.kloth.net/services/dig.php" target="_blank">http://www.kloth.net/services/dig.php</a>.
                     </p>
                     				
                     <p>The following example shows a dig request for a domain name called
                        						<code class="code">images.example.com</code> and the relevant part of the response. Under
                        						<code class="code">ANSWER SECTION</code>, see the line that contains <code class="code">CNAME</code>. The CNAME
                        					record for your domain name is set up correctly if the value on the right side
                        of CNAME is
                        					your CloudFront distribution&apos;s domain name. If it&apos;s your Amazon S3 origin server
                        bucket or some other
                        					domain name, then the CNAME record is set up incorrectly.
                     </p>
                     				<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">
	[prompt]&gt;
 dig images.example.com
	
	; &lt;&lt;&gt; DiG 9.3.3rc2 &lt;&lt;&gt; images.example.com
	;; global options:	printcmd
	;; Got answer:
	;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 15917
	;; flags: qr rd ra; QUERY: 1, ANSWER: 9, AUTHORITY: 2, ADDITIONAL: 0
	;; QUESTION SECTION:
	;images.example.com.		 IN		A
	;; ANSWER SECTION:
	images.example.com. 10800 IN	CNAME	d111111abcdef8.cloudfront.net.
	...
	...
	</code></pre>
                     				<p>For more information about CNAMEs, see <a href="CNAMEs.html">Adding and Moving Alternate Domain Names (CNAMEs)</a>.
                     </p>
                     			
                     			
                     <h3 id="Troubleshooting.URL">Are You Referencing the Correct URL for Your CloudFront
                        					Distribution?
                     </h3>
                     				
                     				
                     <p>Make sure that the URL that you&apos;re referencing uses the domain name (or CNAME) of
                        your
                        					CloudFront distribution, not your Amazon S3 bucket or custom origin. 
                     </p>
                     			
                     			
                     <h3 id="Troubleshooting.CustomOrigin">Do You Need Help Troubleshooting a Custom
                        					Origin?
                     </h3>
                     				
                     				
                     <p>If you need AWS to help you troubleshoot a custom origin, we probably will need to
                        					inspect the <code class="code">X-Amz-Cf-Id</code> header entries from your requests. If you are not
                        					already logging these entries, you might want to consider it for the future.
                        For more
                        					information, see <a href="DownloadDistS3AndCustomOrigins.html#concept_CustomOrigin">Using Amazon EC2 or Other Custom Origins</a>. 
                        					For further help, see the <a href="https://console.aws.amazon.com/support/home#/" target="_blank">AWS Support Center</a>.
                     </p>
                     			
                     		
                     <h2 id="Troubleshooting.Configuration">I Can&apos;t View the Files in My RTMP
                        				Distribution
                     </h2>
                     			
                     			
                     <p>If you can&apos;t view the files in your RTMP distribution, are your URL and your playback
                        				client correctly configured? RTMP distributions require you to use an RTMP protocol
                        instead
                        				of HTTP, and you must make a few minor configuration changes to your playback
                        client. For
                        				information about creating RTMP distributions, see <a href="distribution-rtmp-creating.html">Task List for Streaming Media Files Using RTMP</a>. 
                     </p>
                     		
                     			
                     <h2 id="troubleshooting-certificate-error">Error Message: Certificate: &lt;certificate-id&gt; Is Being Used by CloudFront</h2>
                     			
                     			
                     <p><b>Problem:</b> You&apos;re trying to delete an SSL/TLS certificate
                        				from the IAM certificate store, and you&apos;re getting the message &quot;Certificate:
                        				&lt;certificate-id&gt; is being used by CloudFront.&quot;
                     </p>
                     			
                     <p><b>Solution:</b> Every CloudFront web distribution must be
                        				associated either with the default CloudFront certificate or with a custom SSL/TLS
                        certificate.
                        				Before you can delete an SSL/TLS certificate, you must either rotate the certificate
                        				(replace the current custom SSL/TLS certificate with another custom SSL/TLS certificate)
                        or
                        				revert from using a custom SSL/TLS certificate to using the default CloudFront
                        certificate. To do
                        				that, perform the procedure in the applicable section:
                     </p>
                     			
                     <div class="itemizedlist">
                        				
                        				
                        			
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              					
                              <p><a href="cnames-and-https-rotate-certificates.html">Rotating SSL/TLS Certificates</a></p>
                              				
                           </li>
                           <li class="listitem">
                              					
                              <p><a href="cnames-and-https-revert-to-cf-certificate.html">Reverting from a Custom SSL/TLS Certificate to the Default CloudFront Certificate</a></p>
                              				
                           </li>
                        </ul>
                     </div>
                     		
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="Troubleshooting.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="troubleshooting-response-errors.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="I Can&apos;t View the Files in My Web
				Distribution"><a class="pagetoc" href="#troubleshooting-web-distribution">I Can&apos;t View the Files in My Web
                              				Distribution</a></li>
                        <li class="pagetoc" name="I Can&apos;t View the Files in My RTMP
				Distribution"><a class="pagetoc" href="#Troubleshooting.Configuration">I Can&apos;t View the Files in My RTMP
                              				Distribution</a></li>
                        <li class="pagetoc" name="Error Message: Certificate: &lt;certificate-id&gt; Is Being Used by CloudFront"><a class="pagetoc" href="#troubleshooting-certificate-error">Error Message: Certificate: &lt;certificate-id&gt; Is Being Used by CloudFront</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='Amazon CloudFront';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='Developer Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>