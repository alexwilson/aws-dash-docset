<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>HTTP 503 Status Code (Service Unavailable) - Amazon CloudFront</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="home" href="#top">
      <link rel="up" href="troubleshooting-response-errors.html" title="Troubleshooting Error Responses from Your Origin">
      <link rel="prev" href="http-502-bad-gateway.html" title="HTTP 502 Status Code (Bad Gateway)">
      <link rel="next" href="http-504-gateway-timeout.html" title="HTTP 504 Status Code (Gateway Timeout)">
      <meta name="description" content="An HTTP 503 status code (Service Unavailable) typically indicates a performance issue on the origin server. In rare cases, it indicates that CloudFront temporarily can&apos;t satisfy a request because of limited resources at an edge location.">
      <meta name="keywords" content="Amazon CloudFront,CloudFront,cache,distribution,edge,geo,HTTP,HTTPS,media,origin,RTMP,streaming">
      <meta name="deployment_region" content="IAD">
      <meta name="product" content="Amazon CloudFront">
      <meta name="guide" content="Developer Guide">
      <meta name="guide-locale" content="en_us">
      <link rel="icon" type="image/ico" href="/images/favicon.ico">
      <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">
      <link rel="canonical" href="https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/http-503-service-unavailable.html">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/font-awesome.min.css">
      <link rel="stylesheet" type="text/css" href="../../../css/google-font.css">
      <link id="code-style" rel="stylesheet" type="text/css" href="../../../css/light.css">
      <link rel="stylesheet" type="text/css" href="../../../css/jquery-ui.theme.css">
      <link rel="stylesheet" type="text/css" href="../../../css/colorbox.css">
      <link rel="stylesheet" type="text/css" href="../../../css/awsdocs.css"><script type="text/javascript" src="/js/highlight.pack.js"></script><script type="text/javascript" src="/js/jquery.min.js"></script><script type="text/javascript" src="/js/jquery-ui.min.js"></script><script type="text/javascript" src="/js/handlebars.js"></script><script type="text/javascript" src="/js/jquery.colorbox.js"></script><script type="text/javascript" src="/js/awsdocs.min.js?v=20170615"></script></head>
   <body id="top">
      
      <div id="content-container">
         
         <div id="main-column">
            <div id="main">
               <div id="main-content">
                  <div id="main-col-body">
                     <table summary="Breadcrumbs">
                        <tbody><tr>
                           <td>
                              <div class="breadcrumb"><a href="http://aws.amazon.com/documentation">AWS Documentation</a> &#xBB; <a href="http://aws.amazon.com/documentation/cloudfront">Amazon CloudFront</a> &#xBB; <a href="index.html">Developer Guide</a> &#xBB; <a href="Troubleshooting.html">Troubleshooting</a> &#xBB; <a href="troubleshooting-response-errors.html">Troubleshooting Error Responses from Your Origin</a> &#xBB; <span class="breadcrumb">HTTP 503 Status Code (Service Unavailable)</span></div>
                           </td>
                        </tr>
                     </tbody></table>
                     <div></div>
                     <h1 class="topictitle" id="http-503-service-unavailable">HTTP 503 Status Code (Service Unavailable)</h1>
                     <p>An HTTP 503 status code (Service Unavailable) typically indicates a performance issue
                        on
                        				the origin server. In rare cases, it indicates that CloudFront temporarily can&apos;t
                        satisfy a request
                        				because of limited resources at an edge location.
                     </p>
                     <div class="highlights" id="inline-topiclist">
                        <p><strong>Topics</strong></p>
                        <ul>
                           <li><a href="#http-503-service-unavailable-not-enough-origin-capacity">Origin Server Does Not Have Enough Capacity to
                                 					Support the Request Rate</a></li>
                           <li><a href="#http-503-service-unavailable-origin-domain-dns-issues">CloudFront Was Not Able to Resolve Your Origin Domain
                                 					Due to DNS Issues</a></li>
                           <li><a href="#http-503-service-unavailable-limited-resources-at-edge-location">
                                 				CloudFront Caused the Error Due to Limited Resources at the Edge Location</a></li>
                           <li><a href="#http-503-service-unavailable-lambda-function-invalid">
                                 				Lambda Function Associated with Your Distribution Caused a Runtime Error</a></li>
                        </ul>
                     </div>
                     <h2 id="http-503-service-unavailable-not-enough-origin-capacity">Origin Server Does Not Have Enough Capacity to
                        					Support the Request Rate
                     </h2>
                     				
                     				
                     <p>CloudFront generates this error when the origin server is overwhelmed with incoming
                        					requests. CloudFront then relays the error back to the user. To resolve this
                        issue, try the
                        					following solutions:
                     </p>
                     				
                     <div class="itemizedlist">
                        					
                        					
                        					
                        				
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              						
                              <p>If you use Amazon S3 as your origin server, optimize the performance of Amazon S3
                                 by
                                 							following the best practices for key naming. For more information, see <a href="./AmazonS3/latest/dev/request-rate-perf-considerations.html" target="_blank">Request Rate and Performance
                                    								Considerations</a> in the <em>Amazon Simple Storage Service Developer Guide</em>.
                              </p>
                              					
                           </li>
                           <li class="listitem">
                              						
                              <p>If you use Elastic Load Balancing as your origin server, see <a href="https://aws.amazon.com/premiumsupport/knowledge-center/503-error-classic/" target="_blank">503
                                    								Error Classic</a>.
                              </p>
                              					
                           </li>
                           <li class="listitem">
                              						
                              <p>If you use a custom origin, examine the application logs to ensure that your
                                 							origin has sufficient resources, such as memory, CPU, and disk size. If you
                                 use Amazon EC2
                                 							as the backend, make sure that the instance type has the appropriate resources
                                 to
                                 							fulfill the incoming requests. For more information, see <a href="./AWSEC2/latest/DeveloperGuide/instance-types.html" target="_blank">Instance Types</a> in the
                                 								<em>Amazon EC2 User Guide for Linux Instances</em>.
                              </p>
                              					
                           </li>
                        </ul>
                     </div>
                     			
                     <h2 id="http-503-service-unavailable-origin-domain-dns-issues">CloudFront Was Not Able to Resolve Your Origin Domain
                        					Due to DNS Issues
                     </h2>
                     				
                     				
                     <p>When CloudFront receives a request for an object that is expired or is not stored
                        in its
                        					cache, it makes a request to the origin to get the updated object. To make a
                        successful
                        					request to the origin, CloudFront performs a DNS resolution on the origin domain
                        name. However,
                        					when the DNS service that hosts your domain is experiencing issues, CloudFront
                        cannot resolve
                        					the domain name to get the IP address, resulting in a 503 error. To fix this
                        issue,
                        					contact your DNS provider, or, if you are using Amazon Route&#xA0;53, see <a href="https://aws.amazon.com/premiumsupport/knowledge-center/route-53-dns-website-unreachable/" target="_blank">Amazon Route&#xA0;53 DNS</a>.
                     </p>
                     				
                     <p>To further troubleshoot this issue, ensure that the <a href="./Route53/latest/DeveloperGuide/route-53-concepts.html#route-53-concepts-authoritative-name-server" target="_blank">authoritative name servers</a> of your origin&apos;s root domain or zone apex (such as
                        						<code class="code">example.com</code>) are functioning correctly. Your authoritative name servers
                        					then receive the request and return the IP address that is associated with the
                        domain, and
                        					are the same as the DNS servers that you used to set up your CloudFront distribution.
                        Use the
                        					following commands to find the name servers for your apex origin:
                     </p> 
                     					<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">dig <em class="replaceable"><code>OriginAPEXDomainName</code></em> NS +short 
nslookup &#x2013;query=NS <em class="replaceable"><code>OriginAPEXDomainName</code></em></code></pre>
                     					<p>When you have the names of your name servers, use the following commands to query
                        						the domain name of your origin against them to make sure that each responds
                        with an
                        						answer:
                     </p>
                     					<pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">dig OriginDomainName @NameServerFromAbove
nslookup OriginDomainName NameServerFromAbove</code></pre>
                     			<h2 id="http-503-service-unavailable-limited-resources-at-edge-location">
                        				CloudFront Caused the Error Due to Limited Resources at the Edge Location
                     </h2>
                     				
                     				
                     <p>You will receive this error in the rare situation that CloudFront can&apos;t route requests
                        to the next best available edge location, 
                        					and so can&apos;t satisfy a request. This error is common when you perform load testing
                        on your CloudFront distribution. To help prevent
                        					this, follow the <a href="load-testing.html">Load Testing CloudFront</a> guidelines for
                        					avoiding 503 (Capacity Exceeded) errors.
                     </p>
                     				
                     <p>If this happens in your production environment, contact 
                        					<a href="https://console.aws.amazon.com/support/home" target="_blank">AWS Support</a>.
                     </p>
                     			
                     <h2 id="http-503-service-unavailable-lambda-function-invalid">
                        				Lambda Function Associated with Your Distribution Caused a Runtime Error
                     </h2>
                     				
                     				
                     <p>CloudFront returns this error when a Lambda@Edge function that is configured on a
                        cache behavior for your distribution
                        				returns an error during runtime and exits before the CloudFront request is fulfilled.
                     </p>
                     				
                     <p>To troubleshoot this issue, examine the execution logs for your Lambda function. Make
                        sure you look at the log files in the region
                        					where the function executed. For more information, see 
                        					<a href="lambda-cloudwatch-metrics-logging.html">CloudWatch Metrics and CloudWatch Logs for Lambda Functions</a>.
                     </p>
                     			
                  </div>
                  <noscript>
                     <div>
                        <div>
                           <div>
                              <div id="js_error_message">
                                 <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your browser.</strong></p>
                                 <p>To use the AWS Documentation, Javascript must be enabled. Please refer to your browser's
                                    Help pages for instructions.
                                 </p>
                              </div>
                           </div>
                        </div>
                     </div>
                  </noscript>
                  <div id="main-col-footer">
                     <div id="doc-conventions"><a target="_top" href="/general/latest/gr/docconventions.html">Document Conventions</a></div>
                     <div id="next"><a class="awstoc" accesskey="p" href="http-502-bad-gateway.html">&#xAB; Previous </a><a class="awstoc" accesskey="n" href="http-504-gateway-timeout.html">Next &#xBB;</a></div>
                     <div id="copyright-main-footer">&#xA9; 2018, Amazon Web Services, Inc. or its affiliates. All rights reserved.</div>
                  </div>
               </div>
            </div>
            <div id="right-expanded">
               <div id="right-content-wrapper">
                  <div id="pagetoc">
                     <p>On this page:</p>
                     <ul class="pagetoc">
                        <li class="pagetoc" name="Origin Server Does Not Have Enough Capacity to
					Support the Request Rate"><a class="pagetoc" href="#http-503-service-unavailable-not-enough-origin-capacity">Origin Server Does Not Have Enough Capacity to
                              					Support the Request Rate</a></li>
                        <li class="pagetoc" name="CloudFront Was Not Able to Resolve Your Origin Domain
					Due to DNS Issues"><a class="pagetoc" href="#http-503-service-unavailable-origin-domain-dns-issues">CloudFront Was Not Able to Resolve Your Origin Domain
                              					Due to DNS Issues</a></li>
                        <li class="pagetoc" name="
				CloudFront Caused the Error Due to Limited Resources at the Edge Location"><a class="pagetoc" href="#http-503-service-unavailable-limited-resources-at-edge-location">
                              				CloudFront Caused the Error Due to Limited Resources at the Edge Location</a></li>
                        <li class="pagetoc" name="
				Lambda Function Associated with Your Distribution Caused a Runtime Error"><a class="pagetoc" href="#http-503-service-unavailable-lambda-function-invalid">
                              				Lambda Function Associated with Your Distribution Caused a Runtime Error</a></li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </div>
      
      <!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://a0.awsstatic.com/s_code/js/1.0/awshome_s_code.js"></script><script language="JavaScript" type="text/javascript">
         <!--

            // Documentation Service Name
            s.prop66='Amazon CloudFront';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='Developer Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript">
         <!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="https://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt="" /></noscript>
      <!--/DO NOT REMOVE/-->
      <!-- End SiteCatalyst code version: H.25.2. -->
   
</body></html>